function makeDiv(){return $("<div></div>")}function verticalAlign(a){var b=parseInt(a.height())+parseInt(a.css("paddingTop"))+parseInt(a.css("paddingBottom"));a.css("top",($(window).height()-b)/2)}function centerOnPage(a){var b=parseInt(a.width())+parseInt(a.css("paddingLeft"))+parseInt(a.css("paddingRight")),c=parseInt(a.height())+parseInt(a.css("paddingTop"))+parseInt(a.css("paddingBottom"));a.css("left",($(window).width()-b)/2);a.css("top",($(window).height()-c)/2)}
function removeFromArray(a,b){var c=b.indexOf(a);-1!=c&&b.splice(c,1)}function randomFromArray(a){var b=Math.floor(Math.random()*a.length);return a[b]}function pushLuck(a){return Math.random()<a}function randomVariation(a,b,c,d){c=void 0!=c?c:MIN_MULTIPLIER;d=void 0!=d?d:MAX_MULTIPLIER;d=Math.random()*(d-c)+c;void 0!=b&&(d=Math.pow(d,b));a=Math.round(a*d);1>=a&&(a=1);return a}function calculateIV(){return Math.random()*(IV_MAX-IV_MIN)+IV_MIN}
function orDefault(a,b){return void 0==typeof a||void 0==a?b:a}var conversionTable=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e"];function hexToDec(a){if(isNaN(a))switch(a){case "a":return 10;case "b":return 11;case "c":return 12;case "d":return 13;case "e":return 14;case "f":return 15}else return a}function decToHex(a){return conversionTable[a]}function getTile(a,b){return $("#"+decToHex(a)+decToHex(b))}function isOutsideBoard(a,b){return 0>a||0>b||a>=NUM_TILES_SIDE||b>=NUM_TILES_SIDE}
function isUpperCase(a){return a.toUpperCase===a}function isLowerCase(a){return!isUpperCase(a)}function isInt(a){return isNaN(a)?!1:Math.round(a)==a}function show_props(a,b){var c="",d;for(d in a)c+=b+"."+d+" = "+a[d]+"\n";return c};function Flags(){this.flags={}}Flags.prototype.getFlag=function(a){void 0==this.flags[a]&&(this.flags[a]=0);return this.flags[a]};Flags.prototype.setFlag=function(a,b){this.flags[a]=b};Flags.prototype.increaseFlag=function(a,b){this.setFlag(a,this.getFlag(a)+b)};Flags.prototype.hasFlag=function(a){return void 0!=this.flags[a]};Flags.prototype.reset=function(){for(key in this.flags)delete this.flags[key]};function Direction(a,b){this.x=a;this.y=b}
Direction.prototype.array=function(){return[this.x,this.y]};function DifficultyLevel(a,b,c){this.name=a;this.HPMultiplier=orDefault(b,1);this.expMultiplier=orDefault(c,1)}function Dialogue(a,b,c,d){this.speaker=a;this.image="images/animals/"+b.toLowerCase()+".png";this.side=c;this.text=d}var CURRENT_DIALOGUE=0;
function startActiveLevelStartDialogues(){currentLevel.startDialogues&&0<currentLevel.startDialogues.length&&(CURRENT_DIALOGUE=0,loadDialogue(currentLevel.startDialogues[CURRENT_DIALOGUE]),$("#dialogue_next_button").unbind("click"),$("#dialogue_next_button").click(function(){CURRENT_DIALOGUE++;CURRENT_DIALOGUE>=currentLevel.startDialogues.length?hideDialogue():loadDialogue(currentLevel.startDialogues[CURRENT_DIALOGUE])}),$("#dialogue_close_button").unbind("click"),$("#dialogue_close_button").click(function(){CURRENT_DIALOGUE=
currentLevel.startDialogues.length;hideDialogue()}))}
function startActiveLevelEndDialogues(){currentLevel.endDialogues&&0<currentLevel.endDialogues.length?(CURRENT_DIALOGUE=0,loadDialogue(currentLevel.endDialogues[CURRENT_DIALOGUE]),$("#dialogue_next_button").unbind("click"),$("#dialogue_next_button").click(function(){CURRENT_DIALOGUE++;CURRENT_DIALOGUE>=currentLevel.endDialogues.length?(hideDialogue(),currentLevel.end()):loadDialogue(currentLevel.endDialogues[CURRENT_DIALOGUE])}),$("#dialogue_close_button").unbind("click"),$("#dialogue_close_button").click(function(){hideDialogue();
currentLevel.end()})):currentLevel.end()}function loadDialogue(a){if(a){$("#dialogue-image").qtip("show");$("#dialogue-image").qtip("option",{"content.text":a.text});$("#ui-tooltip-dialogue-title").html(a.speaker);$("#dialogue-image").attr("src",a.image);var b;switch(a.side){case ALLY:b="green";break;case ENEMY:b="red";break;case NEUTRAL:b="blue";break;case SIGN:b="light"}$("#dialogue-image").qtip("options",{"style.classes":"ui-tooltip-"+b});$("#dialogue").css("visibility","visible")}}
function hideDialogue(){$("#dialogue").css("visibility","hidden");$("#dialogue-image").qtip("hide")}function dEnemy(a,b,c){return new Dialogue(c||a,a.toLowerCase(),ENEMY,b)}function dCharacter(a){return dAlly(MAIN_CHAR_NAME,"elephant",a)}function dAlly(a,b,c){return new Dialogue(a,b,ALLY,c)}function dNeutral(a,b,c){return new Dialogue(a,b,NEUTRAL,c)}function dSign(a){return new Dialogue("Sign","Sign",SIGN,a)}function Act(a,b){this.number=a;this.getStage=b}
var Logger={logDiv:null,log:function(a,b){this.logDiv||(this.logDiv=$("#log-content"));var c=$("<div></div>");c.addClass("log_entry");c.addClass(b||"");c.html(a);this.logDiv.prepend(c)}};var TRACKING_ON=!0,UP=new Direction(0,-1),LEFT=new Direction(-1,0),DOWN=new Direction(0,1),RIGHT=new Direction(1,0),MAIN_CHAR_NAME="hathix",MAX_ALLIES=5,MAX_ALLIES_FOR_BONUS=4,MAX_LEVEL=10,BASE_EXPERIENCE_PER_LEVEL=1E3,EXPERIENCE_PER_LEVEL=BASE_EXPERIENCE_PER_LEVEL,EXPERIENCE_FOR_DEFEAT=150,EXPERIENCE_FOR_ATTACK=5,EXPERIENCE_FOR_BOSS=400,TEAM_LEVEL_BONUS=0.5,HEALTH_RED_THRESHOLD=1/3,IV_VARIATION=0.05,IV_MAX=1-IV_VARIATION,IV_MIN=1+IV_VARIATION,SHINY_IV_THRESHOLD=1+IV_VARIATION/2,MULTIPLIER_VARIATION=
0.3,MIN_MULTIPLIER=1-MULTIPLIER_VARIATION,MAX_MULTIPLIER=1+MULTIPLIER_VARIATION,CHANCE_OF_MISS=0.1,CHANCE_OF_CRITICAL=0.1,CRITICAL_MULTIPLIER=2,CHANCE_OF_ABILITY_USE=0.2,CHANCE_OF_RECRUITMENT=0.2,ANIMATION_LENGTH=250,FLAG_FOES_KILLED="foesKilled",FLAG_STUNNED="stunned",FLAG_LOCKDOWN_TURNS_LEFT="turnsLeft",ALLY="ally",ENEMY="enemy",SIGN="sign",NEUTRAL="neutral",TILE_SIZE=40,NUM_TILES_SIDE=15,IMAGE_FOLDER="images",ANIMAL_FOLDER="images/animals",TILE_FOLDER="images/tiles",OBSTACLE_FOLDER="images/obstacles",
STEPPABLE_FOLDER="images/steppables",NUM_ACTS=5,STAGES_PER_ACT=9,SECRET_STAGE="???",DIFFICULTY_LEVELS=[new DifficultyLevel("Easy",0.75,1),new DifficultyLevel("Normal",1,1),new DifficultyLevel("Hard",1.25,1),new DifficultyLevel("Insane",1.5,1.1),new DifficultyLevel("Fiendish",2,1.25)],ENEMY_HP_MULTIPLIER=1,FULL_HEART=100,HALF_HEART=50,QUARTER_HEART=25,GRASS="g",PATH="p",ROAD="r",DIRT="d",CONCRETE="c",TILE="t",WOOD="w",BRIDGE_NS="B",BRIDGE_EW="b",SNOW="s",SAVANNAH="v",WATER="W",RED_CARPET="R";var acts=[],difficultyLevel=DIFFICULTY_LEVELS[1],currentLevel=null,isMinigameOn=!1,secretElephantClicked=!1,activeAlly=null;function setActiveAlly(a){deselectActiveAlly();activeAlly=a;a.div.addClass("selected");a.div.qtip("show");a.div.unbind("click");a.div.click(function(){deselectActiveAlly()})}
function deselectActiveAlly(){activeAlly&&(activeAlly.div.removeClass("selected"),activeAlly.div.unbind("click"),activeAlly.div.click(function(){var a=$(this).attr("id");setActiveAlly(getObjectById(a))}),activeAlly=null)}var defeatedEnemy=null,killedAlly=null,allies=[],enemies=[],allObjects=[];function cleanObjectLists(){enemies=[];allObjects=[];for(var a=0;a<allies.length;a++)addObject(allies[a])}function numAllies(){return allies.length}
var addAlly=function(a){allies.push(a);addObject(a)},removeAlly=function(a){removeAllyNoCheck(a);0==allies.length&&gameOver()},removeAllyNoCheck=function(a){removeFromArray(a,allies);removeObject(a)},addEnemy=function(a){enemies.push(a);addObject(a)},removeEnemy=function(a){removeFromArray(a,enemies);removeObject(a);0==enemies.length&&allEnemiesDefeated()},addObject=function(a){allObjects.push(a)},removeObject=function(a){removeFromArray(a,allObjects)};function Ability(a,b,c){this.name=a;this.description=b;this.code=c;if(this.isInvokable=c.invokeAbility?!0:!1)this.chanceOfUse=void 0!=c.chanceOfUse?c.chanceOfUse:CHANCE_OF_ABILITY_USE;this.isCrossover=void 0!=c.c_uses?!0:!1}
var Abilities={Friendly:new Ability("Friendly","Defeated enemies more likely to join your team",{FRIENDLY_RECRUITMENT_MULTIPLIER:1.2}),Lucky:new Ability("Lucky","Increased chance of critical hit",{chanceOfCritical:2.5*CHANCE_OF_CRITICAL}),GoodEye:new Ability("Good Eye","Never misses",{chanceOfMiss:0}),Careless:new Ability("Careless","Misses often",{chanceOfMiss:0.25}),Stealthy:new Ability("Stealthy","Better chance of evading attacks",{evasion:0.2}),Camouflage:new Ability("Camouflage","Better chance of evading attacks",
{evasion:0.25}),Showy:new Ability("Showy","Foes prefer to target this animal",{evasion:0}),Menacing:new Ability("Menacing","Attacks sometimes stun foes, leaving them immobile for a turn",{CHANCE_OF_STUN:0.15}),Clutch:new Ability("Clutch","Does extra damage when low on health",{attack:function(a,b){0.34>this.getHPPercent()&&(b=1.25*(void 0!=b?b:1),Logger.log(this.name+" is being Clutch!","ability"));this instanceof Ally?Ally.prototype.attack.call(this,a,b):Enemy.prototype.attack.call(this,a,b)}}),
Gambler:new Ability("Gambler","Attacks do wildly varying amounts of damage",{GAMBLER_EXAGGERATION:2}),Reflex:new Ability("Reflex","Opponents' attacks sometimes rebound",{CHANCE_OF_REFLEX:0.15,reflex:function(a,b){Logger.log(a.name+" attacked "+this.name+", but "+this.name+" Reflexed the attack! "+a.name+" did <b>"+b+"</b> damage to itself!","ability");a.loseHP(b)&&(a instanceof Ally?a.die():(this.defeatEnemy(a),a.defeated(this)),this.earnWin())}}),Immobilize:new Ability("Immobilize","Prevents adjacent foes from moving",
{}),Ethereal:new Ability("Ethereal","Not hurt by physical attacks",{recruitmentChance:0,move:function(){}}),Flight:new Ability("Flight","Can travel on top of any obstacle",{canStepOn:function(a){return a instanceof Obstacle?!0:!1}}),Swimmer:new Ability("Swimmer","Can travel on water",{canStepOn:function(a){return a instanceof Obstacle&&"water"==a.type?!0:!1}}),Apprentice:new Ability("Apprentice","Gains more experience than normal",{gainExperience:function(a){Ally.prototype.gainExperience.call(this,
a*this.APPRENTICE_EXP_MULTIPLIER)},APPRENTICE_EXP_MULTIPLIER:1.2}),NineLives:new Ability("Nine Lives","Sometimes survives fatal attacks",{CHANCE_OF_SURVIVAL:0.2,die:function(){pushLuck(this.CHANCE_OF_SURVIVAL)?(this.currentHP=1,Logger.log(this.name+" hung on!","ability"),this.updateQtip()):this instanceof Ally?Ally.prototype.die.call(this):Enemy.prototype.die.call(this)}}),Steadfast:new Ability("Steadfast","Unaffected by damage multipliers",{}),Protective:new Ability("Protective","Adjacent teammates' defense increases slightly",
{getDefenseBoost:function(a){switch(a){case 0:return 0;case 1:return 0.1;case 2:return 0.16;case 3:return 0.23;case 4:return 0.31;default:return 0}}}),Herd:new Ability("Herd","Does more damage when teammates are nearby",{attack:function(a,b){var c=getAdjacentFriends(this).length,b=orDefault(b,1);switch(c){case 0:b*=1;break;case 1:b*=1.5;break;case 2:b*=2;break;case 3:b*=2.5}0<c&&Logger.log(this.name+" did extra damage with Herd!","ability");this instanceof Ally?Ally.prototype.attack.call(this,a,b):
Enemy.prototype.attack.call(this,a,b)}}),Pride:new Ability("Pride","Attack power increases when a foe is defeated",{earnWin:function(){Logger.log(this.name+"'s pride is building!","ability");Animal.prototype.earnWin.call(this)},getAttackBoost:function(){return this.PRIDE_ATTACK_BOOST*this.flags.getFlag(FLAG_FOES_KILLED)},PRIDE_ATTACK_BOOST:0.12}),Bamboomerang:new Ability("Bamboomerang","Attacks strike twice",{attack:function(a,b){this instanceof Ally?(Ally.prototype.attack.call(this,a,b),a&&a.isAlive()&&
Ally.prototype.attack.call(this,a,b)):(Enemy.prototype.attack.call(this,a,b),a&&a.isAlive()&&Enemy.prototype.attack.call(this,a,b))}}),Shockwave:new Ability("Shockwave","Attacks can sometimes hurt all enemies",{SHOCKWAVE_CHANCE:0.1,SHOCKWAVE_DAMAGE:0.05,attack:function(a,b){if(pushLuck(this.SHOCKWAVE_CHANCE)){Logger.log(this.name+" set off a shockwave, hurting all foes!","ability");for(var c=getFoes(this),d=0;d<c.length;d++){var e=c[d],f=Math.round(e.getMaxHP()*this.SHOCKWAVE_DAMAGE);e.loseHP(f)&&
(e instanceof Ally?e.die():(this.defeatEnemy(e),e.defeated(this)),this.earnWin())}}this instanceof Ally?Ally.prototype.attack.call(this,a,b):Enemy.prototype.attack.call(this,a,b)}}),Calm:new Ability("Calm","Gains 1HP after every turn (Max. 25 times per level)",{onTurnEnd:function(){!(this.c_uses>=this.C_MAX_USES)&&1>this.getHPPercent()&&(this.gainHPAmount(1,!1),this.c_uses++);Animal.prototype.onTurnEnd.call(this)},c_uses:0,C_MAX_USES:25}),Sniper:new Ability("Sniper","Can attack from 2 spaces away (Max uses: 10 per level)",
{tryToAttack:function(a){var b=getAnimal(this,a,2);if(b&&!1==b.isFriendOf(this)){if(this.c_uses>=this.C_MAX_USES)return Logger.log(this.name+" cannot snipe any more this level! It attacked normally.","ability-error"),this instanceof Ally?Ally.prototype.tryToAttack.call(this,a):Enemy.prototype.tryToAttack.call(this,a);Logger.log(this.name+" sniped "+b.name+"!","ability");this.attack(b);this.c_uses++;return!0}return(b=getAnimal(this,a,1))&&!1==b.isFriendOf(this)?(this.attack(b),!0):!1},range:2,c_uses:0,
C_MAX_USES:10}),Refresh:new Ability("Refresh","Heals 25% of max health",{invokeAbility:function(){if(1==this.getHPPercent())return this instanceof Ally&&Logger.log(this.name+" tried to heal itself with Refresh, but it is already at full health!","ability-error"),!1;Logger.log(this.name+" healed itself with Refresh!","ability");this.gainHPPercent(randomVariation(this.REFRESH_HEAL_PERCENT));return!0},REFRESH_HEAL_PERCENT:25,maxUses:5,chanceOfUse:0.4}),Medic:new Ability("Medic","Heals the currently selected ally",
{invokeAbility:function(){var a=activeAlly;if(this instanceof Enemy){for(var a=this,b=0;b<enemies.length;b++){var c=enemies[b];c.getHPPercent()<a.getHPPercent()&&(a=c)}if(1==a.getHPPercent())return!1}if(a)return a==this?(Logger.log(this.name+" healed itself using Medic!","ability"),a.gainHPPercent(randomVariation(15))):(Logger.log(this.name+" healed "+a.name+" using Medic!","ability"),a.gainHPPercent(randomVariation(20)),this instanceof Ally&&this.gainExperience(20)),!0;Logger.log("Please select an animal to heal by clicking on it!",
"ability-error");return!1},maxUses:5,chanceOfUse:0.3}),Soothe:new Ability("Soothe","Slightly heals all teammates",{invokeAbility:function(){Logger.log(this.name+" healed all of its teammates with Soothe!","ability");for(var a=getFriends(this),b=0,c=0;c<a.length;c++)1>a[c].getHPPercent()&&b++;var d=0;switch(b){case 1:d=6;break;case 2:d=10;break;case 3:d=16;break;case 4:d=23;break;case 5:d=30}for(c=0;c<a.length;c++)a[c].gainHPPercent(randomVariation(d));this instanceof Ally&&this.gainExperience(2*d);
return!0},maxUses:5,chanceOfUse:0.2}),Lockdown:new Ability("Lockdown","Becomes immovable for 5 turns, but boosts defense",{invokeAbility:function(){Logger.log(this.name+" went in Lockdown mode! It can't move for 5 turns!","ability");this.div.addClass("lockdown");this.flags.setFlag(FLAG_LOCKDOWN_TURNS_LEFT,6);return!0},onTurnEnd:function(){this.flags.increaseFlag(FLAG_LOCKDOWN_TURNS_LEFT,-1);0==this.flags.getFlag(FLAG_LOCKDOWN_TURNS_LEFT)&&(Logger.log(this.name+" ended Lockdown mode! It can now move again!",
"ability"),this.div.removeClass("lockdown"));Animal.prototype.onTurnEnd.call(this)},LOCKDOWN_DEFENSE_MULTIPLIER:0.25,maxUses:5,chanceOfUse:0.25}),Flee:new Ability("Flee","Teleports to a random square on the board",{invokeAbility:function(){var a=0,b=0;do a=Math.floor(Math.random()*NUM_TILES_SIDE),b=Math.floor(Math.random()*NUM_TILES_SIDE);while(!1==this.canMoveTo(a,b)||2>=getPointDistance(this.x,this.y,a,b));this.moveTo(a,b);Logger.log(this.name+" flew the coop with Flee!","ability");return!0},maxUses:10}),
Sting:new Ability("Sting","Attacks lightly, the teleports away",{invokeAbility:function(){if(!1==isAdjacentFoe(this))return this instanceof Ally&&Logger.log(this.name+" needs to be next to an enemy to use Sting!","ability-error"),!1;var a=getClosestFoe(this);Logger.log(this.name+" stung "+a.name+"!","ability");this.attack(a,this.STING_MULTIPLIER);a=getAdjacentEnemies(this);if(0<a.length)for(var b=0;b<a.length;b++)if(a[b].ability==Abilities.Immobilize)return this instanceof Ally&&Logger.log(this.name+
" was Immobilized by "+a[b].name+"! It can't move!","ability"),!0;b=a=0;do a=Math.floor(Math.random()*NUM_TILES_SIDE),b=Math.floor(Math.random()*NUM_TILES_SIDE);while(!1==this.canMoveTo(a,b)||2>=getPointDistance(this.x,this.y,a,b));this.moveTo(a,b);Logger.log(this.name+" buzzed off!","ability");return!0},STING_MULTIPLIER:0.5,maxUses:5,chanceOfUse:0.5}),SpinAttack:new Ability("Spin Attack","Attacks in all 4 directions at once",{invokeAbility:function(){function a(a){a&&!1==a.isFriendOf(this)&&b.push(a)}
if(!1==isAdjacentFoe(this))return this instanceof Ally&&Logger.log(this.name+" needs to be next to an enemy to use Spin Attack!","ability-error"),!1;Logger.log("WHEE! "+this.name+" used Spin Attack!","ability");var b=[];a(getAnimal(this,UP,1));a(getAnimal(this,RIGHT,1));a(getAnimal(this,DOWN,1));a(getAnimal(this,LEFT,1));var c=1.1;switch(b.length){case 1:c*=1;break;case 2:c*=2;break;case 3:c*=3;break;case 4:c*=4}for(var d=0;d<b.length;d++)this.attack(b[d],c);return!0},maxUses:5,chanceOfUse:0.5}),
Quack:new Ability("Quack","Damages all enemies",{invokeAbility:function(){Logger.log(this.name+" used Quack!","ability");for(var a=getFoes(this),b=0;b<a.length;b++){var c=a[b],d=randomVariation(c.getMaxHP()*this.QUACK_PERCENT_DAMAGE);0==d&&(d=1);Logger.log("Quack! "+c.name+" lost <b>"+d+"</b> HP!",this instanceof Ally?"attack-ally":"attack-enemy");this instanceof Ally&&this.gainExperience(EXPERIENCE_FOR_ATTACK/2);c.loseHP(d)&&(c instanceof Ally?c.die():(this.defeatEnemy(c),c.defeated(this)),this.earnWin(),
b--)}return!0},QUACK_PERCENT_DAMAGE:0.05,maxUses:5,chanceOfUse:1}),Vampire:new Ability("Vampire","Drains health from an adjacent enemy",{invokeAbility:function(){var a=getClosestFoe(this);if(a){if(a&&1<getDistance(this,a))return this instanceof Ally&&Logger.log(this.name+" needs to be 1 space away from a foe to drain its HP!","ability-error"),!1;if(a){var b=randomVariation(0.25*a.getMaxHP());Logger.log(this.name+" stole <strong>"+b+"</strong> health from "+a.name+"!","ability");this instanceof Ally&&
this.gainExperience(EXPERIENCE_FOR_ATTACK);a.loseHP(b)&&(a instanceof Ally?a.die():(this.defeatEnemy(a),a.defeated(this)),this.earnWin());this.gainHPAmount(b);return!0}}},maxUses:50,chanceOfUse:1}),EasterEgg:new Ability("Easter Egg","Does a random amount of damage to a random enemy",{invokeAbility:function(){for(var a=getFoes(this),b=a.length,b=Math.floor(Math.random()*b),b=a[b],c=0;c<a.length;c++)a[c].ability==Abilities.Showy&&(b=a[c]);a=5+4*getFoes(this).length;a=randomVariation(Math.random()*(a/
100)*b.getMaxHP());Logger.log(this.name+" unleashed an Easter Egg on "+b.name+"! It did <b>"+a+"</b> damage!","ability");b.loseHP(a)&&(b instanceof Ally?b.die():(this.defeatEnemy(b),b.defeated(this)),this.earnWin());return!0},maxUses:7,chanceOfUse:1}),Kamikaze:new Ability("Kamikaze","Does loads of damage to an adjacent enemy, but kills the user",{invokeAbility:function(){var a=getClosestFoe(this);if(a&&1==getDistance(this,a))Logger.log("<b>BANZAI!!</b> "+this.name+" used Kamikaze!","ability"),this.attack(a,
4),this.die();else if(a)return this instanceof Ally&&Logger.log(this.name+" needs to be next to a foe use Kamikaze!","ability-error"),!1;return!0},maxUses:1}),Bananarama:new Ability("Bananarama","Does lots of damage to an adjacent enemy, but hurts the user",{invokeAbility:function(){var a=getClosestFoe(this);if(a&&1==getDistance(this,a)){Logger.log(this.name+" went bananas with Bananarama!","ability");var b=a.currentHP;this.attack(a,1.5);a=b-a.currentHP;0<a&&(a=randomVariation(a*this.BANANARAMA_RECOIL),
Logger.log(this.name+" was hit by recoil! "+this.name+" lost <b>"+a+"</b> HP.","ability"),this.loseHP(a)&&this.die())}else return this instanceof Ally&&Logger.log(this.name+" is too far away to use Bananarama!","ability-error"),!1;return!0},BANANARAMA_RECOIL:0.33,maxUses:10,chanceOfUse:1}),Ability:new Ability("Placeholder","Don't mind me",{}),Template:new Ability("Name","Description",{}),TInvokable:new Ability("Name","Description",{invokeAbility:function(){return!0},maxUses:0,chanceOfUse:0.1}),BLANK:null};var STAT_DB={Elephant:new AnimalStats(24,2.9,17,1.7,32,3.3,Abilities.Friendly),Squirrel:new AnimalStats(22,2.4,12,1.3,19,3.1,Abilities.Lucky),Cow:new AnimalStats(20,2.5,17,1.6,24,4,Abilities.Medic),Pig:new AnimalStats(18,2.4,16,1.8,34,3.6,Abilities.Refresh),Chicken:new AnimalStats(22,2.9,12,1.4,21,3.2,Abilities.Sniper),Sheep:new AnimalStats(22,3.5,13,2.2,26,3.7,Abilities.Apprentice),Dog:new AnimalStats(28,3.2,10,1.1,17,3.3,Abilities.GoodEye),Cat:new AnimalStats(27,2.2,17,1.3,29,2.9,Abilities.NineLives),
Penguin:new AnimalStats(27,2,18,0.8,31,2.9,Abilities.Swimmer),Bear:new AnimalStats(25,3.1,16,1.8,19,3.2,Abilities.Menacing),Elk:new AnimalStats(16,2,20,2.2,28,3.3,Abilities.Steadfast),Owl:new AnimalStats(23,2.7,15,1.5,25,3.5,Abilities.Flight),Goat:new AnimalStats(26,3,13,1.5,23,3.3,Abilities.SpinAttack),Duck:new AnimalStats(14,2,11,1.2,21,2.8,Abilities.Quack),Beaver:new AnimalStats(24,3.2,17,1.4,29,3.3,Abilities.Clutch),TRex:new AnimalStats(28,2.9,12,1.1,21,3.1,Abilities.Kamikaze),Triceratops:new AnimalStats(26,
2.7,13,1.4,26,2.8,Abilities.Refresh),Plesiosaur:new AnimalStats(20,2.6,13,1.4,36,4.2,Abilities.Calm),Pterodactyl:new AnimalStats(23,3.2,13,1.5,18,3.7,Abilities.Flight),Brontosaurus:new AnimalStats(21,2.3,17,1.4,28,3.1,Abilities.Sniper),Bat:new AnimalStats(14,1.9,11,1.3,31,3,Abilities.Vampire),Ghost:new AnimalStats(20,2.5,0,0,1,0,Abilities.Ethereal),Giraffe:new AnimalStats(15,3.9,11,1.8,21,4.2,Abilities.Lucky),Hippo:new AnimalStats(24,2.7,17,1.6,25,3.3,Abilities.Soothe),Rhino:new AnimalStats(30,3.6,
11,1.1,17,3.2,Abilities.Careless),Zebra:new AnimalStats(22,2.9,12,1.3,23,3.1,Abilities.Camouflage),Leopard:new AnimalStats(25,2.9,11,1.1,23,3.4,Abilities.Reflex),Gnu:new AnimalStats(21,2.4,17,1.4,24,4,Abilities.Herd),Monkey:new AnimalStats(27,2.8,13,1.4,23,3.2,Abilities.Bananarama),Llama:new AnimalStats(29,2,21,1,34,3,Abilities.Gambler),Peacock:new AnimalStats(21,3,13,2,29,2.9,Abilities.Showy),Panda:new AnimalStats(23,2.1,13,1.4,26,2.9,Abilities.Bamboomerang),Ostrich:new AnimalStats(19,2.2,24,1.5,
27,3,Abilities.Kamikaze),Bunny:new AnimalStats(12,1.9,13,1.3,21,3.1,Abilities.EasterEgg),Turkey:new AnimalStats(25,2.9,18,1.7,15,3.2,Abilities.Flee),Mouse:new AnimalStats(32,3.7,8,0.9,17,2.9,Abilities.Stealthy),Bee:new AnimalStats(20,2.9,13,1.6,16,3.5,Abilities.Sting),Alligator:new AnimalStats(26,2.7,11,1.4,19,3.8,Abilities.Shockwave),Lion:new AnimalStats(25,2.5,16,1.2,29,3.4,Abilities.Pride),Tiger:new AnimalStats(26,2.9,16,1.5,19,2.5,Abilities.Immobilize),Kangaroo:new AnimalStats(20,2.5,17,1.9,24,
3.4,Abilities.Protective),Turtle:new AnimalStats(12,2,18,2.8,16,3.8,Abilities.Lockdown),Chicken_Boss:new AnimalStats(35,0,15,0,50,0,Abilities.Gambler),Duck_Boss:new AnimalStats(40,0,30,0,50,0,Abilities.Reflex),Brontosaurus_Boss:new AnimalStats(40,0,35,0,60,0,Abilities.Calm),Monkey_Boss:new AnimalStats(60,0,25,0,75,0,Abilities.Bananarama),Llama_Boss:new AnimalStats(55,0,40,0,100,0,Abilities.Refresh),Elephant_Boss:new AnimalStats(70,0,30,0,150,0,Abilities.Clutch),Placeholder:new AnimalStats(0,0,0,0,
0,0,Abilities.Ability)};function AnimalStats(a,b,c,d,e,f,g){this.baseAtk=a;this.atkRaise=b;this.baseDef=c;this.defRaise=d;this.baseHP=e;this.HPRaise=f;this.ability=g};function GridObject(a,b,c,d,e){this.type=orDefault(a,"");this.pictureFolder=orDefault(b,"");this.div=orDefault(c,makeDiv());this.flags=new Flags;this.x=orDefault(d,0);this.y=orDefault(e,0);this.id=this.type+""+Math.floor(1E3*Math.random());this.div.attr("id",this.id)}GridObject.prototype.xPixels=function(){return this.x*TILE_SIZE};GridObject.prototype.yPixels=function(){return this.y*TILE_SIZE};
GridObject.prototype.putOnBoard=function(){this.div.html("<img src='"+this.getPicturePath()+"' />");this.refreshLocation();$("#board").append(this.div)};GridObject.prototype.refreshLocation=function(){this.div.animate({top:this.yPixels(),left:this.xPixels()},0)};GridObject.prototype.animateMove=function(){$('input[type="image"]').attr("disabled","disabled");this.div.animate({top:this.yPixels(),left:this.xPixels()},ANIMATION_LENGTH,"linear",function(){$('input[type="image"]').removeAttr("disabled")})};
GridObject.prototype.setLocation=function(a,b){this.x=a;this.y=b};GridObject.prototype.getLocationPixels=function(){return[this.xPixels,this.yPixels]};GridObject.prototype.getPicturePath=function(){return this.pictureFolder+"/"+this.type.toLowerCase()+".png"};function Obstacle(a,b,c){GridObject.call(this,a,OBSTACLE_FOLDER,makeDiv(),b,c);this.div.addClass("obstacle")}Obstacle.prototype=new GridObject;function Steppable(a,b,c){GridObject.call(this,a,STEPPABLE_FOLDER,makeDiv(),b,c);this.div.addClass("steppable");this.onStep=function(a){a instanceof Enemy||this.rawOnStep()(a)&&this.remove()}}Steppable.prototype=new GridObject;Steppable.prototype.remove=function(){removeObject(this);this.div.remove()};
Steppable.prototype.rawOnStep=function(){switch(this.type){case "full-heart":return function(a){a.gainHPPercent(FULL_HEART);return!0};case "half-heart":return function(a){a.gainHPPercent(HALF_HEART);return!0};case "quarter-heart":return function(a){a.gainHPPercent(QUARTER_HEART);return!0};case "flag":return function(a){for(var b=0;b<enemies.length;b++)if(enemies[b]instanceof Boss){Logger.log("You need to defeat the boss before you can finish the level!","info");break}a.name==MAIN_CHAR_NAME?startActiveLevelEndDialogues():
Logger.log("hathix must step on the flag to finish the level.","info");return!1};case "secret-entrance":return function(){0==enemies.length?(Logger.log("Wait, what's that massive hole in the --","urgent"),currentLevel.end(!0)):Logger.log("There's a little pothole in the ground here. How strange.","info");return!1};case "template":return function(){}}};function Animal(a,b,c,d,e,f,g){GridObject.call(this,a,ANIMAL_FOLDER,c,d,e);this.name=b;this.level=f;this.ivs={atk:calculateIV(),def:calculateIV(),hp:calculateIV()};this.statDB=orDefault(STAT_DB[this.type],STAT_DB.Placeholder);this.currentHP=orDefault(g,Animal.prototype.getMaxHP.call(this));this.ability=this.statDB.ability;this.chanceOfMiss=CHANCE_OF_MISS;this.chanceOfCritical=CHANCE_OF_CRITICAL;this.range=1;this.evasion=0;this.mergeInAbility();this.numAbilityUses=0}Animal.prototype=new GridObject;
Animal.prototype.canStepOn=function(){return!1};Animal.prototype.mergeInAbility=function(){$.extend(this,this.ability.code)};Animal.prototype.isShiny=function(){return this.ivs.atk>=SHINY_IV_THRESHOLD&&this.ivs.def>=SHINY_IV_THRESHOLD&&this.ivs.hp>=SHINY_IV_THRESHOLD};Animal.prototype.getPicturePath=function(){var a=this.pictureFolder;this.isShiny()&&(a+="/shiny");return a+"/"+this.type.toLowerCase()+".png"};
Animal.prototype.getAttack=function(){if(this.ability==Abilities.Pride){var a=this.calculateStat(this.statDB.baseAtk,this.statDB.atkRaise,this.ivs.atk),b=1+this.getAttackBoost();return Math.round(a*b)}return this.calculateStat(this.statDB.baseAtk,this.statDB.atkRaise,this.ivs.atk)};
Animal.prototype.getDefense=function(){var a=this.calculateStat(this.statDB.baseDef,this.statDB.defRaise,this.ivs.def);0<this.flags.getFlag(FLAG_LOCKDOWN_TURNS_LEFT)&&(a*=1+this.LOCKDOWN_DEFENSE_MULTIPLIER);var b=0;try{var c=getAdjacentFriends(this)}catch(d){c=0}for(var e=0;e<c.length;e++)c[e].ability==Abilities.Protective&&b++;return 0!=b?(b=1+Abilities.Protective.code.getDefenseBoost(b),Math.round(a*b)):Math.round(a)};
Animal.prototype.getMaxHP=function(){return this.calculateStat(this.statDB.baseHP,this.statDB.HPRaise,this.ivs.hp)};Animal.prototype.calculateStat=function(a,b,c){return Math.round(this.calculateRawStat(a,b,c))};Animal.prototype.calculateRawStat=function(a,b,c){return(a+b*this.level)*c};Animal.prototype.getHPPercent=function(){return this.currentHP/this.getMaxHP()};Animal.prototype.isFriendOf=function(a){return!a?!1:this instanceof Ally&&a instanceof Ally||this instanceof Enemy&&a instanceof Enemy};
Animal.prototype.isAlive=function(){return 0<this.currentHP};Animal.prototype.gainHPAmount=function(a,b){void 0===b&&(b=!0);var c=this.getMaxHP();this.currentHP+a>c&&(a=c-this.currentHP);this.currentHP+=a;0<a&&b?Logger.log(this.name+" healed <b>"+a+"</b> health!","heal"):b=!1;b&&this.showBadge("+"+a,"green");this.updateQtip()};Animal.prototype.gainHPPercent=function(a){this.gainHPAmount(Math.round(this.getMaxHP()*(a/100)))};Animal.prototype.fullHeal=function(){this.currentHP=this.getMaxHP()};
Animal.prototype.loseHP=function(a,b,c){if(!0==b||void 0===b)this.showBadge(c?c:"-"+a,"red");this.currentHP-=a;if(0>=this.currentHP)return this.currentHP=0,!0;this.updateQtip();return!1};Animal.prototype.die=function(){this.div.qtip("hide");this.div.hide("explode",{},2E3,function(){$(this).remove()})};Animal.prototype.tryToAttack=function(a){return(a=getAnimal(this,a,1))&&!1==a.isFriendOf(this)?(this.attack(a),!0):!1};
Animal.prototype.attack=function(a,b){if(!a||a.isFriendOf(this))return!1;if(a.ability==Abilities.Ethereal)Logger.log("You can't hurt "+a.name+" with normal attacks!","ability");else{var c=this.getAttack()-a.getDefense(),c=this.ability==Abilities.Gambler?randomVariation(c,this.GAMBLER_EXAGGERATION):randomVariation(c);void 0==b&&(b=1);var d=this.chanceOfMiss+a.evasion;this.ability==Abilities.GoodEye&&(d=0);a.ability==Abilities.Showy&&(d=0);var e="";0>=c&&(c=1);pushLuck(d)?(c=0,e="miss"):pushLuck(this.chanceOfCritical)&&
(b*=CRITICAL_MULTIPLIER,e="critical");if(a.ability==Abilities.Reflex&&pushLuck(a.CHANCE_OF_REFLEX))a.reflex(this,randomVariation(c));else{d=!1;this.ability==Abilities.Menacing&&pushLuck(this.CHANCE_OF_STUN)&&(a.flags.setFlag(FLAG_STUNNED,!0),a.div.addClass("stunned"),d=!0);a.ability==Abilities.Steadfast&&(1!=b&&Logger.log(a.name+" was immune to "+this.name+"'s damage multiplier!","ability"),b=1);var c=Math.round(c*b),f=this instanceof Ally?"attack-ally":"attack-enemy";switch(e){case "miss":Logger.log(this.name+
" attacks "+a.name+", but misses.",f);break;case "critical":Logger.log("<i>Critical hit!</i> "+this.name+" attacks "+a.name+" for <strong>"+c+"</strong> damage.",f);break;default:Logger.log(this.name+" attacks "+a.name+" for <strong>"+c+"</strong> damage.",f)}var g=getShortestDirection(this,a),h=getDistance(this,a),f=g.y*TILE_SIZE*h,g=g.x*TILE_SIZE*h;$('input[type="image"]').attr("disabled","disabled");this.div.animate({top:"+=0"},ANIMATION_LENGTH*a.div.queue().length).animate({top:"+="+f,left:"+="+
g},ANIMATION_LENGTH).animate({top:"-="+f,left:"-="+g},ANIMATION_LENGTH,function(){$('input[type="image"]').removeAttr("disabled")});var i;"critical"==e&&(i="<b><i>-"+c+"</i></b>");if(0<c){if(a.loseHP(c,!0,i))return a instanceof Ally?(a.die(),this.earnWin()):(this.defeatEnemy(a),this.earnWin(),a.defeated(this)),!0;d&&Logger.log(this.name+" stunned "+a.name+"! "+a.name+" cannot move for one turn!","ability")}else a.showBadge("Miss","red");return!1}}};
Animal.prototype.earnWin=function(){this.flags.increaseFlag(FLAG_FOES_KILLED,1)};Animal.prototype.move=function(a){var b=this.x+a.x,c=this.y+a.y;this.canMove(a)&&this.moveTo(b,c)};Animal.prototype.moveTo=function(a,b){this.setLocation(a,b);this.animateMove();for(var c=getObjectsAt(this.x,this.y),d=0;d<c.length;d++)if(c[d]instanceof Steppable)c[d].onStep(this)};
Animal.prototype.canMove=function(a){var b=getAdjacentEnemies(this);if(0<b.length)for(var c=0;c<b.length;c++)if(b[c].ability==Abilities.Immobilize)return this instanceof Ally&&Logger.log(this.name+" was Immobilized by "+b[c].name+"! It can't move!","ability"),!1;b=this.x+a.x;a=this.y+a.y;return isOutsideBoard(b,a)?!1:this.canMoveTo(b,a)};
Animal.prototype.canMoveTo=function(a,b){if("water"==getTile(b,a).attr("alt")&&!1==this.canStepOn(DUMMY_WATER))return!1;for(var c=0;c<allObjects.length;c++){var d=allObjects[c];if(d.x==a&&(d.y==b&&d.id!=this.id)&&!(d instanceof Steppable||this.canStepOn(d)))return!1}return!0};var DUMMY_WATER=new Obstacle("water",0,0);
Animal.prototype.useAbility=function(){if(this.canUseAbility())return this.invokeAbility()?(this.numAbilityUses++,this.updateQtip(),this instanceof Ally&&endTurn(),!0):!1;Logger.log(this.name+" has used its ability too many times this level!","ability-error");return!1};Animal.prototype.canUseAbility=function(){return this.numAbilityUses<this.ability.code.maxUses};Animal.prototype.onTurnEnd=function(){this.flags.setFlag(FLAG_STUNNED,!1);this.div.removeClass("stunned")};
Animal.prototype.updateQtip=function(){};Animal.prototype.showBadge=function(a,b,c){var b=orDefault(b,"tipsy"),d=$("#"+this.id+">img");d.qtip({content:{text:a},position:{my:"center",at:"center",target:d},show:{effect:function(){$(this).fadeIn()}},hide:{inactive:orDefault(c,500),effect:function(){$(this).fadeOut();$(this).qtip("destroy")}},style:{classes:"ui-tooltip-badge ui-tooltip-"+b}});d.qtip("show")};function Enemy(a,b,c,d,e,f){this.recruitmentChance=void 0!==e?e:CHANCE_OF_RECRUITMENT;Animal.call(this,a,f||a,makeDiv(),b,c,d);this.currentHP=this.getMaxHP();this.div.addClass("enemy");this.div.qtip({content:{text:"hi",title:{text:this.name,button:!0}},position:{container:$("#background_holder"),viewport:!0},show:{solo:!0,effect:function(){$(this).fadeIn();for(var a=0;a<enemies.length;a++)enemies[a].updateQtip()}},hide:{event:"unfocus",inactive:2E3,effect:function(){$(this).fadeOut()}},style:{classes:"ui-tooltip-red ui-tooltip-hoverstats ui-tooltip-shadow ui-tooltip-rounded"}});
this.updateQtip();this.mergeInAbility()}Enemy.prototype=new Animal;Enemy.prototype.getMaxHP=function(){var a=Animal.prototype.calculateStat.call(this,this.statDB.baseHP,this.statDB.HPRaise,this.ivs.hp);return Math.round(a*difficultyLevel.HPMultiplier)};Enemy.prototype.defeated=function(a){var b=this.recruitmentChance;a&&a.ability==Abilities.Friendly&&(b*=a.FRIENDLY_RECRUITMENT_MULTIPLIER);pushLuck(b)?this.recruit():this.die()};
Enemy.prototype.die=function(){Animal.prototype.die.call(this);Logger.log(this.name+" died!","defeat");removeEnemy(this)};Enemy.prototype.recruit=function(){Logger.log(this.name+" was defeated!","defeat");removeEnemy(this);this.requestName()};
Enemy.prototype.takeTurn=function(a){var b=getDistance(this,a);if(this.ability==Abilities.Sniper)!1==isInLine(this,a)?this.move(getPreferredDirection(this,a)):!1==this.tryToAttack(getShortestDirection(this,a))&&this.move(getPreferredDirection(this,a));else if(!this.ability.isInvokable||(!this.canUseAbility()||!pushLuck(this.ability.chanceOfUse))||!this.useAbility())b<=this.range&&isInt(getRawDistance(this,a))?this.attack(a):(a=getPreferredDirection(this,a),this.canMove(a)&&this.move(a))};
Enemy.prototype.updateQtip=function(){var a=this.ability.description;this.ability.isInvokable&&(a=a.replace("#",this.ability.code.maxUses-this.numAbilityUses));var b="ui-widget-header";this.getHPPercent()<=HEALTH_RED_THRESHOLD&&(b="ui-state-error");var c="";this.isShiny()&&(c='<img src="images/interface/star.png" alt="Shiny" title="This animal is shiny!" />');this.div.qtip("option",{"content.text":'<div class="ui-progressbar ui-widget ui-widget-content ui-corner-all" style="width: 100%;height:15px;"><span>'+
this.currentHP+"/"+this.getMaxHP()+'</span><div style="width: '+Math.round(100*this.getHPPercent())+'%;" class="ui-progressbar-value ui-corner-left hp-bar-content '+b+'"></div></div> <table class="stats-table"><tr><td>'+c+" Level <strong>"+this.level+'</strong></td><td><img src="images/interface/sword.png" alt="Attack" title="Attack" /> <strong>'+this.getAttack()+'</strong></td><td><img src="images/interface/shield.png" alt="Defense" title="Defense" /> <strong>'+this.getDefense()+"</strong></td></tr></table><br />Ability: <strong>"+
this.ability.name+"</strong> - <em>"+a+"</em>"})};Enemy.prototype.requestName=function(){$("#enemy-name-text").html("You defeated "+this.name+", and it wants to join your team! Give it a new name.");$("#enemy-name").attr("value",this.name);defeatedEnemy=this;$("#enemy-name-dialog").dialog({width:700,height:210});$("#enemy-name-dialog").dialog("open")};
function Boss(a,b,c,d,e){this.rawType=a;Enemy.call(this,a+"_Boss",c,d,e,0,b);this.ivs={atk:1,def:1,hp:1};this.currentHP=this.getMaxHP();this.updateQtip()}Boss.prototype=new Enemy;function Ally(a,b,c,d,e){Animal.call(this,a,void 0!=e?e:a,makeDiv(),b,c,d);this.experience=0;this.levelsWithTeam=1;this.currentHP=Ally.prototype.getMaxHP.call(this);this.div.addClass("ally");this.div.click(function(){var a=parseInt($(this).css("left"))/TILE_SIZE,b=parseInt($(this).css("top"))/TILE_SIZE;setActiveAlly(getAnimalAt(a,b))});this.div.qtip({content:{text:"hi",title:{text:this.name,button:!0}},position:{container:$("#background_holder"),viewport:!0},show:{solo:!0,effect:function(){$(this).fadeIn();
for(var a=0;a<allies.length;a++)allies[a].updateQtip()}},hide:{event:"unfocus",inactive:2E3,fixed:!0,effect:function(){$(this).fadeOut()}},style:{classes:"ui-tooltip-blue ui-tooltip-hoverstats ui-tooltip-shadow ui-tooltip-rounded"}})}Ally.prototype=new Animal;
Ally.prototype.defeatEnemy=function(a){var b=0;if(a instanceof Boss)b=EXPERIENCE_FOR_BOSS;else switch(a=a.level-this.level,b=EXPERIENCE_FOR_DEFEAT,a){case -2:b/=6;break;case -1:b/=3;break;case 0:break;case 1:b=4*b/3;break;case 2:b*=2;break;default:b=0>a?0:b*(1+-0.5*a)}b=Math.round(b);this.gainExperience(b)};Ally.prototype.attack=function(a,b){var c=Animal.prototype.attack.call(this,a,b);this.gainExperience(EXPERIENCE_FOR_ATTACK);return c};
Ally.prototype.gainExperience=function(a){if(!isMinigameOn){a=Math.round(a);for(this.experience+=a;this.experience>=EXPERIENCE_PER_LEVEL;)this.experience-=EXPERIENCE_PER_LEVEL,this.levelUp();this.updateQtip()}};
Ally.prototype.levelUp=function(){var a=this.getAttack(),b=this.getDefense(),c=this.getMaxHP();this.level++;this.levelsWithTeam++;this.div.effect("highlight");this.div.effect("pulsate");this.fullHeal();Logger.log(this.name+" grew to level <strong>"+this.level+"</strong>!<br />Attack +"+(this.getAttack()-a)+"<br />Defense +"+(this.getDefense()-b)+"<br />HP +"+(this.getMaxHP()-c),"levelup")};Ally.prototype.experienceLeft=function(){return EXPERIENCE_PER_LEVEL-this.experience};
Ally.prototype.calculateStat=function(a,b,c){return Math.round(Animal.prototype.calculateRawStat.call(this,a,b,c)+this.levelsWithTeam*TEAM_LEVEL_BONUS)};Ally.prototype.die=function(){Animal.prototype.die.call(this);Logger.log(this.name+" died!","die");activeAlly==this&&deselectActiveAlly();removeAlly(this);this.name==MAIN_CHAR_NAME&&gameOver()};
Ally.prototype.updateQtip=function(){var a="";this.ability.isInvokable&&this.canUseAbility()?a="<button onclick=\"getObjectById('"+this.id+"').useAbility();\">"+("Use ("+(this.ability.code.maxUses-this.numAbilityUses)+" left this level)")+"</button>":this.ability.isInvokable&&this.numAbilityUses==this.ability.code.maxUses&&(a='<button disabled="disabled">Ability used up</button>');var b="hp-healthy";this.getHPPercent()<=HEALTH_RED_THRESHOLD&&(b="ui-state-error");var c=this.experience+"/"+EXPERIENCE_PER_LEVEL,
d=Math.round(100*(this.experience/EXPERIENCE_PER_LEVEL)),e="";this.isShiny()&&(e='<img src="images/interface/star.png" alt="Shiny" title="This animal is shiny!" />');this.div.qtip("option",{"content.text":'<table style="width: 100%;"><tr style="width: 100%;"><td style="width: 15%;" title="Health Points">HP</td><td style="width: 85%;"><div class="ui-progressbar ui-widget ui-widget-content ui-corner-all" style="width: 100%;height:15px;"><span>'+this.currentHP+"/"+this.getMaxHP()+'</span><div style="width: '+
Math.round(100*this.getHPPercent())+'%;" class="ui-progressbar-value ui-corner-left hp-bar-content '+b+'"></div></div> </td></tr><tr style="width: 100%;"><td style="width: 15%;" title="Experience">Exp</td><td style="width: 85%;"><div class="ui-progressbar ui-widget ui-widget-content ui-corner-all" style="width: 100%;height:15px;float:right;"><span>'+c+'</span><div style="width: '+d+'%;" class="ui-progressbar-value ui-corner-left ui-widget-header"></div></div> </td></tr></table><table class="stats-table"><tr><td>'+
e+" Level <strong>"+this.level+'</strong></td><td><img src="images/interface/sword.png" alt="Attack" title="Attack" /> <strong>'+this.getAttack()+'</strong></td><td><img src="images/interface/shield.png" alt="Defense" title="Defense" /> <strong>'+this.getDefense()+"</strong></td></tr></table><br />Ability: <strong>"+this.ability.name+"</strong> - <em>"+this.ability.description+"</em>"+a});$(".ui-tooltip-content button").button()};function getObjects(a,b,c){return getObjectsAt(a.x+b.x*c,a.y+b.y*c)}function getObjectsAt(a,b){for(var c=[],d=0;d<allObjects.length;d++){var e=allObjects[d];e.x==a&&e.y==b&&c.push(e)}return c}function getAnimal(a,b,c){a=getObjects(a,b,c);for(b=0;b<a.length;b++)if(a[b]instanceof Animal)return a[b];return null}function getAnimalAt(a,b){for(var c=getObjectsAt(a,b),d=0;d<c.length;d++)if(c[d]instanceof Animal)return c[d];return null}
function getClosestAnimal(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];c.push({distance:getDistance(a,e),animal:e})}for(var f={distance:100,animal:null},d=0;d<c.length;d++)e=c[d],e.distance<f.distance?f=e:e.distance==f.distance&&e.animal.ability==Abilities.Showy&&(f=e);return f.animal||b[0]}function getFoes(a){return a instanceof Ally?enemies:allies}function getFriends(a){return a instanceof Ally?allies:enemies}function getClosestFoe(a){var b=getFoes(a);return getClosestAnimal(a,b)}
function getClosestFriend(a){var b=getFriends();return getClosestAnimal(a,b)}function getEnemyClosestToAlly(){for(var a=null,b=100,c=0;c<enemies.length;c++){var d=enemies[c];if(!(!0==d.flags.getFlag(FLAG_STUNNED)||0<d.flags.getFlag(FLAG_LOCKDOWN_TURNS_LEFT))){var e=getDistance(d,getClosestFoe(d));e<b&&(a=d,b=e)}}return a}function getAdjacentFriends(a){for(var b=getFriends(a),c=[],d=0;d<b.length;d++)1==getDistance(a,b[d])&&c.push(b[d]);return c}
function getAdjacentEnemies(a){for(var b=getFoes(a),c=[],d=0;d<b.length;d++)1==getDistance(a,b[d])&&c.push(b[d]);return c}function getObjectById(a){for(var b=0;b<allObjects.length;b++)if(allObjects[b].id==a)return allObjects[b];return null}function getObjectByDiv(a){return getObjectById(a.attr("id"))}function isAdjacentFoe(a){for(var b=getFoes(a),c=0;c<b.length;c++)if(1>=getDistance(a,b[c]))return!0;return!1}function getDistance(a,b){return getPointDistance(a.x,a.y,b.x,b.y)}
function getPointDistance(a,b,c,d){a=Math.abs(a-c);b=Math.abs(b-d);return a+b}function getRawDistance(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.sqrt(c*c+d*d)}function getDistanceInDirection(a,b,c){c||(c=getShortestDirection(a,b));if(0!=c.x)return Math.abs(a.x-b.x);if(0!=c.y)return Math.abs(a.y-b.y);throw"Error: direction.x = 0 & direction.y = 0";}function getCoordinateDifference(a,b){return[b.x-a.x,b.y-a.y]}
function isInLine(a,b){var c=getCoordinateDifference(a,b);return 0==c[0]||0==c[1]}function getDirections(a,b){var c=a.x-b.x,d=a.y-b.y,e=[];0<d?e.push(UP):0>d&&e.push(DOWN);0<c?e.push(LEFT):0>c&&e.push(RIGHT);return e}function getShortestDirection(a,b,c){c||(c=getDirections(a,b));return 1==c.length?c[0]:c[0]<c[1]?c[0]:c[1]}
function getPreferredDirection(a,b,c){c||(c=getDirections(a,b));if(1==c.length)a=c[0];else{var c=getDirections(a,b),d=getDistanceInDirection(a,b,c[0]),b=getDistanceInDirection(a,b,c[1]);if(d<b){for(var d=!1,b=getObjectsAt(a.x+c[0].x,a.y+c[0].y),e=0;e<b.length;e++)!1==a.canStepOn(b[e])&&(d=!0);a=d?c[1]:c[0]}else{d=!1;b=getObjectsAt(a.x+c[1].x,a.y+c[1].y);for(e=0;e<b.length;e++)!1==a.canStepOn(b[e])&&(d=!0);a=d?c[0]:c[1]}}return a};function Level(a,b,c,d,e,f,g,h,i,j){this.actNum=a;this.stageNum=b;this.grid=c;this.background=d;this.obstacles=e;this.enemies=f;this.allyPositions=g;this.startDialogues=h;this.endDialogues=i;this.newAlly=j;this.skipNewAlly=!1}Level.prototype.getName=function(){return this.actNum+"-"+this.stageNum};
Level.prototype.interpret=function(a){currentLevel=this;a&&saveGame();for(var b=this.grid.split(" "),a=0;a<b.length;a++)for(var c=b[a].split(""),d=0;d<c.length;d++){var e=translateTileAbbreviation(c[d]);getTile(a,d).css("background","url("+TILE_FOLDER+"/"+e+".png) no-repeat left top");getTile(a,d).attr("alt",e)}$("body").css("background","url(images/tiles/translucent/"+this.background+".png)");c=b=!1;this.newAlly&&!1==this.skipNewAlly&&(numAllies()<MAX_ALLIES&&numAllies()<this.allyPositions.length?
(addAlly(this.newAlly),b=!0):c=!0);if(this.newAlly)var f=[this.newAlly.x,this.newAlly.y];for(a=0;a<allies.length;a++)allies[a].setLocation(this.allyPositions[a][0],this.allyPositions[a][1]),allies[a].refreshLocation(),allies[a].fullHeal();this.newAlly&&0!=f[0]&&0!=f[1]&&this.newAlly.setLocation(f[0],f[1]);for(a=0;a<this.obstacles.length;a++)addObject(this.obstacles[a]);for(a=0;a<this.enemies.length;a++)addEnemy(this.enemies[a]);for(a=0;a<allObjects.length;a++)allObjects[a].putOnBoard(),allObjects[a].flags.reset();
f=this.getName();"1-1"==f||"1-2"==f||"1-3"==f?($("#tutorial-overlay").css("background-image","url(images/tutorials/"+f+".png)"),$("#tutorial-overlay").show()):startActiveLevelStartDialogues();$("#log-content").html("");Logger.log("Welcome to level "+this.actNum+"-"+this.stageNum+"!","info");b&&this.newAlly.name!=MAIN_CHAR_NAME&&Logger.log(this.newAlly.name+" joined the team!","recruit");updateTeamInfo();c&&(addAlly(this.newAlly),showRemoveAllyDialog(function(){currentLevel.skipNewAlly=true;cleanObjectLists();
currentLevel.interpret()}));sendJSONData({act:currentLevel.actNum,stage:currentLevel.stageNum},"tracking.json",!1)};
function translateTileAbbreviation(a){switch(a){case GRASS:return"grass";case PATH:return"path";case ROAD:return"road";case DIRT:return"dirt";case CONCRETE:return"concrete";case TILE:return"tile";case WOOD:return"wood";case BRIDGE_NS:return"bridge-ns";case BRIDGE_EW:return"bridge-ew";case SNOW:return"snow";case SAVANNAH:return"savannah";case WATER:return"water";case RED_CARPET:return"red-carpet"}}
Level.prototype.end=function(a){cleanObjectLists();$(".obstacle").remove();$(".steppable").remove();$(".enemy").remove();for(var b=0;b<allies.length;b++)if(allies[b].ability.isInvokable&&(allies[b].numAbilityUses=0),allies[b].isCrossover)allies[b].c_uses=0;hideDialogue();a?loadLevel(this.actNum,SECRET_STAGE):this.stageNum==SECRET_STAGE?loadLevel(this.actNum+1,1):(a=this.actNum,b=this.stageNum+1,b>STAGES_PER_ACT&&(b=1,a++),loadLevel(a,b))};var SL_KEYS={savedGameTag:"ss-game-saved",currentLevel:"ss-current-level",allies:"ss-allies",difficultyLevel:"ss-difficulty-level",hallOfFame:"ss-hall-of-fame",minigamesWon:"ss-minigames-won",passcode:"ss-passcode"};function sendJSONData(a,b,c){if(!1==TRACKING_ON)return!1;$.post("writejson.php",{json:JSON.stringify(a),file:b,remove_duplicates:c});return!0}function getJSONData(a,b){$.getJSON(a,function(a){b(a)})}
function uploadData(a){var a=orDefault(a,$.store.get(SL_KEYS.passcode)),b={},c;for(c in SL_KEYS)b[SL_KEYS[c]]=JSON.stringify($.store.get(SL_KEYS[c]));a={passcode:a,data:b};sendJSONData(a,"sprinklecloud.json",!0);return a}function downloadData(a){getJSONData("sprinklecloud.json",function(b){for(var c=0;c<b.length;c++){var d=b[c];if(d.passcode==a){var b=d.data,e;for(e in b)$.store.set(e,JSON.parse(b[e]));return}}alert("Your data could not be found. :(")})}
function saveGame(){$.store.set(SL_KEYS.savedGameTag,"true");$.store.set(SL_KEYS.currentLevel,{act:currentLevel.actNum,stage:currentLevel.stageNum});var a=getPrimitiveAllies();$.store.set(SL_KEYS.allies,a);$.store.set(SL_KEYS.difficultyLevel,difficultyLevel);uploadData()}
function loadGame(){for(var a=$.store.get(SL_KEYS.allies),b=0;b<a.length;b++){var c=getAllyFromPrimitive(a[b]);c.putOnBoard();allies.push(c);allObjects.push(c)}for(;allies.length>MAX_ALLIES;)removeAllyNoCheck(allies[MAX_ALLIES]),allies[MAX_ALLIES].div.remove();setDifficultyLevel($.store.get(SL_KEYS.difficultyLevel));a=$.store.get(SL_KEYS.currentLevel);loadLevel(a.act,a.stage)}function isSavedGame(){return void 0!=$.store.get(SL_KEYS.savedGameTag)}
function hasSync(){return void 0!=$.store.get(SL_KEYS.passcode)}function clearSavedData(){$.store.remove(SL_KEYS.savedGameTag)}function PrimitiveAlly(a){this.name=a.name;this.type=a.type;this.level=a.level;this.experience=a.experience;this.levelsWithTeam=a.levelsWithTeam;this.ivs=a.ivs}function getAllyFromPrimitive(a){var b=new Ally(a.type,0,0,a.level,a.name);b.experience=a.experience;b.levelsWithTeam=a.levelsWithTeam;b.ivs=a.ivs;return b}
function getPrimitiveAllies(){for(var a=[],b=0;b<allies.length;b++)a.push(new PrimitiveAlly(allies[b]));return a}function HallOfFame(a){this.team=getPrimitiveAllies();this.date=new Date;this.difficultyLevel=difficultyLevel;this.beatSecret=a}function addHallOfFameEntry(a){var b=orDefault($.store.get(SL_KEYS.hallOfFame),[]);b.push(a);$.store.set(SL_KEYS.hallOfFame,b)}function getMinigamesWon(){return void 0==$.store.get(SL_KEYS.minigamesWon)?0:$.store.get(SL_KEYS.minigamesWon)}
function increaseMinigamesWon(){$.store.set(SL_KEYS.minigamesWon,getMinigamesWon()+1);uploadData()};var ANIMAL_LEVEL=10,WINS_TO_UNLOCK=[0,0,0,5,10,25],NUM_MINI_LEVELS=WINS_TO_UNLOCK.length,allyNames,miniLevels;
function startMinigame(a){if(void 0==a)for(var b="Chase Jimmy Roy Cliff Cole Freddy Ryan John Carlos Vance".split(" "),a=[],c=0;5>c;c++)Math.random(),a.push(b[c]),b.splice(c,1);allyNames=a;$("#minigames-num-won").html(getMinigamesWon());$("#minigame-stages").html("");for(c=0;c<NUM_MINI_LEVELS;c++){a=c+1;if(getMinigamesWon()>=WINS_TO_UNLOCK[c])b=$("<img />"),b.addClass("minigame-thumbnail"),b.attr("id",a),b.attr("src","images/minigame/stages/"+a+".png"),b.attr("alt","Stage "+a),b.attr("title","Stage "+
a),b.click(function(){$("#minigame-dialog").dialog("close");isMinigameOn=!0;hideStartScreen();initializeGame();var a=parseInt($(this).attr("id"));startMiniLevel(a);for(a=0;a<allObjects.length;a++)allObjects[a].refreshLocation()});else{var d=WINS_TO_UNLOCK[c],b=$("<img />");b.addClass("minigame-thumbnail");b.attr("id",a);b.attr("src","images/minigame/stages/locked.png");b.attr("alt","Locked!");b.attr("title","Locked! Need to win "+d+" minigames to unlock!")}$("#minigame-stages").append(b)}$("#minigame-dialog").removeClass("hidden");
$("#minigame-dialog").dialog({resizable:!1,height:430,width:500,modal:!0,buttons:{Cancel:function(){$(this).dialog("close")}},onBeforeClose:function(){isMinigameOn=!1}})}
function startMiniLevel(a){var b;switch(a){case 1:b=buildMiniLevel(1,"WWggWWWWWWWWWWW WggggWWWWggWWWW WgggggWWggggWWW WgggggWggggggWW WggggWWddddgggW WgggggWBBWWdgWW WWgggggdddWWdWW gggddgggggddggg WWdWWdddgggggWW WWgdWWBBWgggggW WgggddddWWggggW WWggggggWgggggW WWWggggWWgggggW WWWWggWWWWggggW WWWWWWWWWWWggWW ","water",[new Obstacle("tree",5,11),new Obstacle("tree",6,12),new Obstacle("tree",8,2),new Obstacle("tree",9,3),new Obstacle("tree",11,10),new Obstacle("tree",11,9),new Obstacle("tree",12,9),
new Obstacle("tree",3,4),new Obstacle("tree",3,5),new Obstacle("tree",2,5),new Obstacle("house1",7,7),new Obstacle("tree",3,10),new Obstacle("tree",11,4)],[[11,11],[12,12],[11,13],[13,13],[13,11]],[[1,1],[3,1],[2,2],[1,3],[3,3]]);break;case 2:b=buildMiniLevel(2,"ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ",
"tile",[new Obstacle("wall",3,3),new Obstacle("wall",3,11),new Obstacle("wall",11,11),new Obstacle("wall",11,3),new Obstacle("wall",4,3),new Obstacle("wall",5,3),new Obstacle("wall",6,3),new Obstacle("wall",8,3),new Obstacle("wall",9,3),new Obstacle("wall",10,3),new Obstacle("wall",11,4),new Obstacle("wall",11,5),new Obstacle("wall",11,6),new Obstacle("wall",11,7),new Obstacle("wall",11,8),new Obstacle("wall",11,9),new Obstacle("wall",11,10),new Obstacle("wall",10,11),new Obstacle("wall",9,11),new Obstacle("wall",
8,11),new Obstacle("wall",7,11),new Obstacle("wall",6,11),new Obstacle("wall",4,11),new Obstacle("wall",5,11),new Obstacle("wall",3,10),new Obstacle("wall",3,9),new Obstacle("wall",3,7),new Obstacle("wall",3,8),new Obstacle("wall",3,6),new Obstacle("wall",3,5),new Obstacle("wall",3,4)],[[9,5],[10,6],[10,7],[10,8],[9,9]],[[5,5],[4,6],[4,7],[4,8],[5,9]]);break;case 3:b=buildMiniLevel(3,"sssssssssssssWW ssssssssssssssW sssssssssssssss sssssssssssssss sssssssssWBWsss sssssssssWBWssW ssssWWssWWsWWWW WssWWWWWWsssWWs WWWWssWWssssWss WWsssssssssWsss ssssssssssWWsss sssssssssssWsss sssssssssssbsss ssssWssssssWsss sssWWWssssWssss",
"snow",[new Obstacle("tree",3,0),new Obstacle("tree",4,1),new Obstacle("tree",2,3),new Obstacle("tree",4,5),new Obstacle("tree",7,3),new Obstacle("tree",8,1),new Obstacle("tree",11,3),new Obstacle("tree",13,4),new Obstacle("tree",4,2),new Obstacle("tree",5,5),new Obstacle("tree",2,12),new Obstacle("tree",6,10),new Obstacle("tree",8,13),new Obstacle("tree",13,9),new Obstacle("tree",14,13)],[[7,2],[12,3],[7,12],[4,8],[14,8]],[[1,1],[3,4],[9,9],[3,13],[12,11]]);break;case 4:b=buildMiniLevel(4,"vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvWvvv vvvvwwwvvvWWWBW vvvwwwwwvvWvvvW vvvWWBWwvvWvvvW WWWWWwWWWWWvvWW WWWwwwwWWWWBWWW WvvvwwwwvvWBWWW vvvvvvvvvvvvWWW vvvvvvvvvvvvvWW vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv ",
"savannah",[new Obstacle("hotel",4,5),new Obstacle("shop",6,5),new Obstacle("house3",3,8),new Obstacle("house1",7,9),new Obstacle("tree",2,11),new Obstacle("tree",6,14),new Obstacle("tree",8,11),new Obstacle("tree",1,3),new Obstacle("tree",7,1),new Obstacle("tree",12,1),new Obstacle("tree",13,14),new Obstacle("tree",8,5),new Obstacle("sign",4,12),new Obstacle("sign",4,3)],[[2,2],[12,3],[6,4],[10,0],[9,6]],[[4,8],[9,14],[12,11],[1,13],[8,9]]);break;case 5:b=buildMiniLevel(5,"cccrrccccccccrc cccrrccccccccrc cccrrccccccccrc cccrrccccccccrc cccrrrrrrrrrrrr cccrrrrrrrrrrrr cccrrggggrccccc cccrrgWWgrccccc cccrrggWgrccccc cccrrggggrccccc rrrrrccccrrrrrc cccrrccccrccccc cccrrccccrccccc cccrrccccrrrrrc cccrrcccccccccc ",
"concrete",[new Obstacle("shop",2,6),new Obstacle("shop",5,14),new Obstacle("hotel",2,13),new Obstacle("hotel",7,3),new Obstacle("hotel",12,3),new Obstacle("building",2,0),new Obstacle("building",5,11),new Obstacle("building",11,6),new Obstacle("bank",2,9),new Obstacle("bank",5,3),new Obstacle("bank",5,1),new Obstacle("hydrant",2,3),new Obstacle("hydrant",0,11),new Obstacle("hydrant",11,9),new Obstacle("hydrant",8,12),new Obstacle("hydrant",11,14),new Obstacle("hydrant",12,0),new Obstacle("house2",
14,1),new Obstacle("house2",12,11),new Obstacle("house3",13,14),new Obstacle("house1",10,9),new Obstacle("tree",0,9),new Obstacle("tree",5,12),new Obstacle("tree",9,3)],[[3,0],[4,0],[3,1],[4,1],[4,2]],[[11,13],[12,13],[13,13],[12,12],[13,12]]);break;case 6:b=buildMiniLevel(6,"WWWWWWWWWWggggg WWWWgggggWggggg WWWWgggggbggggg WWWWgggggWggggg WWWWWWgggWggggg gggggWgggWggggg gggggbgggWggggg gggggWgggWggggg gggggWgggbggggg gggggWgggWggggg gggggWgggWWWWWW gggggWgggggWWWW gggggbgggggWWWW gggggWgggggWWWW gggggWWWWWWWWWW ",
"water",[new Obstacle("shop",5,2),new Obstacle("shop",9,12),new Obstacle("hotel",7,4),new Obstacle("hotel",7,10),new Obstacle("house2",1,7),new Obstacle("house2",3,12),new Obstacle("house3",13,7),new Obstacle("house3",11,2),new Obstacle("hydrant",0,9),new Obstacle("hydrant",14,5),new Obstacle("tree",4,7),new Obstacle("tree",10,7),new Obstacle("tree",6,11),new Obstacle("tree",8,3),new Obstacle("tree",7,7),new Obstacle("tree",1,11),new Obstacle("tree",13,3),new Obstacle("tree",0,13),new Obstacle("tree",
1,14),new Obstacle("tree",13,0),new Obstacle("tree",14,1),new Obstacle("tree",0,14),new Obstacle("tree",14,0)],[[11,3],[13,6],[11,6],[13,4],[10,8]],[[3,11],[1,8],[3,8],[1,10],[4,6]])}b.interpret(!1)}function winMinigame(){$("#you-win-why").html("You defeated all the enemies! Congrats!");increaseMinigamesWon()}
function buildMiniLevel(a,b,c,d,e,f){var g=ANIMAL_LEVEL;for(cleanObjectLists();0<allies.length;)removeAllyNoCheck(allies[0]);for(var h=0;h<MAX_ALLIES;h++){var i=new Ally(randomAnimalType(),f[h][0],f[h][1],g,allyNames[h]);i.levelsWithTeam=0;addAlly(i)}for(var i=[],j=MAX_ALLIES,h=0;h<j;h++){var k=new Enemy(randomAnimalType(),e[h][0],e[h][1],g,0);i.push(k)}return new Level("Minigame",a,b,c,d,i,f)}
function randomAnimalType(){var a=[];for(type in STAT_DB)"Placeholder"==type||("Ghost"==type||-1!=type.indexOf("Boss"))||a.push(type);return randomFromArray(a)};function newGame(){clearSavedData();for(var a=$("#difficulty-level-dialog"),b=$("#difficulty-level-buttonset"),c=0;c<DIFFICULTY_LEVELS.length;c++){var d=DIFFICULTY_LEVELS[c],e="diff"+c,f=$('<input type="radio" name="difficultyLevel" id="'+e+'" />');"Normal"==d.name&&f.attr("checked","checked");b.append($('<label for="'+e+'">'+d.name+"</label>"));f.data("index",c);f.click(function(){var a=parseInt($(this).data("index")),b;switch(DIFFICULTY_LEVELS[a].name){case "Hard":b="Are you sure you want to play on Hard mode? It will be difficult!";
break;case "Insane":b="Are you sure you want to play on Insane mode? It will be much, much more difficult!";break;case "Fiendish":b="Are you sure you want to play on Fiendish mode? It will be absurdly difficult! Seriously! Turn back now while you can, kiddo!"}b?$('<div title="Difficulty level selection">'+b+"</div>").dialog({width:600,height:200,modal:!0,buttons:{"Yes, I'm sure":function(){setDifficultyLevel(DIFFICULTY_LEVELS[a]);$(this).dialog("close")},"No, just kidding":function(){$(this).dialog("close")}}}):
setDifficultyLevel(DIFFICULTY_LEVELS[a])});b.append(f)}b.buttonset();a.removeClass("hidden");a.dialog({width:500,height:350,modal:!0,buttons:{Begin:function(){$(this).dialog("close")}},beforeClose:function(){startNewGame()}})}
function startNewGame(){hideStartScreen();initializeGame();loadLevel(1,1);Logger.log("Welcome to Sprinkle Safari! All messages will be logged here.","urgent");var a;switch(difficultyLevel.name){case "Hard":a="You're playing Hard mode? Good luck!";break;case "Insane":a="Wow, you're playing Insane mode! Good luck (you'll need it)!";break;case "Fiendish":a="You're playing Fiendish mode?!? You're brave. Or crazy. Or both."}a&&Logger.log(a,"info")}function continueGame(){initializeGame();loadGame()}
function initializeGame(){$("#clear-log").click(function(){$("#log-content").html("")});$("#skip-turn").click(skipTurn);initializeEnemyNameDialog();initializeArrows();initializeKeyboardShortcuts()}
function initializeEnemyNameDialog(){$("#enemy-name-dialog").dialog({autoOpen:!1,height:300,width:500,modal:!0,buttons:{OK:function(){var a=!0,b=$("#enemy-name"),c=b.attr("value");b.removeClass("ui-state-error");a&&""!=c?(recruitEnemy(defeatedEnemy,c),$(this).dialog("close")):b.addClass("ui-state-error")}},close:function(){$("#enemy-name").removeClass("ui-state-error");defeatedEnemy&&$(this).dialog("open")}})}
function initializeArrows(){$("#arrows button").each(function(){var a=$(this);"skip-button"!=a.attr("id")&&a.click(function(){if(null!=activeAlly){var b;a.hasClass("Up")&&(b=UP);a.hasClass("Right")&&(b=RIGHT);a.hasClass("Down")&&(b=DOWN);a.hasClass("Left")&&(b=LEFT);takeTurn(b)}})})}
function initializeKeyboardShortcuts(){$(document).keydown(function(a){var b=a.which;if(a.altKey){for(var c=0;c<numAllies();c++){var d=allies[c].getHPPercent(),e=Math.round(100*d)+"%",f="green";d<=HEALTH_RED_THRESHOLD&&(f="red");allies[c].showBadge(e,f,1500)}a.preventDefault()}34==b&&$("#dialogue_next_button").click();27==b&&$("#dialogue_close_button").click();if(null!=activeAlly)switch(b){case 35:skipTurn();break;case 17:activeAlly.ability.isInvokable&&activeAlly.useAbility();break;case 38:takeTurn(UP);
break;case 39:takeTurn(RIGHT);break;case 40:takeTurn(DOWN);break;case 37:takeTurn(LEFT)}})}
function takeTurn(a){if(activeAlly)if(!0==activeAlly.flags.getFlag(FLAG_STUNNED))Logger.log(activeAlly.name+" is stunned and cannot act this turn! Use another animal!","info");else if(0<activeAlly.flags.getFlag(FLAG_LOCKDOWN_TURNS_LEFT))Logger.log(activeAlly.name+" is in Lockdown and cannot move for "+activeAlly.flags.getFlag(FLAG_LOCKDOWN_TURNS_LEFT)+" more turns!","ability");else{if(!activeAlly.tryToAttack(a))if(activeAlly.canMove(a))activeAlly.move(a);else return;endTurn()}}
function attack(a){if(activeAlly)return activeAlly.tryToAttack(a)?!0:!1}function skipTurn(){Logger.log("You skipped your turn!","info");endTurn()}function endTurn(){for(var a=0;a<allies.length;a++)allies[a].onTurnEnd();enemyTurn();updateTeamInfo()}function enemyTurn(){var a=getEnemyClosestToAlly();if(a){var b=getClosestFoe(a);a.takeTurn(b)}for(a=0;a<enemies.length;a++)enemies[a].onTurnEnd()}
function recruitEnemy(a,b){a.div.remove();defeatedEnemy=null;var c=new Ally(a.type,a.x,a.y,a.level,b);c.ivs=a.ivs;c.fullHeal();addAlly(c);c.putOnBoard();Logger.log(b+" joined the team!","recruit");updateTeamInfo();allies.length>MAX_ALLIES&&showRemoveAllyDialog()}
function showRemoveAllyDialog(a){$("#remove-ally-dialog td").html("");var b=allies[numAllies()-1];$("#remove-ally-text").html("<strong>"+b.name+"</strong> wants to join the team, but the team is already full, so one teammate must go! Choose the teammate who will leave the team:");for(b=0;b<numAllies();b++){var c=allies[b],d=$("<h3>"+c.name+"</h3>"),e=$('<img src="'+c.getPicturePath()+'" />'),f="hp-healthy";c.getHPPercent()<=HEALTH_RED_THRESHOLD&&(f="ui-state-error");var f=$('<p><div class="ui-progressbar ui-widget ui-widget-content ui-corner-all" style="width: 100%;height:15px;"><span>'+
c.currentHP+"/"+c.getMaxHP()+'</span><div style="width: '+Math.round(100*c.getHPPercent())+'%;" class="ui-progressbar-value ui-corner-left hp-bar-content '+f+'"></div></div> <table><tr><td>Level <strong>'+c.level+'</strong></td></tr><tr><td><img src="images/interface/sword.png" alt="Attack" title="Attack" /> <strong>'+c.getAttack()+'</strong></td></tr><tr><td><img src="images/interface/shield.png" alt="Defense" title="Defense" /> <strong>'+c.getDefense()+'</strong></td></tr><tr><td>Ability: <abbr title="'+
c.ability.description+'">'+c.ability.name+"</abbr></td></tr></table></p>"),g=$("<button>Goodbye</button>");g.data("for",c.id);0==b&&(g.attr("disabled","disabled"),g.html("Must stay"));b==numAllies()-1&&(d.append(" <em>(new)</em>"),g.html("Sorry"));g.button();g.click(function(){var a=getObjectById($(this).data("for"));removeAlly(a);a.div.remove();Logger.log(a.name+" left the team...","info");updateTeamInfo();$("#remove-ally-dialog").dialog("close")});a&&g.click(a);c=$("#ally"+b);b==numAllies()-1&&
c.addClass("ui-state-highlight");c.append(d);c.append(e);c.append(f);c.append(g)}$("#remove-ally-dialog").removeClass("hidden");$("#remove-ally-dialog").dialog({width:930,height:535,modal:!0,beforeClose:function(){return numAllies()>MAX_ALLIES?!1:!0}})}
function updateTeamInfo(){var a=$("#team-info");a.html("");for(var b=0;b<allies.length;b++){var c=allies[b],d=makeDiv();d.addClass("ally-info-block");var e=$('<img src="'+c.getPicturePath()+'" class="ally-info-image" />');e.attr("title","Click to activate");e.data("animal",c.id);e.click(function(){var a=$(this).data("animal");setActiveAlly(getObjectById(a))});d.append(e);e=$('<div class="ally-info-name">'+c.name+"</div>");d.append(e);e="hp-healthy";c.getHPPercent()<=HEALTH_RED_THRESHOLD&&(e="ui-state-error");
e=$('<div class="ally-info-hp-bar ui-progressbar ui-widget ui-widget-content ui-corner-all"><span class="ally-info-hp-label">'+c.currentHP+"/"+c.getMaxHP()+'</span><div style="width: '+Math.round(100*c.getHPPercent())+'%;" class="ui-progressbar-value ui-corner-left hp-bar-content '+e+'"></div></div>');d.append(e);e="";c.isShiny()&&(e='<img src="images/interface/star.png" alt="Shiny" title="This animal is shiny!" />');c=$('<table class="ally-info-stats"><tr><td>'+e+" Level <strong>"+c.level+'</strong></td><td><img src="images/interface/sword.png" alt="Attack" title="Attack" /> <strong>'+
c.getAttack()+'</strong></td><td><img src="images/interface/shield.png" alt="Defense" title="Defense" /> <strong>'+c.getDefense()+"</strong></td></tr></table>");d.append(c);a.append(d)}}function setDifficultyLevel(a){difficultyLevel=a;ENEMY_HP_MULTIPLIER=orDefault(difficultyLevel.HPMultiplier,1);EXPERIENCE_PER_LEVEL=BASE_EXPERIENCE_PER_LEVEL*orDefault(difficultyLevel.expMultiplier,1)}function loadLevel(a,b){a>NUM_ACTS&&youWin();var c=acts[a-1].getStage(b);!c||!c.grid?youWin():c.interpret(!0)}
function allEnemiesDefeated(){!1==isMinigameOn?Logger.log("There are no more enemies! Move hathix to the flag to finish the level!","info"):youWin()}function youWin(){isMinigameOn?winMinigame():addHallOfFameEntry(new HallOfFame(!0));Logger.log("YOU WIN!","urgent");$("#win-dialog").removeClass("hidden");$("#win-dialog").dialog({width:650,height:280,modal:!0,buttons:{"Play again!":function(){location.reload(!0)}}})}
function gameOver(){isMinigameOn?(Logger.log("Your last team member died! GAME OVER!","urgent"),$("#game-over-who-died").html("Your entire team died, which means game over.")):Logger.log("Your main character died! GAME OVER!","urgent");$("#board").hide("explode",{},2E3,function(){$("#game-over-dialog").removeClass("hidden");$("#game-over-dialog").dialog({width:650,height:280,modal:true,buttons:{"Try again?":function(){location.reload(true)}}})})};$(document).ready(function(){if(!$("html").hasClass("oldie")){hasSync()&&downloadData($.store.get(SL_KEYS.passcode));verticalAlign($("#main-menu"));verticalAlign($("#all"));randomBackground();$("button").button();$("#help-tabs").tabs({});$("#help-dialog").dialog({autoOpen:!1,height:530,width:640});$("#info-tabs").tabs({select:function(){updateTeamInfo()}});$("#tutorial-ok").click(function(){$("#tutorial-overlay").hide();startActiveLevelStartDialogues()});$("#hidden-elephant").click(function(){secretElephantClicked=
!0});$("#hidden-llama-eye").click(function(){Animal.prototype.isShiny=function(){return!0}});$("#dialogue-image").qtip({id:"dialogue",content:{text:"HI!",title:{text:"Some title text"}},position:{my:"bottom left",at:"top right",adjust:{method:"none none"}},show:{event:!1,solo:!0},hide:!1,events:{},style:{classes:"ui-tooltip-shadow ui-tooltip-rounded"}});-1==navigator.appVersion.indexOf("Chrome")&&$("#main-chrome").parent().hide();var a=document.documentElement;!a.requestFullscreen&&(!a.mozRequestFullScreen&&
!a.webkitRequestFullScreen)&&$("#main-fullscreen").parent().hide();hasSync()&&$("#main-sync").parent().hide();!1==isSavedGame()&&($("#main-continue").parent().hide(),$("#main-new").parent().attr("colspan","2"));$("#main-continue").click(function(){hideStartScreen();continueGame()});$("#main-new").click(function(){isSavedGame()?$('<div title="Starting a new game">There is already saved data; you must overwrite the saved data if you want to start a new game. Is this OK?</div>').dialog({resizable:false,
height:200,width:500,modal:true,buttons:{"Overwrite saved data":function(){newGame();$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}}}):newGame()});$("#main-mini").click(function(){startMinigame()});$("#main-sync").click(function(){var a=$('<div title="Sync your Sprinkle Safari data"></div>');a.append("<p>Play Sprinkle Safari across multiple devices? You can synchronize your data so that <strong>you can play from one device and pick up where you left off on another.</strong> All of your data - from your adventure to your statistics - is automatically synced each time you play!</p>");
a.append("<p>If you've never used sync before and want to start syncing your data across computers, you can <strong>set up sync</strong>.</p>");a.append("<p>If you've set up your sync already from another computer, you can enter your passcode to <strong>load your data</strong> on this computer.</p>");a.dialog({height:370,width:600,modal:true,buttons:{"Set up my sync":function(){setUpSync();$(this).dialog("close")},"Load my data":function(){loadSync();$(this).dialog("close")}}})});$("#main-help").click(showHelp);
$("#main-fullscreen").click(function(){var a=document.documentElement;a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen&&a.webkitRequestFullScreen()});$("#header-help").click(showHelp);$("#help-close").click(hideHelp);setTimeout(function(){$("#loadingscreen").hide("puff",{},"slow")},500)}});
function randomBackground(){var a="grass snow water wood savannah tile".split(" "),a=a[Math.floor(Math.random()*a.length)];$("#startscreen").css("background-image","url(images/tiles/translucent/"+a+".png)");$("#main-menu").css("background-image","url(images/tiles/"+a+".png)")}function hideStartScreen(){$("#startscreen").hide("scale",{},1E3)}
function setUpSync(){var a=$('<div title="Start syncing your data"></div>');a.append("<p>Your data is saved <strong>securely and anonymously on hathix.com's servers</strong>. We don't use any of your personal information besides a passcode, which is used to identify your information.</p>");a.append("<p>Please enter a passcode. Please make sure that it's <strong>unique and memorable</strong>. A few examples of good passcodes:</p>");a.append('<ul style="font-style: italic;"><li>llamas make bad pets</li><li>all hail the donut</li><li>insert witty catchphrase</li></ul>');
a.append('<input type="text" id="enter-passcode" />');a.dialog({height:400,width:600,modal:!0,buttons:{"Start syncing!":function(){var a=$("#enter-passcode").val();""!=a&&($.store.set(SL_KEYS.passcode,a),uploadData(a),alert("Your sync has been successfully set up. Remember the passcode '"+a+"'!"));$(this).dialog("close")}}})}
function loadSync(){var a=$('<div title="Sync data from another computer"></div>');a.append("<p>If you've set up sync and created a passcode from another computer, you can connect this computer. <strong>You can continue what you started on your other computer, and any progress you make here will be synced back to your other computer.</strong></p>");a.append("<p>Please enter your passcode to start syncing.</p>");a.append('<input type="text" id="enter-passcode" />');a.dialog({height:320,width:600,modal:!0,
buttons:{"Get my data!":function(){var a=$("#enter-passcode").val();$.store.set(SL_KEYS.passcode,a);downloadData(a);alert("Your data should have been downloaded; sync should now be set up on this computer.");$(this).dialog("close")}}})}function showHelp(){$("#help-dialog").removeClass("hidden");$("#help-dialog").dialog("open")}function hideHelp(){$("#help-dialog").dialog("close")};acts.push(new Act(1,function(a){var b,c="grass",d,e,f,g,h,i;switch(a){case 1:b="gggggggpggggggg gggggggpggggggg gggggggpggggggg gggggggpggggggg gggggggpggggggg gggggggpggggggg gggggggpggggggg gggggggpggggggg gggggggpggggggg gggggggpggggggg gggggggpggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ";d=[new Obstacle("tree",6,10),new Obstacle("tree",6,9),new Obstacle("tree",6,8),new Obstacle("tree",6,7),new Obstacle("tree",6,6),new Obstacle("tree",8,10),new Obstacle("tree",
8,9),new Obstacle("tree",8,8),new Obstacle("tree",8,7),new Obstacle("tree",8,6),new Obstacle("house1",7,11),new Steppable("flag",7,0)];e=[new Enemy("Squirrel",7,7,1,0)];f=[[7,8]];g=[dEnemy("Squirrel","HOLD IT RIGHT THERE!"),dCharacter("What, is it a crime to get the newspaper anymore?"),dEnemy("Squirrel","I dunno about that. But it's now officially a crime to not hand over your donuts to an Authorized Goon\u2122."),dCharacter("Er, what? I just wanted the paper. Why do you want my donuts? There's a store across the street!"),
dEnemy("Squirrel","<em>Was</em> a store. See, there's a reason why we Goons\u2122 are spread across the borough. We want your donuts. And don't bother asking why."),dCharacter("OK, no one stands in the way of me and my newspaper. EN GARDE!")];h=[dCharacter("Geez, wonder why that guy wanted my donuts... wait a second, he said the goons were all over the borough."),dCharacter("And that means they're in the capital, Bagelsburg... and that's where my dear old Grandma lives! I have to get over there now to make sure she's OK!")];
i=new Ally("Elephant",0,0,1,MAIN_CHAR_NAME);secretElephantClicked&&(i.ivs={atk:SHINY_IV_THRESHOLD,def:SHINY_IV_THRESHOLD,hp:SHINY_IV_THRESHOLD});break;case 2:b="ggggggggggggggg ggggggggggggggg gggppppppgggggg gddpggggppppddg gggppggggggpggg ggggpggggggpppg ggggpggggggggpp ggggpgggggggggp ggggppggggggggg gggggppgggggggg ggggggppggggggg gggggggpggggggg gggggggpddggggg gggggggpggggggg gggggggpggggggg ";d=[new Obstacle("tree",12,10),new Obstacle("tree",12,14),new Steppable("quarter-heart",11,12),new Steppable("half-heart",
1,2),new Steppable("full-heart",13,3),new Obstacle("house1",10,12),new Obstacle("house3",0,3),new Obstacle("house2",14,3),new Steppable("flag",14,7),new Obstacle("tree",0,2),new Obstacle("tree",0,4),new Obstacle("tree",1,4),new Obstacle("tree",2,2),new Obstacle("tree",2,4),new Obstacle("tree",14,2),new Obstacle("tree",13,2),new Obstacle("tree",12,2),new Obstacle("tree",13,4),new Obstacle("tree",14,4),new Obstacle("tree",9,11),new Obstacle("tree",10,11),new Obstacle("tree",11,11),new Obstacle("tree",
12,11),new Obstacle("tree",12,13),new Obstacle("tree",12,12),new Obstacle("water",6,4),new Obstacle("water",6,5),new Obstacle("water",6,6),new Obstacle("water",7,6),new Obstacle("water",7,7),new Obstacle("water",8,7),new Obstacle("water",7,5),new Obstacle("water",8,5),new Obstacle("water",9,5),new Obstacle("water",9,6),new Obstacle("water",8,6),new Obstacle("water",9,7),new Obstacle("water",10,7),new Obstacle("water",11,7),new Obstacle("water",11,9),new Obstacle("water",8,8),new Obstacle("water",
9,8),new Obstacle("water",10,8),new Obstacle("water",9,9),new Obstacle("water",10,9),new Obstacle("water",11,8)];e=[new Enemy("Squirrel",2,3,1,0),new Enemy("Squirrel",11,3,1,0),new Enemy("Squirrel",7,11,1,0),new Enemy("Sheep",6,2,1,0)];f=[[7,14],[6,14]];i=new Ally("Dog",0,0,1,"Chase");g=[dCharacter("Hey, Chase! What's up?"),dNeutral("Chase","Dog",'Well, not much, if you consider being mobbed, beaten, and robbed of all my donuts "not much."'),dCharacter("Glad you're... OK. Say, I'm heading for Bagelsburg, and I guess I'll have to fight some of these goons on the way. Want to come along?"),
dAlly("Chase","Dog","And get sweet, sweet revenge? And sweet, sweet donuts? Count me in!")];h=[dCharacter("Well, that was some good aerobic exercise. Bagelsburg, here we come!")];break;case 3:b="ggggggggggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg gggggggpppppggg gggggggpgggppgg gggggpppggggppp gggpppggggggggg ppppgggggddddgg gggggggdddggdgg gggggggdggggdgg gggggggdgggddgg gggggggdddddggg ggggggggggggggg ggggggggggggggg ";d=[new Obstacle("water",10,9),new Obstacle("water",11,9),new Obstacle("water",
11,10),new Obstacle("water",10,10),new Obstacle("water",9,10),new Obstacle("water",8,10),new Obstacle("water",8,11),new Obstacle("water",9,11),new Obstacle("water",10,11),new Steppable("flag",14,6),new Obstacle("house1",9,3),new Obstacle("house2",8,5),new Obstacle("house3",4,6),new Obstacle("hydrant",4,8),new Obstacle("hydrant",6,4),new Obstacle("hydrant",13,5),new Obstacle("tree",10,3),new Obstacle("tree",6,11),new Obstacle("tree",9,13),new Obstacle("tree",13,8),new Obstacle("tree",3,6),new Steppable("half-heart",
11,11),new Steppable("full-heart",4,2)];e=[new Enemy("Squirrel",3,2,1),new Enemy("Squirrel",4,1,1,0.5),new Enemy("Squirrel",5,2,1,0.5),new Enemy("Squirrel",4,3,1),new Enemy("Sheep",3,8,1,1),new Enemy("Pig",12,11,1),new Enemy("Cow",11,2,1)];f=[[0,8],[0,9]];g=[dCharacter("Er, uh, hi, don't I know you?"),dEnemy("Sheep","I think so."),dCharacter("Then why are you fighting for those goons?"),dEnemy("Sheep","Well, some of these thugs - those Squirrels there - threatened they'd attack me if I didn't join them. So I did."),
dCharacter("Huh, that sucks... say, listen, I'm trying to save my grandma from these goons and could use some help. Could you join me?"),dEnemy("Sheep","I don't think so, let me see my contract... yeah, I can't join you unless you beat me."),dEnemy("Sheep","If you beat me, I'd be happy to join you. I don't like these thugs any more than you do."),dEnemy("Sheep","In fact, I'd be willing to bet a bunch of the goons you run into would want to join you. All you have to do is beat them and ask...")];h=
[];break;case 4:b="ggggggggggggggg gggddgggggddggg gggdddgggddddgg ggggggggggddggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ppppppggggggggg ggggggggggggggg ggggggggggggggg gggggggggdggggg ggggggggddddggg ggggggggdgddggg ggggggggggggggg ggggggggggggggg ";d=[new Obstacle("house1",3,8),new Obstacle("tree",6,7),new Obstacle("tree",4,2),new Obstacle("tree",5,2),new Obstacle("tree",10,1),new Obstacle("tree",10,2),new Obstacle("tree",11,2),new Obstacle("tree",9,11),new Obstacle("tree",10,11),new Obstacle("tree",
11,11),new Obstacle("tree",4,11),new Obstacle("tree",13,6),new Obstacle("tree",12,6),new Obstacle("tree",11,7),new Obstacle("tree",8,5),new Obstacle("tree",0,2),new Obstacle("tree",1,5),new Obstacle("tree",0,12),new Obstacle("tree",2,13),new Obstacle("tree",6,14),new Obstacle("tree",9,14),new Obstacle("tree",14,12),new Obstacle("tree",12,12),new Obstacle("tree",13,9),new Obstacle("tree",9,9),new Obstacle("tree",9,4),new Obstacle("tree",7,4),new Obstacle("tree",5,5),new Obstacle("tree",4,5),new Obstacle("tree",
8,0),new Obstacle("tree",7,1),new Obstacle("tree",14,2),new Obstacle("tree",13,3),new Obstacle("tree",13,4),new Obstacle("tree",14,4),new Steppable("flag",14,7),new Steppable("half-heart",9,12),new Steppable("half-heart",11,1)];e=[new Enemy("Dog",12,7,1),new Enemy("Pig",11,12,1),new Enemy("Cow",5,1,1),new Enemy("Squirrel",7,6,2)];f=[[2,7],[1,7],[3,7],[4,7],[5,7]];g=[dEnemy("Pig","Yo, Ted! Got any 5s?","Pete"),dEnemy("Dog","Nah, go fish yaself, Pete!","Ted"),dEnemy("Squirrel","Shut up, ya bumblin' idiots! I think I 'eard someone comin!",
"Mark"),dEnemy("Pig","Pfft. Cancha see we're busy here, Mark? I SAID, GOT ANY JACKS?!?","Pete"),dEnemy("Dog","Once again, Petey ol' boy, go fish.","Ted"),dEnemy("Squirrel","Ah ferget you. We don't need 'em to pull off dis ambush.","Mark")];h=[];break;case 5:b="ggggggggggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg gggggggggggggpp ggggggppbpppppg gggggppgggggggg gggpppggggggggg ppppggggggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ";
d=[new Obstacle("house1",1,12),new Obstacle("water",8,9),new Obstacle("water",8,10),new Obstacle("water",9,10),new Obstacle("water",9,11),new Obstacle("water",10,11),new Obstacle("water",10,12),new Obstacle("water",10,13),new Obstacle("water",10,14),new Obstacle("water",11,14),new Obstacle("water",8,7),new Obstacle("water",8,6),new Obstacle("water",7,6),new Obstacle("water",7,5),new Obstacle("water",6,5),new Obstacle("water",6,4),new Obstacle("water",5,4),new Obstacle("water",5,3),new Obstacle("water",
5,2),new Obstacle("water",5,1),new Obstacle("water",4,1),new Obstacle("water",4,0),new Obstacle("water",5,0),new Obstacle("water",6,0),new Obstacle("water",6,1),new Obstacle("water",6,2),new Obstacle("water",6,3),new Obstacle("water",7,3),new Obstacle("water",7,4),new Obstacle("water",8,4),new Obstacle("water",8,5),new Obstacle("water",9,5),new Obstacle("water",9,6),new Obstacle("water",9,9),new Obstacle("water",10,10),new Obstacle("water",11,12),new Obstacle("water",11,11),new Obstacle("water",11,
13),new Obstacle("water",12,13),new Obstacle("water",12,14),new Obstacle("house2",9,7),new Obstacle("house3",7,9),new Obstacle("building",7,7),new Obstacle("house1",10,9),new Obstacle("shop",10,7),new Steppable("flag",14,7),new Obstacle("tree",7,1),new Obstacle("tree",8,2),new Obstacle("tree",9,2),new Obstacle("tree",10,1),new Obstacle("tree",3,14),new Obstacle("tree",4,13),new Obstacle("tree",5,13),new Obstacle("tree",6,13),new Obstacle("tree",14,11),new Obstacle("tree",13,11),new Obstacle("tree",
2,4),new Obstacle("tree",3,6),new Obstacle("tree",1,7),new Obstacle("tree",13,3),new Obstacle("tree",11,5),new Steppable("half-heart",4,14),new Steppable("quarter-heart",14,14),new Steppable("half-heart",4,2),new Steppable("quarter-heart",8,1)];e=[new Enemy("Chicken",13,8,1,0.25),new Enemy("Sheep",9,1,2),new Enemy("Pig",14,12,2),new Enemy("Squirrel",9,8,2),new Enemy("Cat",9,4,1)];f=[[1,11],[0,11],[2,10],[3,12],[0,9]];g=[dNeutral("Cap'n Squeak","Mouse","Avast! Landlubber! What do you want, you lily-livered fiends?"),
dCharacter('Actually, we\'re fighting against those, uh, "lily-livered fiends.", captain.'),dNeutral("Cap'n Squeak","Mouse","Now you are, aren't ya? Good on ya, matey. Anyway what can this old dog do for ya?"),dCharacter("Thanks, captain... I was wondering if this is the right way to Bagelsburg."),dNeutral("Cap'n Squeak","Mouse","Actually, it is. But you'll have to get through those scurvy fiends 'cross the river."),dNeutral("Cap'n Squeak","Mouse","Earlier today I went out to show 'em some manners, but they were too much. That chicken feller attacked me from two spaces away! Had me down before I could even touch 'im. Watch out, mateys. Arr."),
dCharacter("Thanks, captain. And, uh, arr to you too.")];h=[dNeutral("Cap'n Squeak","Mouse","That was brilliant, matey! Gave 'em the ol' one-two, huh? If I were a youngin' again I'd join ya, but all I can do now is wish ya the best o' luck. Arr!")];break;case 6:b="ggggggggggggggg ggggggggggggggg ggggggggggggggg ggggdgggggggccc gggpppgggdggcpc ggppgpppgdggppc ggpggggppppgpgc pppgggggggpppgg gdgggggggggdggg gggggggggggdggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ggggggggggggggg ";
d=[new Obstacle("house1",13,2),new Obstacle("house2",4,2),new Obstacle("house3",9,3),new Obstacle("house1",11,10),new Obstacle("hotel",1,9),new Obstacle("hydrant",5,3),new Obstacle("hydrant",7,7),new Obstacle("hydrant",11,6),new Obstacle("sign",14,3),new Obstacle("tree",4,7),new Obstacle("tree",4,6),new Obstacle("tree",5,6),new Obstacle("tree",5,7),new Obstacle("tree",11,4),new Obstacle("tree",10,4),new Obstacle("tree",10,5),new Obstacle("tree",11,5),new Obstacle("tree",0,9),new Obstacle("tree",1,
10),new Obstacle("tree",2,9),new Steppable("flag",14,4),new Obstacle("tree",0,11),new Obstacle("tree",0,10),new Obstacle("tree",3,10),new Obstacle("tree",3,11),new Obstacle("tree",3,12),new Obstacle("tree",3,13),new Obstacle("tree",2,13),new Steppable("full-heart",1,11),new Steppable("half-heart",6,5)];e=[new Enemy("Pig",14,5,2),new Enemy("Cow",14,6,2),new Enemy("Dog",13,4,1),new Enemy("Squirrel",2,10,2),new Enemy("Cat",13,3,1)];f=[[0,7],[1,7],[0,8],[1,8],[0,6]];g=[dEnemy("Dog","OK, old man, give us all your donuts."),
dNeutral("Old Man","Panda","Eh? What? Speak up, young whippersnapper, and get off my lawn!"),dEnemy("Cat","That's not how you do it, you idiot. This is. Hey, oldie! We want your donuts! All of 'em! Put 'em right here and no one gets hurt!"),dCharacter("Hey! Why are you harassing him?"),dEnemy("Cat","Because, dunderhead, the Colonel wants us to steal everyone's donuts and beat up some people while we're at it."),dCharacter("Why would you do that?"),dEnemy("Cat","Beats me, we just do as the Colonel says. He's gives the paychecks, he gives the orders. Now where was I? Oh yeah, HAND 'EM OVER!"),
dCharacter("Guess I'll have to be the hero...")];h=[dNeutral("Old Man","Panda","Many thanks, young whatshisface. I was about to use my ability on those hoodlums - you know, hover over your picture, some abilities can be, ehhh... what's the word?"),dCharacter("Er... Used? Performed? Invoked?"),dNeutral("Old Man","Panda","Yes, invoked, that's it, very bright, you are... yes, some abilities can be invoked... you should try it some time... "),dNeutral("Old Man","Panda","Anyway, get off my lawn, I'm going for a nap... and tell the meatloaf delivery boy he's late.... Zzzzz...")];
break;case 7:b="cccccrcccccrccc cccccrcccccrccc cccccrcccccrccc cccccrcccccrccc cccccrcccccrccc rrrrrrrrrrrrrrr cccccrgggggrccc cccccrgggggrccc cccccrgggggrccc cccccrgggggrccc cccccrgggggrccc rrrrrrrrrrrrrrr cccccrcccccrccc cccccrcccccrccc cccccrcccccrccc ";d=[new Steppable("flag",5,14),new Obstacle("sign",6,0),new Obstacle("water",7,7),new Obstacle("water",8,6),new Obstacle("water",8,7),new Obstacle("water",9,7),new Obstacle("water",10,7),new Obstacle("water",10,8),new Obstacle("water",9,8),new Obstacle("water",
9,9),new Obstacle("water",7,9),new Obstacle("water",8,9),new Obstacle("water",7,8),new Obstacle("water",8,8),new Obstacle("water",7,10),new Obstacle("water",6,10),new Obstacle("water",6,9),new Obstacle("tree",10,10),new Obstacle("tree",9,10),new Obstacle("tree",10,9),new Obstacle("tree",6,7),new Obstacle("tree",6,6),new Obstacle("tree",7,6),new Obstacle("building",3,4),new Obstacle("building",10,2),new Obstacle("building",13,6),new Obstacle("building",12,12),new Obstacle("building",8,12),new Obstacle("building",
1,10),new Obstacle("hydrant",6,4),new Obstacle("hydrant",4,12),new Obstacle("hydrant",12,10),new Obstacle("hydrant",12,4),new Obstacle("hotel",10,0),new Obstacle("hotel",1,4),new Obstacle("hotel",1,12),new Obstacle("hotel",10,14),new Obstacle("shop",14,6),new Obstacle("shop",13,4),new Obstacle("shop",12,6),new Obstacle("shop",12,6),new Obstacle("shop",6,2),new Obstacle("bank",8,4),new Obstacle("bank",4,8),new Steppable("half-heart",8,3),new Steppable("quarter-heart",5,7)];e=[new Enemy("Cat",8,10,
1,0.5),new Enemy("Sheep",13,7,2),new Enemy("Dog",0,11,2),new Enemy("Cow",8,5,2),new Enemy("Squirrel",2,2,2)];f=[[8,1],[8,2],[7,2],[9,2],[8,0]];g=[dSign("Welcome to Bagelsburg, home of the Bagelsburg Pastries baseball club!"),dCharacter("OK, I know my grandma lives on the far side of town. But which way should I go?"),dEnemy("Cat","Someone's here! Get ready, everyone!"),dEnemy("Sheep","Huh? What? Is it lunch time already?")];h=[dCharacter("Is that... it is! There's my grandma's house over there! It's still standing, which is a good sign.")];
c="concrete";break;case 8:b="cccccrcccccrccc cccccrcccccrccc cccccrcccccrccc cccccrcccccrccc cccccrcccccrccc rrrrrrrrrrrrrrr cccccrcccccrccc cccccrcccccrccc cccccrcccccrccc cccccrcccccrddd gccccrcccccddgg gccccrcccccdggg ggcccrccccddggg gggccpccccdgggg gggggpggggdgggg ";d=[new Steppable("flag",5,14),new Obstacle("water",14,10),new Obstacle("water",13,10),new Obstacle("water",13,11),new Obstacle("water",14,11),new Obstacle("water",12,11),new Obstacle("water",12,12),new Obstacle("water",12,14),new Obstacle("water",
11,13),new Obstacle("water",11,14),new Obstacle("water",12,13),new Obstacle("water",14,12),new Obstacle("water",13,12),new Obstacle("water",13,13),new Obstacle("water",14,13),new Obstacle("water",14,14),new Obstacle("water",13,14),new Obstacle("house1",6,13),new Obstacle("house1",4,8),new Obstacle("house1",10,3),new Obstacle("house2",12,4),new Obstacle("house2",4,2),new Obstacle("house2",1,6),new Obstacle("house2",10,8),new Obstacle("house2",12,1),new Obstacle("building",6,0),new Obstacle("building",
0,0),new Obstacle("hotel",0,3),new Obstacle("hotel",13,0),new Obstacle("shop",6,7),new Obstacle("shop",8,6),new Obstacle("shop",12,7),new Steppable("full-heart",0,1),new Steppable("half-heart",12,10),new Steppable("full-heart",14,0)];e=[new Enemy("Chicken",11,5,2,0.5),new Enemy("Chicken",5,5,2,0.2),new Enemy("Cat",5,9,2,0.2),new Enemy("Chicken",11,9,2),new Enemy("Dog",10,9,2,0.25)];f=[[5,0],[11,0],[0,5],[14,5],[8,2]];g=[dCharacter("Grandma! There you are! Are you OK?"),dNeutral("Grandma","Elephant",
"How nice to see my favorite grandson! My, you've grown! Come inside and have some fresh-baked peanut butter cookies!"),dCharacter("You know I'm allergic to peanuts, grandma. But anyway, did any thugs bother you today?"),dNeutral("Grandma","Elephant","Why, no, I haven't had a visitor all day. Actually, one young man - I think he was a chicken - showed up. I offered him some of my homestyle chicken wings - you know how popular those are - and he screamed and ran away! How very impolite!"),dCharacter("Well, as long as you're OK. Do you know where the guy who's in charge is?"),
dEnemy("Chicken","Quick! Someone's here! And he's talking to that crazy old lady! Someone call the Colonel! He's on the pier!"),dNeutral("Grandma","Elephant","I think the pier's to the south. But why is it bothering you? Come in and have a cookie!"),dCharacter("Sorry, Grandma, I can't. I've got to have a word with this Colonel guy.")];h=[dNeutral("Grandma","Elephant","Nice job! Are you sure you don't want a cookie?"),dCharacter("Maybe later, grandma. At least, after I go talk to the Colonel guy on the pier."),
dNeutral("Grandma","Elephant","Don't get yourself hurt!")];c="concrete";break;case 9:b="gggggpggddggggg gggggpgggddgggg gggggpggggddggg gggggpgggggdggg gggggpgggggddgg gggggpggggggddg gpppppppppppppg gpgggpgggpgggpg gpgggpgggpgggpg gBgggBgggBgggBg gBgggBgggBgggBg gBgggBgggBgggBg gggggggggBggggg ggggggggdddgggg ggggggggdddgggg ";d=[new Obstacle("water",10,0),new Obstacle("water",12,0),new Obstacle("water",11,0),new Obstacle("water",11,1),new Obstacle("water",12,1),new Obstacle("water",13,1),new Obstacle("water",
13,0),new Obstacle("water",14,0),new Obstacle("water",14,1),new Obstacle("water",14,2),new Obstacle("water",13,2),new Obstacle("water",12,2),new Obstacle("water",12,3),new Obstacle("water",13,3),new Obstacle("water",14,3),new Obstacle("water",13,4),new Obstacle("water",14,4),new Obstacle("water",14,5),new Obstacle("water",14,6),new Obstacle("water",14,7),new Obstacle("water",14,8),new Obstacle("water",14,9),new Obstacle("water",14,10),new Obstacle("water",14,11),new Obstacle("water",14,12),new Obstacle("water",
14,14),new Obstacle("water",14,13),new Obstacle("water",13,12),new Obstacle("water",13,13),new Obstacle("water",13,14),new Obstacle("water",12,14),new Obstacle("water",11,14),new Obstacle("water",11,13),new Obstacle("water",11,12),new Obstacle("water",12,12),new Obstacle("water",12,13),new Obstacle("water",10,9),new Obstacle("water",11,9),new Obstacle("water",12,9),new Obstacle("water",12,11),new Obstacle("water",12,10),new Obstacle("water",11,10),new Obstacle("water",10,10),new Obstacle("water",
10,11),new Obstacle("water",11,11),new Obstacle("water",10,12),new Obstacle("water",0,9),new Obstacle("water",0,10),new Obstacle("water",0,12),new Obstacle("water",0,11),new Obstacle("water",0,13),new Obstacle("water",0,14),new Obstacle("water",1,14),new Obstacle("water",1,13),new Obstacle("water",1,12),new Obstacle("water",2,12),new Obstacle("water",2,11),new Obstacle("water",2,10),new Obstacle("water",2,9),new Obstacle("water",3,9),new Obstacle("water",4,9),new Obstacle("water",4,10),new Obstacle("water",
3,10),new Obstacle("water",3,11),new Obstacle("water",3,12),new Obstacle("water",3,13),new Obstacle("water",2,13),new Obstacle("water",2,14),new Obstacle("water",3,14),new Obstacle("water",4,14),new Obstacle("water",4,13),new Obstacle("water",4,12),new Obstacle("water",4,11),new Obstacle("water",5,12),new Obstacle("water",6,9),new Obstacle("water",6,10),new Obstacle("water",6,11),new Obstacle("water",6,12),new Obstacle("water",5,13),new Obstacle("water",6,13),new Obstacle("water",6,14),new Obstacle("water",
5,14),new Obstacle("water",7,9),new Obstacle("water",8,9),new Obstacle("water",8,10),new Obstacle("water",7,10),new Obstacle("water",7,11),new Obstacle("water",8,11),new Obstacle("water",8,12),new Obstacle("water",7,12),new Obstacle("water",7,13),new Obstacle("water",7,14),new Steppable("flag",9,14),new Steppable("half-heart",1,11),new Steppable("half-heart",5,11),new Steppable("half-heart",13,11),new Steppable("full-heart",5,0),new Steppable("secret-entrance",5,6)];e=[new Boss("Chicken","Colonel Fried Chicken",
9,13,3)];f=[[5,1],[6,1],[4,1],[6,0],[4,0]];g=[dCharacter("Hey! Mr. Colonel! What's the reason for all these goons? And why are they stealing all the donuts, anyway?"),dEnemy("Chicken","Whoa whoa whoa, watch who you're accusing. I'm just doing as Dr. Llama said.","Colonel Fried Chicken"),dCharacter("Who's that?"),dEnemy("Chicken","Why, he's the evil mastermind who's trying to steal all the world's donuts, of course! Don't tell me you don't know him!","Colonel Fried Chicken"),dCharacter("Well, uh, I don't, sorry."),
dEnemy("Chicken","Oh. Uh, let me look at my script... doesn't say anything for this situation... guess I gotta ad lib.","Colonel Fried Chicken"),dEnemy("Chicken","Um, yeah! Why have you been attacking all my goons? They're very expensive, you know. And, uh, I think this means I get to fight you! Awesome!","Colonel Fried Chicken")];h=[dNeutral("Jamie","Triceratops","Beat reporter Jamie of WXIP-940 here with the hero of the day, mister, uh, Haddix? Hateex? Atiks?"),dCharacter("Er, no, it's just hathix..."),
dNeutral("Jamie","Triceratops","Right, so, Mr. Haddix, is it true you are now going to the evil Dr. Llama's lair in East Sprinklestan to face him yourself?"),dNeutral("The Mayor","Rhino","Of course it is, isn't it, Mr. Atiks? And that's why I've booked you an all-expenses-paid trip to and from East Sprinklestan!"),dNeutral("Jamie","Triceratops","Mr. Mayor! How nice to see you! This will make an excellent photo-op! AND tweet!"),dNeutral("Jamie","Triceratops","<i>Currently with town hero Haddix and the Mayor! #mustfakesmile #15minutesalmostover</i>"),
dNeutral("The Mayor","Rhino","As I was saying, Mr. Atiks, you'll be going to East Sprinklestan in style... on a luxury YACHT, headed by the lovely Captain May! And there she is now!"),dNeutral("Captain May","Hippo","I'll take it from here, Mayor. You and your friends can come with me, Mr. Hathix. I'm sure you want to leave as much as I do."),dCharacter("Thanks... I'm not a big fan of the media either."),dNeutral("Captain May","Hippo","I figured. Come on, let's get going. We'll stop briefly in North Icington, but we should be there in a day or so."),
dCharacter("Actually, I-"),dNeutral("Captain May","Hippo","If you don't want to do this - and I don't blame you - I can take you home."),dCharacter("Well, after seeing all the damage and terror Llama's goons have created, I'd like to go visit him and get him to call them off."),dNeutral("Captain May","Hippo","Righto. Full speed ahead!")];break;case SECRET_STAGE:b="ddddddddddddddd ddddddddgdddddd dddWdddgggddddd ddddddddgdddWdd ddddddddddddddd ddddddddddddddd ddddddWdddddddd ddddddddddddddd dddWddddddWdddd dddddWddddddWdd WddddddWdWddddW WdWdddWWWWWdWdW WWddWdWWWdWddWW WWWddddgWdddWWW WWWWWddWWWWWWWW ",
d=[new Obstacle("cave-wall",0,4),new Obstacle("cave-wall",1,4),new Obstacle("cave-wall",2,4),new Obstacle("cave-wall",12,6),new Obstacle("cave-wall",12,7),new Obstacle("cave-wall",13,7),new Obstacle("cave-wall",14,7),new Obstacle("cave-wall",5,6),new Obstacle("cave-wall",5,7),new Obstacle("cave-wall",5,8),new Obstacle("cave-wall",6,8),new Obstacle("cave-wall",11,0),new Obstacle("cave-wall",11,1),new Obstacle("cave-wall",11,2),new Obstacle("barrel",2,9),new Obstacle("barrel",8,5),new Obstacle("barrel",
8,9),new Steppable("flag",7,13),new Steppable("half-heart",1,7),new Steppable("half-heart",10,7)],e=[new Enemy("Kangaroo",4,9,2,0.5),new Enemy("Kangaroo",9,12,2,0.5),new Enemy("Monkey",5,4,2,0.2),new Enemy("Dog",8,6,2,0.2),new Enemy("Bunny",13,1,2,0.2)],f=[[8,3],[7,2],[9,2],[8,1],[8,2]],g=[dCharacter("Oof. Wh- what just happened? How'd I get down here?"),dNeutral("Serendiputously Placed Bystander","Ostrich","Good question. More importantly, how'd <em>I</em> get down here?'"),dEnemy("Monkey","Yeah, man! I'm supposed to be found in level, er, 4-2, yet I'm in this dump... what gives?"),
dCharacter("I think we can all agree that the guy who coded this game was probably in the midst of a caffeine-induced fervor when he threw this piece of junk level together."),dNeutral("Extremely Innocent Bystander","TRex","I concur. Listen, instead of complaining, how about you just, you know, fight? Cause that's the reason I came down here in the first place. I think.")],h=[dCharacter("Well, there's the surface again. Strange place, this."),dNeutral("Extremely Innocent Bystander","Trex","Once again, I concur. Now get back to what you were doing before. Also, what happens in secret levels stays in secret levels. Remember that.")]}return new Level(1,
a,b,c,d,e,f,g,h,i)}));acts.push(new Act(2,function(a){var b,c="snow",d,e,f,g,h,i;switch(a){case 1:b="sssssssssspssss sssssssssspssss sssspppppppssss sssssssssspssps sssssssssspssps sssssssspppppps sssssppppssssps ssssspsssssssps ssssspppsssssps spppppsssssssss ssssspsssssssss sssssBsssssssss sssssBsssssssss sssssBsssssssss sssssssssssssss ";d=[new Obstacle("water",0,10),new Obstacle("water",1,10),new Obstacle("water",1,11),new Obstacle("water",2,11),new Obstacle("water",3,11),new Obstacle("water",4,11),new Obstacle("water",
6,11),new Obstacle("water",7,11),new Obstacle("water",7,10),new Obstacle("water",8,10),new Obstacle("water",8,9),new Obstacle("water",9,9),new Obstacle("water",10,9),new Obstacle("water",11,9),new Obstacle("water",11,10),new Obstacle("water",12,10),new Obstacle("water",12,11),new Obstacle("water",13,11),new Obstacle("water",13,12),new Obstacle("water",14,12),new Obstacle("water",14,13),new Obstacle("water",14,14),new Obstacle("water",13,14),new Obstacle("water",13,13),new Obstacle("water",12,13),
new Obstacle("water",12,14),new Obstacle("water",11,13),new Obstacle("water",11,12),new Obstacle("water",12,12),new Obstacle("water",11,11),new Obstacle("water",10,11),new Obstacle("water",10,10),new Obstacle("water",9,10),new Obstacle("water",9,11),new Obstacle("water",8,11),new Obstacle("water",8,12),new Obstacle("water",9,12),new Obstacle("water",10,12),new Obstacle("water",10,13),new Obstacle("water",10,14),new Obstacle("water",11,14),new Obstacle("water",9,14),new Obstacle("water",8,14),new Obstacle("water",
8,13),new Obstacle("water",9,13),new Obstacle("water",7,12),new Obstacle("water",6,12),new Obstacle("water",6,13),new Obstacle("water",7,13),new Obstacle("water",7,14),new Obstacle("water",6,14),new Obstacle("water",5,14),new Obstacle("water",4,14),new Obstacle("water",4,13),new Obstacle("water",4,12),new Obstacle("water",3,12),new Obstacle("water",2,12),new Obstacle("water",1,12),new Obstacle("water",0,12),new Obstacle("water",0,13),new Obstacle("water",0,14),new Obstacle("water",1,14),new Obstacle("water",
1,13),new Obstacle("water",2,13),new Obstacle("water",2,14),new Obstacle("water",3,14),new Obstacle("water",3,13),new Obstacle("water",0,11),new Obstacle("house2",3,2),new Obstacle("house2",13,9),new Obstacle("house3",8,8),new Obstacle("house3",13,2),new Obstacle("house1",8,4),new Obstacle("hydrant",11,6),new Obstacle("hydrant",4,6),new Obstacle("hydrant",5,5),new Obstacle("shop",1,8),new Obstacle("shop",2,8),new Obstacle("shop",3,10),new Obstacle("hotel",7,1),new Obstacle("building",14,4),new Obstacle("house2",
6,1),new Obstacle("tree",2,5),new Obstacle("tree",1,3),new Obstacle("tree",4,0),new Obstacle("tree",13,1),new Obstacle("tree",11,4),new Obstacle("tree",9,7),new Obstacle("tree",14,10),new Obstacle("tree",6,9),new Obstacle("tree",6,10),new Obstacle("tree",7,9),new Steppable("flag",10,0),new Steppable("full-heart",11,3),new Steppable("half-heart",3,4),new Steppable("quarter-heart",12,9)];e=[new Enemy("Bear",5,6,2,1),new Enemy("Bear",5,13,2),new Enemy("Elk",5,11,3),new Enemy("Elk",5,12,3),new Enemy("Duck",
14,9,3),new Enemy("Duck",14,3,3)];f=[[7,2],[6,2],[4,2],[8,3],[3,3]];g=[dNeutral("Captain May","Hippo","OK guys, we're here in North Icington! Get off and stretch your legs while the ship gets fueled up."),dEnemy("Bear","Ahem. Good evening madam, we are the Fuel Men-"),dEnemy("Elk","I thought we were the Destruction Men-","Elk #1"),dEnemy("Bear","-and we are here to, ahem, fuel up your ship. If you would so kindly step off the boat."),dNeutral("Captain May","Hippo","Sure. I'll be at the coffee shop over there. Let me know when you're done."),
dEnemy("Bear","OK, quick, guys! Take all the donuts from the ship! Scan every corner! GET A MOVE ON!"),dEnemy("Elk","Duh... boss... can we's destroy dem boat when we's done?","Elk #2"),dEnemy("Bear","Yeah, sure, whatever, just get all the donuts!"),dNeutral("Captain May","Hippo","Hey! What do you think you're doing?!?"),dEnemy("Elk","All done, boss, but we didn't find any donuts.","Elk #1"),dEnemy("Elk","And I's destroyed de boat, boss... just like you said, boss...","Elk #2"),dEnemy("Bear","No donuts? Grr. But let's get out of here before that fat rhino and her pachyderm friend find out."),
dNeutral("Captain May","Hippo","Hey! I am NOT a rhino! I'll show you!"),dEnemy("Duck","Duckworth to Bearforth, do you read? The rhinoceros has been restrained. Over."),dCharacter("Hey! Quick, guys! Get them before they get away!")];h=[dCharacter("Well, the boat's gone, so how are we supposed to get to East Sprinklestan now?"),dNeutral("Captain May","Hippo","The next boat is supposed to arrive here in a few weeks. You can wait here until then."),dCharacter("We can't waste any time! We have to get to East Sprinklestan as soon as possible."),
dNeutral("Waitress","Squirrel","I think some kids at Frosting University - that's just north of here - were building a teleporter. You can try that."),dCharacter("Well, it sure beats waiting around here. Do you want to come along, May?"),dNeutral("Captain May","Hippo","Sorry, I've got to wait here until the next boat comes, boss's orders. Good luck!")];break;case 2:b="sssssssssspssss sssssssssspssss sssssssssppssss ssssssppppsssss sssssspssssssss sssssspssssssss sssssspssssssss ssssssppsssssss ssssssspsssssss sssssssppssssss sssssssspssssss sssssssspssssss sssssssspssssss sssssssspssssss sssssssspssssss ";
d=[new Obstacle("sign",7,12),new Obstacle("house1",9,12),new Obstacle("water",9,0),new Obstacle("water",9,1),new Obstacle("water",11,1),new Obstacle("water",11,0),new Obstacle("water",8,0),new Obstacle("water",12,0),new Obstacle("house3",5,5),new Obstacle("house2",8,8),new Obstacle("tree",2,8),new Obstacle("tree",3,8),new Obstacle("tree",4,8),new Obstacle("tree",11,5),new Obstacle("tree",12,5),new Obstacle("tree",13,5),new Steppable("flag",10,0),new Steppable("full-heart",3,6),new Steppable("full-heart",
12,3),new Steppable("half-heart",10,12)];e=[new Enemy("Beaver",3,7,2),new Enemy("Penguin",12,4,3),new Enemy("Penguin",8,7,3),new Enemy("Duck",6,3,3),new Enemy("Bear",10,1,3)];f=[[8,12],[7,13],[9,13],[1,14],[14,14]];g=[dSign("Bridge to Frosting University, that way."),dEnemy("Penguin","*snicker* wait till he sees what we've done with it..."),dCharacter("This looks like the right way... but again, what are these goons doing here? It's like that Llama guy has sent them all over the world...")];h=[];
break;case 3:b="ssssssBBsssssss ssssssBBsssssss sssssssssssssss ssssssBssssssss ssssssBBsssssss ssssssBBsssssss ssssssBBsssssss ssssssBBsssssss ssssssBBsssssss ssssssBBsssssss ssssssspsssssss ssssssspsssssss ssssssspsssssss ssssssspsssssss ssssssspsssssss ";d=[new Obstacle("water",6,14),new Obstacle("water",5,14),new Obstacle("water",6,13),new Obstacle("water",8,13),new Obstacle("water",8,14),new Obstacle("water",9,14),new Obstacle("water",6,2),new Obstacle("water",7,2),new Obstacle("water",7,3),
new Obstacle("water",8,2),new Obstacle("water",9,2),new Obstacle("water",10,2),new Obstacle("water",11,2),new Obstacle("water",12,2),new Obstacle("water",8,3),new Obstacle("water",9,3),new Obstacle("water",10,3),new Obstacle("water",10,1),new Obstacle("water",11,1),new Obstacle("water",12,1),new Obstacle("water",12,0),new Obstacle("water",13,0),new Obstacle("water",13,1),new Obstacle("water",5,2),new Obstacle("water",5,3),new Obstacle("water",4,3),new Obstacle("water",4,4),new Obstacle("water",3,
4),new Obstacle("water",3,5),new Obstacle("water",2,5),new Obstacle("water",2,6),new Obstacle("water",1,6),new Obstacle("water",1,5),new Obstacle("water",0,5),new Obstacle("water",0,6),new Obstacle("water",5,4),new Obstacle("water",4,5),new Obstacle("water",3,6),new Obstacle("water",11,3),new Obstacle("water",11,0),new Obstacle("water",0,7),new Obstacle("water",1,7),new Obstacle("sign",6,11),new Obstacle("house2",8,10),new Obstacle("water",5,5),new Obstacle("water",5,6),new Obstacle("water",4,6),
new Obstacle("water",4,7),new Obstacle("water",5,7),new Obstacle("water",5,8),new Obstacle("water",5,9),new Obstacle("water",4,9),new Obstacle("water",4,8),new Obstacle("water",2,8),new Obstacle("water",3,8),new Obstacle("water",3,7),new Obstacle("water",2,7),new Obstacle("water",1,8),new Obstacle("water",0,8),new Obstacle("water",0,9),new Obstacle("water",1,9),new Obstacle("water",2,9),new Obstacle("water",3,9),new Obstacle("water",1,10),new Obstacle("water",2,10),new Obstacle("water",3,10),new Obstacle("water",
8,4),new Obstacle("water",8,5),new Obstacle("water",8,6),new Obstacle("water",8,7),new Obstacle("water",8,8),new Obstacle("water",8,9),new Obstacle("water",9,8),new Obstacle("water",9,7),new Obstacle("water",9,6),new Obstacle("water",9,5),new Obstacle("water",9,4),new Obstacle("water",10,4),new Obstacle("water",10,5),new Obstacle("water",11,5),new Obstacle("water",11,4),new Obstacle("water",10,6),new Obstacle("water",12,3),new Obstacle("water",12,4),new Obstacle("water",13,3),new Obstacle("water",
13,2),new Obstacle("water",14,2),new Obstacle("water",14,1),new Obstacle("water",14,0),new Obstacle("tree",14,9),new Obstacle("tree",13,9),new Obstacle("tree",13,11),new Obstacle("tree",14,11),new Obstacle("tree",14,12),new Obstacle("tree",13,10),new Obstacle("tree",14,10),new Obstacle("tree",14,3),new Obstacle("tree",13,4),new Obstacle("tree",14,5),new Obstacle("tree",13,6),new Obstacle("tree",12,5),new Obstacle("tree",11,6),new Obstacle("tree",11,7),new Obstacle("tree",13,7),new Obstacle("tree",
13,5),new Obstacle("tree",14,4),new Obstacle("tree",12,6),new Obstacle("tree",12,7),new Obstacle("tree",14,7),new Obstacle("tree",14,6),new Obstacle("tree",12,9),new Obstacle("tree",11,9),new Obstacle("tree",10,7),new Obstacle("tree",9,9),new Obstacle("tree",9,10),new Obstacle("tree",12,10),new Obstacle("tree",12,11),new Obstacle("tree",11,11),new Obstacle("tree",11,10),new Steppable("flag",14,8),new Steppable("half-heart",6,3),new Steppable("half-heart",0,10),new Steppable("quarter-heart",6,10)];
e=[new Enemy("Penguin",6,4,3),new Enemy("Penguin",7,4,3),new Enemy("Penguin",6,1,3,0.5),new Enemy("Penguin",7,1,3,0.5),new Enemy("Beaver",7,9,3)];f=[[7,11],[6,12],[5,13],[8,12],[9,13]];g=[dSign("SMELLY WUZ HERE"),dCharacter("SMELLY? What's that?"),dNeutral("Madison","Sheep","Not SMELLY, S.M.E.L.L.Y! As in, the Society for Meaningless Evil, Larceny, Lying, and Yelling! Don't you know who they are?"),dCharacter("Not really, sorry."),dNeutral("Madison","Sheep","They're a bunch of young good-for-nothings who go around and vandalize stuff. Like this bridge."),
dCharacter("That's just great. How am I supposed to get to Frosting University now?"),dNeutral("Madison","Sheep","You want to go to Frosting U? I think there's a side path through the forest over there. I hear it takes you through a cave, though, so go at your own risk."),dEnemy("Beaver","Hey! I've spotted someone coming! Get over here! And you lot across the river, don't pretend you don't know how to swim!"),dEnemy("Penguin","Yeah, yeah, OK. I only joined S.M.E.L.L.Y for the free food, anyway.")];
h=[];break;case 4:b="ssssssssssssddd ssssssssssssddd sssssssssssssdd sssssssssssssss sssssssssssssss sssssssssssssss sssssssssssssss ssssssspsssssss ssssspsssssssss sssssssssssssss sssspssssssssss sspssssssssssss spsssssssssssss ppsssssssssssss sssssssssssssss ";d=[new Steppable("flag",14,0),new Obstacle("tree",2,2),new Obstacle("tree",3,3),new Obstacle("tree",12,8),new Obstacle("tree",8,11),new Obstacle("tree",8,13),new Obstacle("tree",5,13),new Obstacle("tree",5,12),new Obstacle("tree",11,12),new Obstacle("tree",
11,10),new Obstacle("tree",13,11),new Obstacle("tree",12,13),new Obstacle("tree",11,14),new Obstacle("tree",9,1),new Obstacle("tree",7,3),new Obstacle("tree",10,4),new Obstacle("tree",13,5),new Obstacle("tree",8,6),new Obstacle("tree",2,7),new Obstacle("tree",0,4),new Obstacle("tree",2,10),new Obstacle("tree",0,10),new Obstacle("tree",3,14),new Obstacle("tree",3,12),new Obstacle("tree",5,0),new Obstacle("tree",5,5),new Obstacle("tree",5,6),new Obstacle("tree",7,6),new Obstacle("tree",7,5),new Steppable("half-heart",
7,7),new Steppable("half-heart",0,11),new Steppable("half-heart",13,0)];e=[new Enemy("Goat",3,2,3),new Enemy("Duck",12,11,4),new Enemy("Bear",13,1,3),new Enemy("Elk",7,9,3),new Enemy("Elk",5,8,3)];f=[[2,11],[4,13],[1,10],[0,14],[4,10]];g=[dEnemy("Duck","QUACK! QUACK! QUACK! Phew, that's tiring..."),dEnemy("Goat","You idiot, don't you know you can only use your ability so many times per level? Quit wasting it!"),dEnemy("Duck","Yeah, yeah, OK... now stop trying to impress the Elks with your Spin Attack. Didn't you say something about not wasting your ability?"),
dEnemy("Bear","*snicker*")];h=[];break;case 5:b="ddddddsssdddddd dddddddsddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd dddddddsddddddd ddddddsssdddddd ";d=[new Obstacle("cave-wall",6,9),new Obstacle("cave-wall",6,10),new Obstacle("cave-wall",6,11),new Obstacle("cave-wall",6,12),new Obstacle("cave-wall",6,13),new Obstacle("cave-wall",8,13),new Obstacle("cave-wall",
8,12),new Obstacle("cave-wall",8,11),new Obstacle("cave-wall",8,9),new Obstacle("cave-wall",8,8),new Obstacle("cave-wall",6,8),new Obstacle("cave-wall",6,7),new Obstacle("cave-wall",8,6),new Obstacle("cave-wall",8,7),new Obstacle("cave-wall",8,5),new Obstacle("cave-wall",6,5),new Obstacle("cave-wall",9,9),new Obstacle("cave-wall",10,9),new Obstacle("cave-wall",9,11),new Obstacle("cave-wall",10,11),new Obstacle("cave-wall",11,9),new Obstacle("cave-wall",12,9),new Obstacle("cave-wall",14,9),new Obstacle("cave-wall",
14,11),new Obstacle("cave-wall",13,11),new Obstacle("cave-wall",12,11),new Obstacle("cave-wall",12,8),new Obstacle("cave-wall",14,8),new Obstacle("cave-wall",14,7),new Obstacle("cave-wall",14,6),new Obstacle("cave-wall",12,6),new Obstacle("cave-wall",12,5),new Obstacle("cave-wall",11,6),new Obstacle("cave-wall",9,6),new Obstacle("cave-wall",9,5),new Obstacle("cave-wall",11,5),new Obstacle("cave-wall",11,4),new Obstacle("cave-wall",9,4),new Obstacle("cave-wall",9,3),new Obstacle("cave-wall",9,2),new Obstacle("cave-wall",
11,2),new Obstacle("cave-wall",9,1),new Obstacle("cave-wall",10,1),new Obstacle("cave-wall",11,1),new Obstacle("cave-wall",12,2),new Obstacle("cave-wall",12,4),new Obstacle("cave-wall",13,4),new Obstacle("cave-wall",14,4),new Obstacle("cave-wall",14,3),new Obstacle("cave-wall",14,2),new Obstacle("cave-wall",14,1),new Obstacle("cave-wall",14,0),new Obstacle("cave-wall",13,0),new Obstacle("cave-wall",10,12),new Obstacle("cave-wall",10,13),new Obstacle("cave-wall",10,14),new Obstacle("cave-wall",11,
14),new Obstacle("cave-wall",12,14),new Obstacle("cave-wall",13,14),new Obstacle("cave-wall",14,14),new Obstacle("cave-wall",14,13),new Obstacle("cave-wall",14,12),new Obstacle("cave-wall",6,2),new Obstacle("cave-wall",7,2),new Obstacle("cave-wall",8,2),new Obstacle("cave-wall",6,3),new Obstacle("cave-wall",5,3),new Obstacle("cave-wall",4,3),new Obstacle("cave-wall",4,5),new Obstacle("cave-wall",5,5),new Obstacle("cave-wall",5,7),new Obstacle("cave-wall",4,7),new Obstacle("cave-wall",3,5),new Obstacle("cave-wall",
3,3),new Obstacle("cave-wall",2,5),new Obstacle("cave-wall",1,3),new Obstacle("cave-wall",1,5),new Obstacle("cave-wall",0,3),new Obstacle("cave-wall",0,4),new Obstacle("cave-wall",0,5),new Obstacle("cave-wall",1,2),new Obstacle("cave-wall",1,1),new Obstacle("cave-wall",1,0),new Obstacle("cave-wall",2,0),new Obstacle("cave-wall",3,0),new Obstacle("cave-wall",3,1),new Obstacle("cave-wall",3,2),new Obstacle("cave-wall",3,7),new Obstacle("cave-wall",0,7),new Obstacle("cave-wall",0,8),new Obstacle("cave-wall",
2,7),new Obstacle("cave-wall",2,8),new Obstacle("cave-wall",2,9),new Obstacle("cave-wall",3,9),new Obstacle("cave-wall",0,9),new Obstacle("cave-wall",0,10),new Obstacle("cave-wall",0,11),new Obstacle("cave-wall",5,9),new Obstacle("cave-wall",1,11),new Obstacle("cave-wall",2,11),new Obstacle("cave-wall",4,11),new Obstacle("cave-wall",5,11),new Obstacle("cave-wall",2,12),new Obstacle("cave-wall",2,14),new Obstacle("cave-wall",4,12),new Obstacle("cave-wall",4,13),new Obstacle("cave-wall",4,14),new Steppable("flag",
7,0),new Obstacle("water",0,12),new Obstacle("water",1,14),new Obstacle("water",0,14),new Obstacle("water",1,12),new Steppable("full-heart",0,13),new Steppable("full-heart",4,8),new Steppable("half-heart",8,3),new Steppable("half-heart",13,13)];e=[new Enemy("Bear",1,13,3),new Enemy("Elk",13,8,4),new Enemy("Goat",5,4,3),new Enemy("Duck",7,10,4),new Enemy("Owl",10,5,3),new Enemy("Goat",13,2,3)];c="dirt";f=[[7,12],[7,13],[7,14],[6,14],[8,14]];g=[dEnemy("Duck","HEY! Watch where you're going!"),dCharacter("Oh, er, sorry about that. And, uh, what are you doing in here?"),
dEnemy("Duck","Why, I just so happen to be delivering a very important shipment of donuts - which I stole myself - to STINKY. So please, get out of my way, elephant."),dCharacter("STINKY? Who's that?"),dEnemy("Duck","Not STINKY, S.T.I.N.K.Y! As in, the Supremely Talented and Incredibly Nifty King of the Yellers? Don't you know who he is?"),dCharacter("Not really, sorry."),dEnemy("Duck","Well, he just so happens to be the guy in charge of S.M.E.L.L.Y. In fact, he is currently working with Dr. Llama. So, please, get out of my way, peasant. You don't realize how important me - and my mission - are."),
dCharacter("If you don't mind me asking, why is he working with Llama?"),dEnemy("Duck","That's DOCTOR Llama to you. And it's none of your business. They just so happen to share one goal - and I quote - \"Destroying whatever the heck you feel like.\" And Dr. Llama's going to pay us a lot of money for giving him all these donuts.")];h=[];break;case 6:b="ssssssssssspsss ssssssssspppsss ssssssssspsssss ssssssssspsssss sssssssssppssss sssssssssspssss ssssssssssBssss sssssssssspssss sssssssssppssss ssssssssspsssss ssssssssppsssss sssssssppssssss ssssspppsssssss ssssspsssssssss ssssspsssssssss ";
d=[new Obstacle("water",9,6),new Obstacle("water",9,5),new Obstacle("water",7,6),new Obstacle("water",8,6),new Obstacle("water",8,7),new Obstacle("water",9,7),new Obstacle("water",11,6),new Obstacle("water",12,6),new Obstacle("water",13,6),new Obstacle("water",13,5),new Obstacle("water",14,5),new Obstacle("water",12,5),new Obstacle("water",11,5),new Obstacle("tree",0,3),new Obstacle("tree",1,2),new Obstacle("tree",2,2),new Obstacle("tree",3,2),new Obstacle("tree",4,3),new Obstacle("tree",4,4),new Obstacle("tree",
4,5),new Obstacle("tree",5,6),new Obstacle("tree",4,7),new Obstacle("tree",3,8),new Obstacle("tree",2,8),new Obstacle("tree",1,7),new Obstacle("tree",0,7),new Obstacle("tree",1,8),new Obstacle("tree",5,7),new Obstacle("tree",5,4),new Obstacle("tree",3,1),new Obstacle("house1",11,11),new Obstacle("house1",13,12),new Obstacle("house3",11,12),new Obstacle("house3",13,11),new Obstacle("house2",12,10),new Obstacle("house2",12,13),new Obstacle("tree",6,6),new Obstacle("tree",13,7),new Obstacle("tree",14,
8),new Obstacle("tree",13,8),new Obstacle("tree",12,8),new Obstacle("tree",13,2),new Obstacle("tree",14,2),new Steppable("flag",11,0),new Steppable("full-heart",3,6),new Steppable("half-heart",12,7),new Steppable("half-heart",7,11),new Steppable("quarter-heart",0,9),new Steppable("quarter-heart",11,3)];e=[new Enemy("Owl",12,11,4),new Enemy("Owl",12,12,4),new Enemy("Owl",1,5,3),new Enemy("Owl",2,4,3),new Enemy("Owl",3,5,3),new Enemy("Owl",2,6,3),new Enemy("Owl",14,7,4),new Enemy("Owl",9,4,4),new Enemy("Owl",
14,1,4)];f=[[5,12],[5,13],[5,14],[6,12],[4,14]];i=new Ally("Goat",2,5,3,"Trent");g=[dNeutral("Trent","Goat","Hey! Get your hands off me, you pom-poms with wings!"),dEnemy("Owl","Shut up, goat, and come with us! S.T.I.N.K.Y would love to have someone like you with S.M.E.L.L.Y!"),dNeutral("Trent","Goat","Ha! I'd rather eat a hundred and one black licorice jelly beans THROUGH A STRAW! Do your worst!"),dEnemy("Owl","All right, that's it. We're going to take you down now so that S.T.I.N.K.Y doesn't have to bother with you back at HQ."),
dCharacter("Hey, what's going on?"),dNeutral("Trent","Goat","Hey you, elephant! Are you part of S.M.E.L.L.Y too?"),dCharacter("No, I'm not. I'm-"),dAlly("Trent","Goat","OK then, I'm now on your side! Hee hee... prepare to be smooshed by the awesomeness of my Spin Attack, owls!"),dCharacter("Er, OK then... welcome to the team."),dAlly("Trent","Goat","I can attack everyone around me at once if you activate my ability! Do it quick!")];break;case 7:b="sssssscccssssss sssssscccssssss ssscccccccccsss sssssscccssssss sssssscccssssss sssssscccssssss ssscccccccccsss sssssscccssssss sssssscccssssss sssssscccssssss ssscccccccccsss sssssscccssssss sssssscccssssss sssssscccssssss sssssscccssssss ";
d=[new Obstacle("sign",6,12),new Obstacle("tree",6,3),new Obstacle("tree",8,3),new Obstacle("tree",6,7),new Obstacle("tree",8,7),new Obstacle("tree",6,11),new Obstacle("tree",8,11),new Obstacle("tree",6,5),new Obstacle("tree",8,5),new Obstacle("tree",6,1),new Obstacle("tree",8,1),new Obstacle("tree",6,9),new Obstacle("tree",8,9),new Obstacle("building",12,2),new Obstacle("building",2,2),new Obstacle("building",2,6),new Obstacle("building",12,6),new Obstacle("building",12,10),new Obstacle("building",
2,10),new Obstacle("hotel",2,1),new Obstacle("hotel",3,1),new Obstacle("hotel",3,3),new Obstacle("hotel",2,3),new Steppable("flag",3,2),new Obstacle("tree",3,9),new Obstacle("tree",3,11),new Obstacle("tree",3,7),new Obstacle("tree",3,5),new Obstacle("tree",11,1),new Obstacle("tree",11,3),new Obstacle("tree",11,5),new Obstacle("tree",11,7),new Obstacle("tree",11,9),new Obstacle("tree",11,11),new Steppable("half-heart",3,6),new Steppable("half-heart",11,6),new Steppable("quarter-heart",3,10),new Steppable("quarter-heart",
11,10)];e=[new Enemy("Beaver",10,2,4),new Enemy("Beaver",4,2,4),new Enemy("Elk",4,6,4),new Enemy("Elk",10,6,4),new Enemy("Goat",4,10,4),new Enemy("Goat",10,10,4)];f=[[7,12],[6,13],[8,13],[7,14],[7,13]];g=[dSign("<div style='text-align: center;'><h3>Welcome to Frosting University</h3><b>Home of the Wildbears</b><br />(and the teleportation thingy in the science center)</div>"),dEnemy("Beaver","What are you guys waiting out here for? There's a S.M.E.L.L.Y meeting in the science center in 5 minutes!"),
dEnemy("Goat","Yeah, yeah, we're coming..."),dCharacter("S.M.E.L.L.Y's in the science center, and that's where the teleporter is... guess I'll have to get through them.")];h=[];break;case 8:b="wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww ";d=[new Obstacle("barrel",14,13),new Obstacle("barrel",13,13),new Obstacle("barrel",
12,13),new Obstacle("barrel",11,13),new Obstacle("barrel",10,13),new Obstacle("barrel",10,12),new Obstacle("barrel",11,11),new Obstacle("barrel",12,10),new Obstacle("barrel",14,9),new Obstacle("barrel",12,11),new Obstacle("barrel",11,12),new Obstacle("barrel",14,11),new Obstacle("barrel",14,10),new Obstacle("barrel",13,12),new Obstacle("barrel",14,12),new Obstacle("barrel",11,9),new Obstacle("barrel",13,8),new Obstacle("barrel",10,10),new Obstacle("barrel",9,12),new Obstacle("chair",4,4),new Obstacle("chair",
2,5),new Obstacle("chair",2,6),new Obstacle("chair",2,7),new Obstacle("chair",2,8),new Obstacle("chair",2,9),new Obstacle("chair",4,10),new Obstacle("chair",6,9),new Obstacle("chair",6,8),new Obstacle("chair",6,7),new Obstacle("chair",6,6),new Obstacle("chair",6,5),new Obstacle("chair",11,2),new Obstacle("chair",11,3),new Obstacle("chair",12,1),new Obstacle("chair",12,4),new Obstacle("chair",2,13),new Obstacle("chair",3,12),new Obstacle("chair",4,13),new Steppable("flag",1,1),new Obstacle("barrel",
0,1),new Obstacle("barrel",1,0),new Obstacle("barrel",3,1),new Obstacle("barrel",1,2),new Obstacle("barrel",2,2),new Obstacle("barrel",5,0),new Obstacle("barrel",4,2),new Obstacle("barrel",5,2),new Obstacle("barrel",7,1),new Obstacle("barrel",7,0),new Steppable("full-heart",4,7),new Steppable("half-heart",13,11),new Steppable("half-heart",12,2),new Steppable("quarter-heart",3,13)];e=[new Enemy("Beaver",4,0,4),new Enemy("Goat",13,9,4),new Enemy("Bear",13,3,4),new Enemy("Owl",4,5,4),new Enemy("Owl",
4,9,4)];c="wood";f=[[10,14],[11,14],[12,14],[13,14],[14,14]];g=[dNeutral("Doorman","Mouse","Password?"),dEnemy("Beaver","Uh... um... oh yeah! Quark! Blither blather! Ice cream! STAT!"),dNeutral("Doorman","Mouse","Welcome to S.M.E.L.L.Y's super-secret headquarters."),dNeutral("Doorman","Mouse","Password?"),dCharacter("Uh... Quark! Blither Blather! Ice cream! Stat!"),dNeutral("Doorman","Mouse","You forgot to capitalize the last word. Guys! IMPOSTOR! GET THEM!"),dCharacter("Uh oh. Better get to the other exit, and quick...")];
h=[dNeutral("Doorman","Mouse","Yikes! Don't hurt me! I'll tell you anything, just don't hurt me!"),dCharacter("Uh, OK... where's the teleporter?"),dNeutral("Doorman","Mouse","It's out back. I think the boss is working on it.")];break;case 9:b="sgssssssssssccc ssssssssspppccc sppppsssppssccc ssssppsppsssccc ssssspspsssssss ssssspppsssssss sssssspssssssss sssssspssssssss ssssssppsssssss ssssssspsssssss sssssssppssssss sssssssspssssss sssssssspssssss sssssssspppssss sssssssssspssss ";d=[new Obstacle("tree",
11,0),new Obstacle("tree",11,2),new Obstacle("tree",11,3),new Obstacle("tree",12,4),new Obstacle("tree",13,4),new Obstacle("tree",14,4),new Obstacle("barrel",7,12),new Obstacle("barrel",6,12),new Obstacle("barrel",6,13),new Obstacle("barrel",7,14),new Obstacle("barrel",10,12),new Obstacle("barrel",9,11),new Obstacle("barrel",9,13),new Obstacle("barrel",10,14),new Obstacle("barrel",7,8),new Obstacle("barrel",7,4),new Obstacle("barrel",4,3),new Obstacle("hydrant",13,1),new Obstacle("hydrant",5,6),new Obstacle("hydrant",
8,9),new Obstacle("hydrant",2,1),new Obstacle("water",2,7),new Obstacle("water",1,8),new Obstacle("water",2,8),new Obstacle("water",2,9),new Obstacle("water",3,8),new Obstacle("water",1,9),new Obstacle("water",2,10),new Obstacle("water",3,9),new Obstacle("water",3,10),new Obstacle("tree",12,7),new Obstacle("tree",12,8),new Obstacle("tree",13,8),new Obstacle("tree",13,7),new Obstacle("tree",12,9),new Obstacle("tree",13,9),new Obstacle("tree",11,9),new Obstacle("tree",11,8),new Obstacle("tree",11,7),
new Steppable("flag",1,0),new Steppable("full-heart",14,1),new Steppable("half-heart",10,13),new Steppable("half-heart",6,14),new Steppable("half-heart",6,5),new Steppable("full-heart",5,10),new Steppable("secret-entrance",13,2)];e=[new Boss("Duck","S.T.I.N.K.Y",1,1,5)];f=[[8,12],[8,13],[7,13],[8,14],[9,14]];g=[dNeutral("Mailman","Chicken","Mail for S.T.I.N.K.Y!"),dEnemy("Duck","Thanks. Huh, it's something from Llama.","S.T.I.N.K.Y"),dNeutral("Dr. Llama","Llama","<i>S.T.I.N.K.Y - meet me in my castle ASAP. And bring all the donuts you've, uh, collected with you. We'll talk about your payment then.</i>"),
dEnemy("Duck","Geez, sometimes I wonder why I had S.M.E.L.L.Y team up with that guy. He better pay well.","S.T.I.N.K.Y"),dEnemy("Duck","OK, so teleporter thingy, take me to East Sprinklestan! Er... I don't see a switch here...","S.T.I.N.K.Y"),dEnemy("Duck","*kick* Ouch, that hurt... but hey, I think the teleporter's doing something... it's showing West Sprinklestan on the monitor. Close enough.","S.T.I.N.K.Y"),dEnemy("Duck","Hey, you! Over there! Bring the donuts over here! They're in those barrels!",
"S.T.I.N.K.Y"),dCharacter("Actually, I'm not part of S.M.E.L.L.Y, I was just hoping to use that teleporter. I have a, uh, doctor's appointment there."),dEnemy("Duck","Oh OK, sure... wait a second, you aren't part of S.M.E.L.L.Y! How'd you get in here?!?","S.T.I.N.K.Y"),dEnemy("Duck","Say, wait, aren't you that kid who's been beating up all my thugs? You're gonna pay for that!","S.T.I.N.K.Y")];h=[dCharacter("OK, teleporter, I hope you work... East Sprinklestan it is...")];break;case SECRET_STAGE:b=
"wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwtttttwwwww wwwwwtttttwwwww wwwwwtttttwwwww wwwwwtttttwwwww wwwwwtttttwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww",d=[new Obstacle("chair",3,11),new Obstacle("chair",2,12),new Obstacle("chair",4,12),new Obstacle("chair",2,13),new Obstacle("chair",4,13),new Obstacle("chair",11,11),new Obstacle("chair",12,12),new Obstacle("chair",12,13),new Obstacle("chair",10,12),new Obstacle("chair",
10,13),new Obstacle("chair",3,3),new Obstacle("chair",4,2),new Obstacle("chair",4,1),new Obstacle("chair",2,2),new Obstacle("chair",2,1),new Obstacle("chair",11,3),new Obstacle("chair",10,2),new Obstacle("chair",10,1),new Obstacle("chair",12,2),new Obstacle("chair",12,1),new Obstacle("chair",7,3),new Obstacle("chair",7,11),new Obstacle("chair",3,7),new Obstacle("chair",11,7),new Obstacle("barrel",1,9),new Obstacle("barrel",5,3),new Obstacle("barrel",5,13),new Obstacle("barrel",14,7),new Obstacle("barrel",
13,3),new Obstacle("barrel",10,9),new Obstacle("barrel",0,14),new Obstacle("barrel",1,6),new Steppable("half-heart",0,7),new Steppable("half-heart",14,1),new Steppable("flag",7,7)],e=[new Enemy("Lion",3,7,4,0.5),new Enemy("Lion",11,7,4,0.5),new Enemy("Mouse",6,7,4,0.2),new Enemy("Pig",11,13,4,0.2),new Enemy("Elephant",7,1,4,0.2)],f=[[1,12],[14,10],[4,4],[12,10],[6,11]],g=[dCharacter("Wh-where am I?"),dEnemy("Mouse","Felicitations, brother! You're at one of the totally rad parties of Omega Delta Omega Rho, also knows as \u03a9\u0394\u03a9P or rather ODOR.",
"Brother Martin"),dCharacter("So... you're a bunch of drunken frat boys?"),dEnemy("Lion","I wouldn't say that, brother. We are drunken frat <em>brothers.</em>","Brother Luke"),dEnemy("Mouse","My comrade is right! While you're here, brother, would you care to consume some comestibles?","Brother Martin"),dCharacter("No offense, but instead of partying I should probably be teleporting to East Sprinklestan."),dEnemy("Mouse","WHAT? And waive the opportunity to partake in some merriment on the dance floor?",
"Brother Martin"),dEnemy("Pig","Ach, schuddup and FIGHT already, Bruder...","Brother Otto")]}return new Level(2,a,b,c,d,e,f,g,h,i)}));acts.push(new Act(3,function(a){var b,c="water",d,e,f,g,h,i;switch(a){case 1:b="WWWWWWWWWWWWWWW WWdWWWWWWWWWWWW WdddddWWWWWWWWW WddddddWWWWWddW WddWdddbbbbdddd WWWWWddWWWWWddd WWWWWWBWWWWWWWW WWWWWWBWWWWWWWW WWWWWWBWWWWWWWW WWWWdWBWWWWWWWW WWWWdddWWWWdWWW WWWWWddddWddWWW WWWWWWddddddWWW WWWWWddddddWWWW WWWWWWddWWWWWWW ";d=[new Obstacle("house2",10,13),new Obstacle("house3",5,11),new Obstacle("shop",8,11),new Steppable("full-heart",2,1),new Steppable("half-heart",11,10),new Steppable("half-heart",
4,9),new Obstacle("house2",2,3),new Obstacle("house1",12,5),new Steppable("flag",14,4)];e=[new Enemy("Triceratops",12,4,4),new Enemy("Brontosaurus",5,10,4,1),new Enemy("Plesiosaur",4,3,4),new Enemy("Triceratops",6,6,4),new Enemy("Plesiosaur",1,4,4)];f=[[10,12],[10,11],[9,12],[9,13],[11,11]];g=[dCharacter("Whoa... where are we?"),dNeutral("Ervin","Pterodactyl","Ahola! Nice entrance! And you're in West Sprinklestan, buddy!"),dCharacter("Ahola?"),dNeutral("Ervin","Pterodactyl","It means hello. And I take it you're from the future."),
dCharacter("But- but- how do you know?"),dNeutral("Ervin","Pterodactyl","Your accent. What brings you here to 60 million BC?"),dCharacter("How do you know it's BC? Are you from the future too?"),dNeutral("Ervin","Pterodactyl","I have to go to the future every month or so for a meeting. Not fun. Nope, Before Creme is where it's at."),dCharacter("Uh... OK. How do I get back to the future?"),dNeutral("Ervin","Pterodactyl","Easy. Just go to the mighty Mauna Churo. There's a bunch of time machines over there."),
dCharacter("How do I get there?"),dNeutral("Ervin","Pterodactyl","Pretty easy. Just head east on these islands, pass through a cave, and climb the mountain."),dNeutral("Ervin","Pterodactyl","As long as you can get past the <em>HORDES OF RAVENOUS CARNIVORES</em> you should be OK.")];break;case 2:b="dWWWWWWWWWWWWdW ddWWWWWWWWWWWBW WddWWWWWWWWWWBW WWddWWWWWWWWWBW WWWddWWWWWWWWBW WWWWddWWWWWWWBW WWWWWddddWWWWdW WWWWWdddddbbbdW WWWWWdddddWWWWW WWWWWddddWWWWWW WWWWWWddWWWWWWW WWWWWWWBWWWWWWW WWWWWWWBWWWWWWW WWWWWWdddWWWWWW WWWWWWWdWWWWWWW ";
d=[new Steppable("flag",13,0),new Obstacle("house3",6,7),new Obstacle("house2",7,9),new Obstacle("house1",8,7),new Obstacle("shop",5,8),new Obstacle("hotel",6,13),new Steppable("half-heart",8,13),new Steppable("half-heart",13,4),new Steppable("half-heart",5,7)];e=[new Enemy("Triceratops",6,6,4,0.5),new Enemy("Triceratops",5,9,4),new Enemy("Triceratops",8,9,4),new Enemy("Triceratops",8,6,4),new Enemy("Pterodactyl",13,1,5),new Enemy("Pterodactyl",7,14,5)];f=[[2,2],[1,2],[1,1],[0,1],[0,0]];g=[dEnemy("Triceratops",
"OK, kid, tell us, where's the legendary Treasure of the Croissant?"),dNeutral("Kid","TRex","Um, I dunno, mister. Why don't you ask that nice elephant over there?"),dEnemy("Triceratops","What the...? What are you doing here?"),dCharacter("I'd like to ask you the same thing."),dEnemy("Triceratops","If you must know, Llama wants us to find the Treasure of the Croissant."),dEnemy("Pterodactyl","You idiot! Why'd you say that? Whatever - kill them!")];break;case 3:b="WWWWWWWWWWddddd WWWWWWWWWWWdddd WWWWWWWWWWWdddd WWWWdddWWWWBddd WWWdddddWWWBWWd WWWWdddWWWWBWWW WWWWWWWWWWWBWWW WWWWWWWWWWWBWWW WWWWWWWWWWWBdWW dbbbbbbbbbbdddW BWWWWWWWWWddddW BWWWWWWWWWWddWW BWWWWWWWWWWWWWW BWddddWWWWWWWWW ddddddddddWWWWW ";
d=[new Obstacle("cave-wall",11,1),new Obstacle("cave-wall",12,0),new Obstacle("cave-wall",13,3),new Obstacle("cave-wall",14,2),new Obstacle("cave-wall",11,0),new Obstacle("cave-wall",10,0),new Obstacle("cave-wall",14,3),new Obstacle("cave-wall",14,4),new Steppable("flag",14,0),new Steppable("full-heart",5,4),new Obstacle("sign",14,1),new Obstacle("house1",12,1),new Obstacle("tree",12,11),new Obstacle("tree",13,10),new Obstacle("house3",12,10),new Steppable("half-heart",9,14),new Steppable("quarter-heart",
11,9)];e=[new Enemy("Pterodactyl",4,4,5),new Enemy("Pterodactyl",6,4,5),new Enemy("Plesiosaur",6,9,5),new Enemy("Plesiosaur",11,3,5)];f=[[5,13],[2,13],[8,14],[4,14],[0,14]];g=[dCharacter("There should be a ski lift to the top of the mountain here, I think..."),dEnemy("Plesiosaur","Guys! Guys! Someone's here! Get 'em!","Plesiosaur #1"),dEnemy("Plesiosaur","Hey, birdbrains! What are you doing on that island?","Plesiosaur #2"),dEnemy("Pterodactyl","What? We can fly, you know.","Pterodactyl #1"),dEnemy("Plesiosaur",
"Yeah, sure, but you're not going to find the Treasure of the Croissant like that.","Plesiosaur #2"),dEnemy("Pterodactyl","Yeah, well you aren't going to either by standing there lecturing us.","Pterodactyl #1"),dEnemy("Pterodactyl","KABOOM! Need some ice with that?","Pterodactyl #2")];h=[dSign("Lift to top of Mauna Churo this way &rArr;"),dCharacter("But where is it?"),dNeutral("Operator","Bat","Sawry, kid, but the liff's brawk'n. Ya'll hafta take the cave."),dNeutral("Operator","Bat","Aw yeah, kid, watch out in dem cave - lotsa thugs lukin' for sum treshure.")];
break;case 4:c="dirt";b="ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ";d=[new Obstacle("cave-wall",5,14),new Obstacle("cave-wall",5,13),new Obstacle("cave-wall",5,12),new Obstacle("cave-wall",9,14),new Obstacle("cave-wall",9,13),new Obstacle("cave-wall",9,12),new Obstacle("cave-wall",4,7),new Obstacle("cave-wall",
10,7),new Obstacle("cave-wall",4,6),new Obstacle("cave-wall",4,5),new Obstacle("cave-wall",5,4),new Obstacle("cave-wall",6,4),new Obstacle("cave-wall",7,4),new Obstacle("cave-wall",8,4),new Obstacle("cave-wall",9,4),new Obstacle("cave-wall",10,5),new Obstacle("cave-wall",10,6),new Obstacle("cave-wall",5,8),new Obstacle("cave-wall",9,8),new Obstacle("cave-wall",9,9),new Obstacle("cave-wall",5,9),new Obstacle("cave-wall",4,9),new Obstacle("cave-wall",5,11),new Obstacle("cave-wall",4,11),new Obstacle("cave-wall",
9,11),new Obstacle("cave-wall",10,11),new Obstacle("cave-wall",10,9),new Obstacle("cave-wall",0,4),new Obstacle("cave-wall",1,3),new Obstacle("cave-wall",2,2),new Obstacle("cave-wall",3,1),new Obstacle("cave-wall",4,0),new Obstacle("cave-wall",10,0),new Obstacle("cave-wall",11,1),new Obstacle("cave-wall",12,2),new Obstacle("cave-wall",13,3),new Obstacle("cave-wall",14,4),new Obstacle("cave-wall",3,9),new Obstacle("cave-wall",2,8),new Obstacle("cave-wall",11,9),new Obstacle("cave-wall",12,8),new Obstacle("cave-wall",
3,11),new Obstacle("cave-wall",2,11),new Obstacle("cave-wall",1,11),new Obstacle("cave-wall",11,11),new Obstacle("cave-wall",13,11),new Obstacle("cave-wall",12,11),new Obstacle("cave-wall",2,7),new Obstacle("cave-wall",2,6),new Obstacle("cave-wall",12,7),new Obstacle("cave-wall",12,6),new Obstacle("cave-wall",7,1),new Obstacle("cave-wall",7,2),new Obstacle("cave-wall",7,3),new Steppable("flag",7,0),new Obstacle("barrel",7,6),new Obstacle("barrel",3,13),new Obstacle("barrel",11,13),new Steppable("half-heart",
4,8),new Steppable("half-heart",10,8),new Steppable("quarter-heart",14,14),new Steppable("quarter-heart",0,14),new Obstacle("water",0,0),new Obstacle("water",1,1),new Obstacle("water",0,1),new Obstacle("water",0,2),new Obstacle("water",0,3),new Obstacle("water",1,2),new Obstacle("water",2,1),new Obstacle("water",2,0),new Obstacle("water",1,0),new Obstacle("water",3,0),new Obstacle("water",12,0),new Obstacle("water",11,0),new Obstacle("water",12,1),new Obstacle("water",13,1),new Obstacle("water",13,
0),new Obstacle("water",14,0),new Obstacle("water",14,1),new Obstacle("water",14,2),new Obstacle("water",13,2),new Obstacle("water",14,3),new Steppable("full-heart",7,5)];e=[new Enemy("Brontosaurus",5,6,5),new Enemy("Plesiosaur",6,6,5),new Enemy("Plesiosaur",8,6,5),new Enemy("Brontosaurus",9,6,5),new Enemy("Bat",3,3,5),new Enemy("Bat",11,3,5),new Enemy("Bat",1,13,5),new Enemy("Bat",13,13,5)];f=[[7,12],[6,11],[8,11],[6,13],[8,13]];i=new Ally("Bat",0,0,5,"Kal&igrave;&aacute;");g=[dNeutral("Kal&igrave;&aacute;",
"Bat","W-who are you?"),dCharacter("We're adventurers trying to get back to our own time. Who are you?"),dNeutral("Kal&igrave;&aacute;","Bat","My name is Kal&igrave;&aacute;, and I'm just a simple bat who lives in this cave. At least, I was, until these treasure hunters came along. I've been trying to fight them off, but I'm just too weak."),dCharacter("You could come with us, if you like."),dNeutral("Kal&igrave;&aacute;","Bat","I'd love to! I've been itching to suck their blood for some time now. I might not be able to do much physically, but my Vampire ability drains their life! Hehehe!")];
break;case 5:c="dirt";b="ddddddWdWdddddd ddWWddWdWddWWdd ddWWddWdWddWWdd ddddddWdWdddddd ddddddWdWdddddd ddddddWdWdddddd ddddddddddddddd ddddddddddddddd ddddddddddddddd ddddddWdWdddddd ddddddWdWdddddd ddddddWdWdddddd ddWWddWdWddWWdd ddWWddWdWddWWdd ddddddWdWdddddd ";d=[new Steppable("full-heart",7,14),new Steppable("full-heart",7,0),new Steppable("flag",14,0),new Obstacle("chair",11,3),new Obstacle("chair",13,5),new Obstacle("chair",9,1),new Obstacle("chair",9,8),new Obstacle("chair",10,5),new Obstacle("chair",
13,1),new Obstacle("barrel",1,8),new Obstacle("barrel",3,6),new Obstacle("barrel",1,2),new Obstacle("barrel",5,11),new Obstacle("barrel",0,13),new Obstacle("barrel",2,5),new Steppable("half-heart",14,14),new Steppable("half-heart",0,0)];e=[new Enemy("Ghost",7,4,5),new Enemy("Ghost",7,3,5),new Enemy("Ghost",7,10,5),new Enemy("Ghost",7,11,5),new Enemy("Bat",2,6,5),new Enemy("Bat",12,4,5),new Enemy("Bat",10,13,5),new Enemy("Bat",4,3,5),new Enemy("Triceratops",7,7,6)];f=[[1,10],[1,13],[0,12],[3,11],[5,
13]];g=[dNeutral("Hitchhiker","Bear","Aagh... hi... looks... like... you're... adventurers... too..."),dCharacter("What happened?"),dNeutral("Hitchhiker","Bear","I... came here for... vacation... went spelunking... aagh... ran into these ghosts..."),dNeutral("Hitchhiker","Bear","Listen... these ghosts... they're not hurt by... by normal attacks... only bats or ducks or such... can kill them with special attacks... leave them alone... if you aren't one of those..."),dCharacter("Are you OK, sir?"),
dNeutral("Hitchhiker","Bear","Spent... a little too much time... around those ghosts... I'll be OK... you watch out for yourself...")];h=[dCharacter("Hey look, there's a teleporter here! It says here it'll take us to the top of Mauna Churo! Let's go!")];break;case 6:c="wood";b="wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww ";
d=[new Obstacle("barrel",14,3),new Obstacle("barrel",13,3),new Obstacle("barrel",12,3),new Obstacle("barrel",11,3),new Obstacle("barrel",14,11),new Obstacle("barrel",13,11),new Obstacle("barrel",12,11),new Obstacle("barrel",11,11),new Obstacle("barrel",11,4),new Obstacle("barrel",11,5),new Obstacle("barrel",11,6),new Obstacle("barrel",11,8),new Obstacle("barrel",11,9),new Obstacle("barrel",11,10),new Obstacle("chair",1,3),new Obstacle("chair",2,2),new Obstacle("chair",3,3),new Obstacle("chair",2,
4),new Obstacle("chair",5,12),new Obstacle("chair",6,11),new Obstacle("chair",7,12),new Obstacle("chair",6,13),new Obstacle("chair",4,6),new Obstacle("chair",5,6),new Obstacle("chair",6,6),new Obstacle("chair",4,8),new Obstacle("chair",5,8),new Obstacle("chair",6,8),new Obstacle("chair",9,1),new Obstacle("chair",10,1),new Obstacle("chair",11,1),new Obstacle("chair",10,13),new Obstacle("chair",11,13),new Obstacle("chair",12,13),new Obstacle("chair",0,10),new Obstacle("chair",1,9),new Obstacle("chair",
2,10),new Obstacle("chair",1,11),new Steppable("flag",2,0),new Steppable("half-heart",12,4),new Steppable("half-heart",12,10),new Steppable("quarter-heart",1,6),new Steppable("quarter-heart",13,1),new Steppable("quarter-heart",9,10)];e=[new Enemy("TRex",5,1,5,1),new Enemy("TRex",2,13,5),new Enemy("TRex",8,7,5),new Enemy("Pterodactyl",13,6,6),new Enemy("Pterodactyl",13,8,6),new Enemy("Pterodactyl",11,7,5)];f=[[5,10],[4,5],[8,11],[2,6],[10,2]];g=[dCharacter("What the- where are we?"),dNeutral("Waiter",
"Triceratops","You're currently in Mauna Churo's famous Mountaintop Caf&eacute;. And I'm currently running for my life."),dEnemy("TRex","OM NOM NOMZ"),dEnemy("Pterodactyl","Sorry, please excuse my Tyrannosaurus friends. They have a totally nonexistant understanding of pop culture."),dNeutral("Second Waiter","Brontosaurus","I'll say. Anyway, since we're about to get eaten anyway, can I get you anything to eat? Today's specialty is green bean casserole."),dEnemy("TRex","WAITER! Y U NO SERVE MEAT?!?!?!"),
dCharacter("Er... right. I think I'll have to pass. And get out of here.")];break;case 7:c="concrete";b="WWWWcccccccWWWW WWWWcccccccWWWW WWWcccccccccWWW WWcccccccccccWW ccccccccccccccc cccccWcccWccccc ccccccWcWcccccc cccccccWccccccc ccccccWcWcccccc cccccWcccWccccc ccccccccccccccc WWcccccccccccWW WWWcccccccccWWW WWWWcccccccWWWW WWWWcccccccWWWW ";d=[new Obstacle("tree",10,14),new Obstacle("tree",10,13),new Obstacle("tree",11,12),new Obstacle("tree",12,11),new Obstacle("tree",13,10),new Obstacle("tree",
14,10),new Obstacle("tree",0,10),new Obstacle("tree",1,10),new Obstacle("tree",2,11),new Obstacle("tree",3,12),new Obstacle("tree",4,13),new Obstacle("tree",4,14),new Obstacle("tree",0,4),new Obstacle("tree",1,4),new Obstacle("tree",2,3),new Obstacle("tree",3,2),new Obstacle("tree",4,1),new Obstacle("tree",4,0),new Obstacle("tree",10,0),new Obstacle("tree",10,1),new Obstacle("tree",11,2),new Obstacle("tree",12,3),new Obstacle("tree",13,4),new Obstacle("tree",14,4),new Obstacle("tree",6,7),new Obstacle("tree",
7,6),new Obstacle("tree",8,7),new Obstacle("tree",7,8),new Obstacle("sign",3,7),new Obstacle("sign",7,3),new Obstacle("sign",7,11),new Obstacle("sign",11,7),new Steppable("full-heart",7,14),new Steppable("full-heart",7,0),new Steppable("half-heart",9,7),new Steppable("half-heart",5,7),new Steppable("flag",0,7)];e=[new Enemy("TRex",1,5,6),new Enemy("TRex",2,9,6),new Enemy("Plesiosaur",0,8,6),new Enemy("Triceratops",2,7,6),new Enemy("Triceratops",1,6,6),new Enemy("Pterodactyl",4,6,6)];f=[[12,7],[13,
7],[14,7],[13,6],[13,8]];g=[dEnemy("Plesiosaur","OK guys, I've traced the Treasure of the Croissant to behind one of the time machines. Split up and give me a holler when youn find it."),dEnemy("Triceratops","Er... what's this Treasure of the Croissant?"),dEnemy("Plesiosaur","Oh, new recruit, huh? Apparently there's a massive treasure trove of donuts hidden on Mauna Churo. So hurry up and find it, guys, we didn't travel back in time 60 million years for nothing!"),dEnemy("TRex","ALL YOUR DONUTS ARE BELONG TO US"),
dEnemy("Triceratops","Can I PLEASE maim him? Or at least hit him? Please? I've put up with all his terrible memes, but this... I seriously feel like I'm going to blow up!"),dEnemy("TRex","Did someone say 'blow up'? KAMIKAZE!!!!!!","Bob the TRex"),dEnemy("Plesiosaur","Shame. Poor Bob. Such a dull mind, gone to waste.")];break;case 8:c="concrete";b="ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ccccccccccccccc ";
d=[new Obstacle("tree",1,0),new Obstacle("tree",1,1),new Obstacle("tree",1,2),new Obstacle("tree",1,3),new Obstacle("tree",1,4),new Obstacle("tree",1,5),new Obstacle("tree",13,0),new Obstacle("tree",13,1),new Obstacle("tree",13,2),new Obstacle("tree",13,3),new Obstacle("tree",13,4),new Obstacle("tree",13,5),new Obstacle("tree",3,0),new Obstacle("tree",3,1),new Obstacle("tree",3,2),new Obstacle("tree",3,3),new Obstacle("tree",3,4),new Obstacle("tree",3,5),new Obstacle("tree",11,0),new Obstacle("tree",
11,1),new Obstacle("tree",11,2),new Obstacle("tree",11,3),new Obstacle("tree",11,4),new Obstacle("tree",11,5),new Obstacle("tree",5,0),new Obstacle("tree",5,1),new Obstacle("tree",5,2),new Obstacle("tree",5,3),new Obstacle("tree",5,4),new Obstacle("tree",5,5),new Obstacle("tree",9,0),new Obstacle("tree",9,1),new Obstacle("tree",9,2),new Obstacle("tree",9,3),new Obstacle("tree",9,4),new Obstacle("tree",9,5),new Obstacle("tree",7,5),new Obstacle("tree",7,4),new Obstacle("tree",7,3),new Obstacle("tree",
7,2),new Obstacle("tree",7,1),new Obstacle("tree",7,0),new Steppable("flag",6,0),new Steppable("half-heart",0,0),new Steppable("half-heart",2,0),new Steppable("half-heart",4,0),new Steppable("half-heart",8,0),new Steppable("half-heart",10,0),new Steppable("half-heart",12,0),new Steppable("half-heart",14,0),new Obstacle("shop",3,8),new Obstacle("shop",11,12),new Obstacle("hotel",5,11),new Obstacle("hotel",7,7),new Obstacle("house2",9,9),new Obstacle("house2",10,10),new Obstacle("hydrant",0,11),new Obstacle("hydrant",
2,13),new Obstacle("hydrant",11,9),new Obstacle("hydrant",12,7),new Obstacle("building",7,12)];e=[new Enemy("TRex",6,1,6),new Enemy("TRex",12,1,6),new Enemy("Plesiosaur",8,1,6),new Enemy("Plesiosaur",4,1,6),new Enemy("Triceratops",10,1,6),new Enemy("Brontosaurus",0,1,6),new Enemy("Brontosaurus",7,9,6,1),new Enemy("Pterodactyl",14,1,6),new Enemy("Pterodactyl",2,1,6)];f=[[6,12],[8,12],[10,13],[4,11],[8,14]];g=[dEnemy("TRex","GUYS! GUYS! WE FOUND THE TREASURE! BOSS IS DIGGING IT UP RIGHT NOW!"),dEnemy("Plesiosaur",
"Shut up! Someone's going to hear!"),dEnemy("TRex","WHAT? I CAN'T HEAR YOU!"),dCharacter("Could you keep it down? Please?"),dEnemy("Triceratops","Hey, it's that kid who's been killing all the T-Rex's!"),dEnemy("Pterodactyl","Yeah, it is! I'm honored! Can we have your autograph?"),dEnemy("Plesiosaur","Shut up! And get them!")];h=[dCharacter('Well, that\'s the last of them. Now to get rid of this "Boss" they were talking about and take a time machine out of here.'),dSign("Time machine #74 &uArr;"),
dCharacter("Hey, that's convenient.")];break;case 9:c="concrete";b="WWWWWWWdWWWWWWW WWcccWWdWWcccWW WcccccWdWcccccW cccccccpccccccc cccccccpccccccc ccccccWpWcccccc cccccccpccccccc cccWccWpWccWccc ccWcWccpccWcWcc cccWccWpWccWccc cccccccpccccccc ccccccWpWcccccc cccccccpccccccc ccccccWpWcccccc cccccccpccccccc ";d=[new Obstacle("tree",3,8),new Obstacle("tree",11,8),new Steppable("flag",7,0),new Obstacle("tree",3,3),new Obstacle("tree",11,3),new Obstacle("tree",3,12),new Obstacle("tree",11,12),new Steppable("full-heart",
3,1),new Steppable("full-heart",11,1),new Steppable("half-heart",2,7),new Steppable("half-heart",12,7),new Steppable("quarter-heart",7,8),new Steppable("secret-entrance",7,6)];e=[new Boss("Brontosaurus","Charlotte Bront&euml;",7,1,8)];f=[[7,12],[3,11],[11,11],[5,9],[9,9]];g=[dEnemy("Brontosaurus","Hey, you're the guys who killed off all my goons, right?","Charlotte Bront&euml;"),dCharacter("Er... yeah..."),dEnemy("Brontosaurus","Then I want to thank you so much. Those idiots were just getting in my way. Plus, when I find the Treasure of the Croissant, I get all the credit - and the cash - to myself.",
"Charlotte Bront&euml;"),dCharacter("Credit? Cash?"),dEnemy("Brontosaurus","What? You don't know? Dr. Llama commissioned me to take a gang of my guys back to 60 million BC to find this massive stash of donuts. Apparently there are more donuts in this stash than he's collected so far IN TOTAL. It's huge.","Charlotte Bront&euml;"),dCharacter("I'm not quite sure how I can break this to you, but I..."),dEnemy("Brontosaurus","Let me guess - you want the Treasure for yourself. Fair enough. But I'm going to have to fight you for it. And you're not going to win.",
"Charlotte Bront&euml;")];h=[dNeutral("Operator","Plesiosaur","Whoa, dude! That was, like, a totally rad takedown! Righteous!"),dCharacter("Er... right. So how do I use this time machine?"),dNeutral("Operator","Plesiosaur","Whoa, man, leaving so soon? We had a rad party and everything planned for you, dude! Can't leave now!"),dCharacter("Sorry, but I really need to be going to take down the evil Dr. Llama."),dNeutral("Operator","Plesiosaur","Whatever you say, dude... I've set it for 60 million years in the future. Good luck bro, stay cool. But before you go, could I, like, get your autograph?"),
dCharacter("Sorry, \"bro\", but I can't stay long. I've got to get back..."),dCharacter("<b>TO THE FUTURE!</b>")];break;case SECRET_STAGE:c="concrete",b="cccccccccccWWcc ccccccccccddWcc cccccccccdddddd ccccccccddddddd ccccccccddddddc cWWWcccccWddddc cWccccccccWddcc cccdccccccccccc ccddccccccccccc cccccWccccccccc cccccWccccWWccc ccccWWcccccWccd cccccccddccWccc ccccccccccccccd cccccccdccccccd ",d=[new Obstacle("box",9,2),new Obstacle("box",11,5),new Obstacle("box",13,3),new Obstacle("box",3,7),new Obstacle("box",
3,8),new Obstacle("box",8,12),new Obstacle("box",7,9),new Obstacle("box",14,10),new Obstacle("box",13,7),new Obstacle("box",10,3),new Steppable("flag",11,3),new Steppable("half-heart",3,6),new Steppable("half-heart",14,11),new Steppable("half-heart",14,0),new Obstacle("barrel",6,6),new Obstacle("barrel",8,1),new Obstacle("barrel",1,13),new Obstacle("barrel",12,8)],e=[new Enemy("Alligator",6,11,6,0.4),new Enemy("Alligator",9,4,6,0.4),new Enemy("Sheep",11,4,6,0.2),new Enemy("Tiger",2,8,6,0.4),new Enemy("Tiger",
12,3,6,0.4)],f=[[2,12],[6,13],[4,14],[0,11],[7,14]],g=[dEnemy("Sheep","Baaah Gahd, that's a lotta donuts.","Brad"),dEnemy("Tiger","Roger that. I've filled up these 3 boxes with donuts. I believe we have some empty ones over there. Roger?","Ted"),dEnemy("Tiger","Mmm... yeah? what? Oh, yeah, I've got plenty of... mmm... space here. Bring me some donuts with extra sprinkles, please. No - bring those jelly-filled ones.","Roger"),dEnemy("Alligator","<em>What on this prehistoric earth do you possibly think you're doing, Rog?!?!? We discover the Treasure of the Croissant conveniently lying here in this patch of dirt, and you EAT it?!?!</em>",
"Chuck"),dEnemy("Tiger","Eh? OK, OK, fine, you can have this chocolate one. Never liked chocolate anyway. I'm definitely NOT cuckoo for Cocoa--","Roger"),dNeutral("Commentator","Ostrich","This segment has been censored because, frankly, we don't want to get sued for copyright infringement. No animals were harmed in the making of this game. Except those who were. Now back to your regularly scheduled programming."),dCharacter("I don't even know what to say anymore.")],h=[dCharacter("Nice meeting you boys. Anyway, I've got a teleporter to ride. I'd love to chat, but I've got to get back..."),
dCharacter("<b>TO THE FUTURE!</b>")]}return new Level(3,a,b,c,d,e,f,g,h,i)}));acts.push(new Act(4,function(a){var b,c="savannah",d,e,f,g,h,i;switch(a){case 1:b="vvvpvvvvvvvvvvv vvvppvvvvvvvvvv vvvvppvvvvvvppp vvvvvpvvvvpppvv vvvvvppvpppvvvv vvvvvvpppvvvvvv vvvvvvvpvvvvvvv vvvvvvvpvvvWvvv vvvvvvvpvvWWWWv vvvvppppvvvWWWv vvvppvvpvvvvvvv vvppvvvpvvvvvvv vvvvvvdddvvvvvv vvvvvvdddvvvvvv vvvvvvdddvvvvvv ";d=[new Steppable("flag",14,2),new Obstacle("bank",14,1),new Obstacle("hotel",1,11),new Obstacle("house3",2,0),new Obstacle("house2",4,3),new Obstacle("house1",5,1),new Obstacle("house3",
5,5),new Obstacle("house1",7,4),new Obstacle("house2",8,8),new Obstacle("hydrant",6,10),new Obstacle("hydrant",9,3),new Obstacle("tree",1,5),new Obstacle("tree",2,6),new Obstacle("tree",11,12),new Obstacle("tree",13,11),new Obstacle("building",2,10),new Obstacle("hotel",3,12),new Steppable("half-heart",1,10),new Steppable("half-heart",12,7),new Steppable("half-heart",3,0)];e=[new Enemy("Zebra",13,2,6),new Enemy("Giraffe",6,4,6),new Enemy("Giraffe",2,11,6),new Enemy("Gnu",7,5,6),new Enemy("Leopard",
3,10,6)];f=[[7,12],[7,13],[7,14],[6,13],[8,13]];g=[dCharacter("Oof... where am I?"),dNeutral("Zoe","Cat","Huh? What? Who are YOU?"),dCharacter("Well, we're adventurers trying to find Dr. Llama, who's stolen all the donuts. I'm in the right time period, right?"),dNeutral("Zoe","Cat","Depends. Do you know what an internet meme is?"),dCharacter("Unfortunately. You're not a 'Lolcat' by any chance, are you?"),dNeutral("Zoe","Cat","Yup, you're in the right time period. Congrats. And if you're looking for Dr. Llama, you're just a bit off. You're in West Sprinklestan, he lives off to the east."),
dCharacter("Well then, thanks for your help. Guess I'll be off now."),dNeutral("Zoe","Cat","Wait! Before you go, talk to Sheriff Wilson over at the bank! He said he needs help with some criminals and I think you guys might be able to do something."),dCharacter("I'll see what I can do.")];break;case 2:b="wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww wwwwwwwwwwwwwww ";
d=[new Obstacle("chair",7,0),new Obstacle("chair",6,0),new Obstacle("chair",8,0),new Obstacle("chair",5,1),new Obstacle("chair",9,1),new Obstacle("chair",4,2),new Obstacle("chair",3,3),new Obstacle("chair",3,4),new Obstacle("chair",3,5),new Obstacle("chair",3,6),new Obstacle("chair",10,2),new Obstacle("chair",11,3),new Obstacle("chair",11,4),new Obstacle("chair",11,5),new Obstacle("chair",11,6),new Obstacle("chair",4,7),new Obstacle("chair",5,8),new Obstacle("chair",6,8),new Obstacle("chair",10,7),
new Obstacle("chair",9,8),new Obstacle("chair",8,8),new Obstacle("chair",3,10),new Obstacle("chair",2,11),new Obstacle("chair",2,12),new Obstacle("chair",3,13),new Obstacle("chair",11,10),new Obstacle("chair",12,11),new Obstacle("chair",12,12),new Obstacle("chair",11,13),new Obstacle("chair",7,11),new Steppable("flag",7,1),new Steppable("full-heart",5,0),new Steppable("full-heart",9,0),new Steppable("half-heart",0,5),new Steppable("half-heart",14,5),new Steppable("quarter-heart",7,10)];e=[new Enemy("Giraffe",
1,1,7),new Enemy("Giraffe",13,1,7),new Enemy("Zebra",5,4,7),new Enemy("Zebra",9,4,6),new Enemy("Leopard",7,12,6,1),new Enemy("Monkey",7,2,6)];f=[[7,13],[6,13],[8,13],[6,14],[8,14]];g=[dNeutral("Sheriff Wilson","Gnu","HELP! Someone save me!"),dEnemy("Monkey","Shut up, old man. Besides, all your donuts are gone. Screaming and kicking isn't going to get them back. Nothing is, actually. He he he.")];h=[dCharacter("Sheriff! Are you OK?"),dNeutral("Sheriff Wilson","Gnu","Just fine, thanks. Lemme introduce myself, folks. Sheriff Wilson of the West Sprinklestan Police Force. Pleasure ta meetcha."),
dCharacter("Has there been a robbery or something?"),dNeutral("Sheriff Wilson","Gnu","Oh, you betcha, youngin'. Some thugs - Dr. Llama's, methinks - came in and right absconded - ah say, <i>absconded</i> with all the donuts in this 'ere bank! And it ain't any ol' bank - it's the First Bank of West Sprinklestan!"),dCharacter("What did they steal?"),dNeutral("Sheriff Wilson","Gnu","Donuts. And tons of 'em, bucko. I swear, there was mounds and mounds of them in the safes - musta been at least two thousand. But they just came in and <i>absconded</i> with 'em! Ah say!"),
dCharacter("Sorry to hear that, Sheriff. Any way I can help?"),dNeutral("Sheriff Wilson","Gnu","You betcha, kiddo. I heard they was makin' off for Llama's castle off to the east. If'n ya hurry up you can probably catch their leader - that's the danger'is outlaw Dirty Benny - before 'e reaches the castle."),dCharacter("Sure... but are you going to come along?"),dNeutral("Sheriff Wilson","Gnu","Don't be crazy! I'm not suicidal - I mean young. Yeh, that's what ah meant, young. Good luck though, bucko. You'll need it.")];
break;case 3:b="vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv ppvvvvvvvvvvvpp vpppvvvvvvvvvpv vvvpppvvvpppppv vvvvvpppppvvvvv vvvvvvvpvvvvvvv vvvvvvvpvvvvvww vvvvvvvpvvvwwwW wwvvvwwwwwwwWBW WwwwwwwwwwwwWBW WWBWwwwwwwwwWBW WWBWwwwwwWwwWBW WWBWWBWBWWWBWWW WWWWWBWWWWWBWWW ";d=[new Steppable("flag",14,2),new Obstacle("shop",1,8),new Obstacle("shop",10,8),new Obstacle("house2",4,9),new Obstacle("house3",13,6),new Obstacle("barrel",5,11),new Obstacle("barrel",8,10),new Obstacle("barrel",10,11),new Steppable("half-heart",
2,13),new Steppable("half-heart",13,12),new Steppable("half-heart",0,2)];e=[new Enemy("Leopard",2,12,7),new Enemy("Leopard",13,11,7),new Enemy("Monkey",7,5,7),new Enemy("Zebra",3,7,7),new Enemy("Monkey",9,8,7)];f=[[7,11],[5,12],[11,13],[5,14],[7,13]];i=new Ally("Hippo",0,0,7,"May");g=[dNeutral("Captain May","Hippo","Hey, hathix! Didn't you travel on my ship to North Icington the other day?"),dCharacter("Wait... yeah, I did! Nice to see you again, Captain!"),dNeutral("Captain May","Hippo","You can just call me May. So what are you doing here?"),
dCharacter("Well, I'm still on my mission to reclaim the donuts from Dr. Llama. It's been a long journey but I'm almost there. How about you?"),dNeutral("Captain May","Hippo","Me? I'm off for a few weeks, so I came over here to meet the family. Little did I realize that Llama's goons would be infesting the place."),dCharacter("While you're off duty, would you like to come with me? I'm sure you'd like to do in Llama as much as I would."),dAlly("May","Hippo","You betcha! I've been itching to sock it to these guys ever since they ransacked my favorite ship back in North Icington! Let's go!")];
break;case 4:b="vvvpppppppppvvv vvvpvvvvvvvpppv vvvpvWWWWvvvvpp vvppvWWWWWWWvvp vvpvWWWWWWWWWvp vvpvvWWWWWWWvvp vppvWWWWWWWWvvp vpvvWWWWWWWWvvp ppvWWWWWWWWWvvp vvvWWWWWWWWWvvv vvvvWWWWWWWWWWv vvvWWWWWWWWWWWv vvvvWWWWWWWWWWv vvvvWWWWWWWWWvv vvvvvvvvvvvvvvv ";d=[new Steppable("flag",14,8),new Obstacle("tree",3,13),new Obstacle("tree",14,14),new Obstacle("tree",1,3),new Obstacle("tree",14,1),new Obstacle("hydrant",6,1),new Obstacle("hydrant",13,6),new Obstacle("hydrant",1,9)];e=[new Enemy("Monkey",12,
9,8),new Enemy("Hippo",3,2,7),new Enemy("Zebra",7,14,7),new Enemy("Leopard",9,0,7)];f=[[0,8],[1,8],[1,7],[1,6],[2,6]];g=[dEnemy("Hippo","Hey! Someone's coming! RUN!","Ted"),dEnemy("Monkey","What? Guys! Wait in ambush! They'll never know what hit 'em! Especially after I go bananas on them... ooh, that'll leave a mark...","Jorge"),dEnemy("Leopard","Yeah, in you. No, Reflex is where it's at. Not only do they miss, they hit <i>themselves</i>. Can Zeebs say that? I didn't think so!","Tisch"),dEnemy("Zebra",
"What? What? Stop picking on me!","Zeebs")];break;case 5:b="vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv ";d=[new Steppable("flag",14,0)];e=[new Enemy("Hippo",6,1,7),new Enemy("Rhino",7,1,7),new Enemy("Zebra",10,8,8,0.5),new Enemy("Leopard",8,5,7),new Enemy("Gnu",13,5,8,0.5)];f=[[3,10],[10,11],[11,10],[0,
9],[7,14]];g=[dEnemy("Leopard","What? Seriously? They put us in THIS level? Come on!"),dEnemy("Gnu","Yeah, I know! Did the guy who made this game have NO creativity at all?"),dCharacter("Well, to be fair, game developers don't get paid enough."),dEnemy("Rhino","Yeah, but that's no excuse for not even putting something in here. How long would it take to put in a tile of water? A second?"),dCharacter("Wait, why am I talking with you? And why are we suddenly realizing we're just blobs of pixels and bytes on a computer somewhere?"),
dEnemy("Zebra","Dudes, he knows too much. He must be taken down. Like, now.")];break;case 6:b="vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvWvvvv pppppvvvvWWWvvv vvvvpvvvvWWWWvv vvvvpppvvvvWvvv vvvvvvpvvvWWvvv vvvvvvppvvvvvvv vvvvvvvpppvvvvv vvvvvvvvvpvvvvv vvvvvvvvvppppvv vvWWWvvvvvvvpvv vWWWWWvvvvvvpvv vvWvWWvvvvvvppv vvvvvvvvvvvvvpv ";d=[new Steppable("flag",13,14),new Steppable("half-heart",3,13),new Steppable("half-heart",10,5)];e=[new Enemy("Gnu",7,8,7,1),new Enemy("Gnu",7,7,8),new Enemy("Gnu",
8,8,8),new Enemy("Gnu",7,9,8),new Enemy("Gnu",6,8,8),new Enemy("Hippo",4,3,7)];f=[[1,3],[1,4],[0,3],[0,4],[0,2]];g=[dEnemy("Hippo","Yo! Yo! Elephant at, uhh... one two four... nine o'clock!","Scout"),dEnemy("Gnu","Oh, good. The game's on and it should end... at 8:30.","Chuck"),dEnemy("Gnu","No, you idiot! This game's going into extras! No way it'll be done by 9!","Gerald"),dEnemy("Hippo","You guys is so smart!","Scout")];break;case 7:b="vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvWvvvvvvv vvvvvvWWWvvvvvv vvvvvvvWvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv ppppppppppppppp vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvWvvvvvvv vvvvvvWWWvvvvvv vvvvvvvWvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv";
d=[new Obstacle("tree",0,6),new Obstacle("tree",1,6),new Obstacle("tree",2,6),new Obstacle("tree",4,6),new Obstacle("tree",5,6),new Obstacle("tree",6,6),new Obstacle("tree",8,6),new Obstacle("tree",9,6),new Obstacle("tree",10,6),new Obstacle("tree",12,6),new Obstacle("tree",13,6),new Obstacle("tree",14,6),new Obstacle("tree",14,8),new Obstacle("tree",13,8),new Obstacle("tree",12,8),new Obstacle("tree",10,8),new Obstacle("tree",9,8),new Obstacle("tree",8,8),new Obstacle("tree",6,8),new Obstacle("tree",
5,8),new Obstacle("tree",4,8),new Obstacle("tree",2,8),new Obstacle("tree",1,8),new Obstacle("tree",0,8),new Steppable("flag",14,7),new Steppable("full-heart",1,2),new Steppable("full-heart",1,12),new Obstacle("house2",11,3),new Obstacle("house2",11,11)];e=[new Enemy("Rhino",7,7,8),new Enemy("Rhino",13,7,8),new Enemy("Rhino",12,7,8),new Enemy("Hippo",11,7,8),new Enemy("Monkey",5,3,8),new Enemy("Leopard",5,11,8)];f=[[3,7],[2,7],[1,7],[0,7],[4,7]];g=[dEnemy("Rhino","WHOA WHOA WHOA! GET OFF MAH LAWN!",
"Groundskeeper"),dCharacter("Er, sure... uh, if you'd just move out of the way..."),dEnemy("Rhino","Y'all think y'all's talkin' t' an idjit?","Groundskeeper"),dEnemy("Monkey","Ah think 'e knows <em>now</em>!"),dEnemy("Leopard","*snickah*"),dEnemy("Rhino","Would y'alls stop tramplin' mah flowuhs? Ah say, kids these days! NO RESPECT FO' THEY-UH ELDAHS! When will y'all learn? Y'all's nevah hadda job, hasn't ya? No, once y'all learn RESPONSIBILITY and THE VALUE OF HAHD WORK &mdash;","Groundskeeper"),
dCharacter("Sorry to interrupt, but could we get on with, er, whatever we were doing?")];break;case 8:b="vvvvvvvvvpppppp vvvvvvvWWBWvvvv vvvvvvWWvvWWvvv WWWWWWWvvvWWWWv WWWWWWvvvvvvWWW vvvvvvvvvvvvvvW vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv vvvvvvvvWWBWWvv vvvvvvvvWvvvWvv vvvvvvvvbvvvbvv vvvvvvvvWvvvWvv vvvvvvvvWWBWWvv vvvvvvvvvvvvvvv vvvvvvvvvvvvvvv ";d=[new Obstacle("tree",0,9),new Obstacle("tree",1,9),new Obstacle("tree",2,9),new Obstacle("tree",3,9),new Obstacle("tree",5,14),new Obstacle("tree",5,13),
new Obstacle("tree",5,12),new Obstacle("tree",5,11),new Obstacle("sign",2,12),new Steppable("flag",14,0),new Steppable("full-heart",0,0),new Steppable("half-heart",10,10),new Steppable("quarter-heart",5,9),new Obstacle("house3",2,7),new Obstacle("house2",12,14),new Obstacle("house1",3,1),new Obstacle("house2",9,5),new Obstacle("tree",9,4),new Obstacle("tree",10,5),new Obstacle("tree",12,13),new Obstacle("tree",13,14),new Obstacle("tree",1,7),new Obstacle("tree",2,6),new Steppable("quarter-heart",
13,13),new Obstacle("tree",6,6),new Obstacle("tree",13,7)];e=[new Enemy("Rhino",9,10,8),new Enemy("Rhino",10,11,8),new Enemy("Rhino",9,1,8),new Enemy("Giraffe",4,9,8),new Enemy("Zebra",5,10,8),new Enemy("Leopard",8,5,8)];f=[[1,12],[2,13],[1,13],[0,12],[2,14]];g=[dSign("<span style='text-align: center;'><h3>Now entering Dr. Llama's courtyard!</h3><p>Be scared. <strong> Very scared.</p></span>"),dEnemy("Giraffe","Where d'you think YOU'RE going, partner?"),dEnemy("Zebra","Yeah!"),dCharacter("Well, uh, seeing as this is Dr. Llama's courtyard, I'm guessing his castle's back there beyond the river. Right?"),
dEnemy("Zebra","Yeah!"),dEnemy("Giraffe","No, you ignominious cretin. This is the courtyard for a reason, partner. Llama's gardens are over there. Then there's a path to his castle."),dEnemy("Zebra","Yeah!"),dEnemy("Giraffe","But don't bother going any farther. Our boss, Benjamin Squeekycleen - a.k.a. Dirty Benny - is back there and there's no way you twits are going anywhere."),dEnemy("Zebra","Yeah!"),dEnemy("Giraffe","Do you want me to punch you in the face?"),dEnemy("Zebra","Yeah!")];h=[dCharacter("Hey, I think I can see a castle over there...")];
break;case 9:b="vvvvvvvpWWWWWWv ppppppvpvvvvvWv pvvvvpvpvWWWvWv pvppvpvpvWvWvWv pvpvvpvpvWvvvWv pvppppvpvWWWWWv pvvvvvvpvvvvvvv ppppppppppppppp vvvvvvvpvvvvvvp vdddddvpvppppvp vdvvvdvpvpvvpvp vdvdvdvpvpvppvp vdvdddvpvpvvvvp vdvvvvvpvpppppp vddddddpvvvvvvv ";d=[new Obstacle("tree",4,6),new Obstacle("tree",3,6),new Obstacle("tree",2,6),new Obstacle("tree",1,6),new Obstacle("tree",1,5),new Obstacle("tree",1,4),new Obstacle("tree",1,3),new Obstacle("tree",1,2),new Obstacle("tree",2,2),new Obstacle("tree",
3,2),new Obstacle("tree",4,2),new Obstacle("tree",4,3),new Obstacle("tree",4,4),new Obstacle("tree",3,4),new Obstacle("tree",11,10),new Obstacle("tree",10,10),new Obstacle("tree",10,11),new Obstacle("tree",10,12),new Obstacle("tree",11,12),new Obstacle("tree",12,12),new Obstacle("tree",13,12),new Obstacle("tree",13,11),new Obstacle("tree",13,10),new Obstacle("tree",13,9),new Obstacle("tree",13,8),new Obstacle("tree",12,8),new Obstacle("tree",11,8),new Obstacle("tree",10,8),new Obstacle("tree",6,6),
new Obstacle("tree",6,8),new Obstacle("tree",8,8),new Obstacle("tree",8,6),new Steppable("flag",10,3),new Steppable("full-heart",3,3),new Steppable("full-heart",11,11),new Steppable("full-heart",3,11),new Steppable("half-heart",7,7),new Steppable("secret-entrance",14,1)];e=[new Boss("Monkey","Dirty Benny",8,1,8)];f=[[5,9],[2,3],[12,11],[0,7],[7,14]];g=[dEnemy("Mouse","Do you have the donuts?"),dEnemy("Monkey","Of CO-AHSE ah have the donuts! Whatcha take me fer, a fool?","Dirty Benny"),dEnemy("Mouse",
"Judging from your shocking lack of intellect, yes."),dEnemy("Monkey","Ah have no ah-dea what yew and yer fancy cahllege-edjicayted mouth is sayin', but listen 'ere, ah have the donuts from the bank - two thousind of 'em - an' ah'm gonna take it ta Llama meself. So outta mah way.","Dirty Benny"),dEnemy("Mouse","Shush, you louche louse! Someone's coming!"),dCharacter("Hey, er, is that Llama's castle back there?"),dEnemy("Mouse","Maybe it is, maybe it isn't. What do you want?"),dCharacter("Well, er, I just had some donuts to drop off to Mr. Llama &mdash;"),
dEnemy("Mouse","WHOA WHOA WHOA! That's DOCTOR Llama to you, kid! You're a fake! No, we instill the qualities of RESPECT in our army of thieves, liars, and guys with no better way to spend their time!"),dEnemy("Mouse","...but we don't instill the value of courage. You, primate, fight him. I'm outta here!"),dEnemy("Monkey","Let me guess... y'all wants mah donuts, doncha? Huh? Well they're MAHNE! (And never mind how ah carried them all over here.)","Dirty Benny"),dCharacter("Well, Benny, looks like we're going to have to <em>clean</em> your clock. Har har har. (I've been itching to crack a bad joke since level 1-1.)")];
h=[dCharacter("Finally! We're at Llama's castle! He's right up at the top of these stairs!"),dNeutral("Terrorized Villager","Cow","Aren't you going to return the donuts?!?"),dCharacter("Er, good point. After I take care of Llama."),dSign("You want to beat Dr. Llama? Good luck with that!<br /><em>(Eerily psychic response provided courtesy of Sychic Signs, Inc., South Sprinklestan 50515)</em>")];break;case SECRET_STAGE:c="tile",b="ttttttttttttttt ttttttttttttttt ttttttttttWWttt tttttttWWWWWWtt ttttttttWWWWWWt tttttttWWWWtWWW ttttttWWWWWBWWW tttttWWWWWWBWWt ttttWWttWWWBWtt tttWWWWtttWtWtt WWBWttttttttttt WWttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ",
d=[new Obstacle("barrel",6,12),new Obstacle("barrel",10,11),new Obstacle("barrel",13,13),new Obstacle("barrel",10,14),new Obstacle("box",3,3),new Obstacle("box",1,5),new Obstacle("box",5,1),new Obstacle("box",4,5),new Obstacle("box",14,0),new Steppable("flag",11,5),new Steppable("full-heart",14,2),new Steppable("half-heart",3,13)],e=[new Enemy("Bee",2,8,8,0.5),new Enemy("Duck",6,8,8,0.3),new Enemy("TRex",11,6,8,0.3),new Enemy("Cow",11,1,8,0.3),new Enemy("Chicken",8,13,8,0.3)],f=[[2,1],[3,2],[4,2],
[2,3],[1,3]],g=[dSign("THE LLAMA LLODGE - Basement 1"),dEnemy("Duck","Hey! Are you the repair guy? Glad you came. Mr. Lolcat over here busted a pipe by jumping up and down and pretending he was a kitten."),dEnemy("TRex","Can haz help?","Mr. Lolcat"),dEnemy("Duck","Again, excuse us all for that dinosaur's stupidity. I swear, I think Llama puts 'Low IQ a bonus' on his Goon Application Forms (tm)."),dEnemy("TRex","Lol! I haz earz, u no!!1111","Mr. Lolcat"),dEnemy("Bee",'Why\'d you "lol" at that?!?'),
dEnemy("TRex","I dunno. Teh boss haz teh answers. And teh donutz.","Mr. Lolcat"),dCharacter("If you don't mind, could I just go upstairs? I've got some, er, cheeseburgers to deliver."),dEnemy("Cow","Oh, no..."),dEnemy("Trex","U HAZ CHEEZBURGER?!? I MUST HAZ CHEEZBURGER!!!!","Mr. Lolcat"),dEnemy("Cow","Hey, dude, you <em>might</em> want to run. Fast. Now.")],h=[dCharacter("What was that? I feel a good bit dumber after that incident. Oh, my head. Let's get out of here."),dSign("What? There are still 9 floors to go!<br /><em>(Eerily psychic response provided courtesy of Sychic Signs, Inc., South Sprinklestan 50515)</em>")]}return new Level(4,
a,b,c,d,e,f,g,h,i)}));acts.push(new Act(5,function(a){var b,c,d,e,f,g,h;switch(a){case 1:b="ttttttttttttttt tttttttWttttttt ttttttWWWtttttt tttttttWttttttt ttttttttttttttt gttttttttttttWt ggttttttttttWWt gggttttttttWWtt ggttttttttttWWt gttttttttttttWt ttttttttttttttt tttttttWttttttt ttttttWWWtttttt tttttttWttttttt ttttttttttttttt ";c=[new Steppable("flag",13,7),new Steppable("full-heart",5,10),new Steppable("full-heart",5,4),new Obstacle("chair",6,7),new Obstacle("chair",7,6),new Obstacle("chair",7,8),new Obstacle("chair",
8,7),new Obstacle("chair",11,12),new Obstacle("chair",12,11),new Obstacle("chair",13,12),new Obstacle("chair",12,13),new Obstacle("chair",11,2),new Obstacle("chair",12,3),new Obstacle("chair",12,1),new Obstacle("chair",13,2)];d=[new Enemy("Panda",9,9,8),new Enemy("Panda",10,10,8),new Enemy("Panda",11,9,8),new Enemy("Peacock",9,5,8),new Enemy("Peacock",10,4,8),new Enemy("Peacock",11,5,8),new Enemy("Llama",4,7,8,0.3)];e=[[0,5],[0,6],[0,7],[0,8],[0,9]];f=[dEnemy("Llama","Oy! What are you doing here?!?"),
dCharacter("Er, uh, yeah, about that... oh, hey, look behind you!"),dEnemy("Panda","PAIN TO DA PEACOCKS!"),dEnemy("Peacock","SLIGHTLY MORE PAIN TO DA PANDAS!"),dEnemy("Llama",'Oh, great. Sorry about that. Pandas and peacocks are archenemies. Mongoose and cobra have <em>nothing</em> on those two rabid species. Sorry we had to get in the way of your, "er, about that."'),dCharacter("I knew you'd understand&mdash;"),dEnemy("Panda","DEATH TO DA PEACOCKS!"),dEnemy("Peacock","SLIGHTLY MORE DEATH TO DA PANDAS!"),
dCharacter("That doesn't even make sense&mdash;"),dEnemy("Panda","OK, TEAM, CHAAARRRGE!"),dEnemy("Peacock","OK TEAM, CHAAARRRGE (SLIGHTLY MORE)!")];g=[dCharacter("The stairs! The stairs! Couldn't have come soon enough.")];break;case 2:b="ttttttttccccccc ttttttttccccccc ttttttttccccccc ttttttttccccccc ttttttttccccccc ttttttttccccccc ttttttttccccccc ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttttttttttttttt ";c=[new Obstacle("wall",
8,6),new Obstacle("wall",8,5),new Obstacle("wall",8,4),new Obstacle("wall",8,3),new Obstacle("wall",8,2),new Obstacle("wall",8,1),new Obstacle("wall",8,0),new Obstacle("wall",9,0),new Obstacle("wall",10,0),new Obstacle("wall",12,0),new Obstacle("wall",11,0),new Obstacle("wall",13,0),new Obstacle("wall",14,0),new Obstacle("wall",14,1),new Obstacle("wall",14,2),new Obstacle("wall",14,3),new Obstacle("wall",14,4),new Obstacle("wall",14,5),new Obstacle("wall",14,6),new Obstacle("wall",13,6),new Obstacle("wall",
12,6),new Obstacle("wall",11,6),new Obstacle("wall",10,6),new Obstacle("pillar",8,7),new Obstacle("pillar",8,8),new Obstacle("pillar",10,7),new Obstacle("pillar",10,8),new Obstacle("pillar",8,9),new Obstacle("pillar",8,10),new Obstacle("pillar",8,11),new Obstacle("pillar",8,12),new Obstacle("pillar",10,12),new Obstacle("pillar",10,11),new Obstacle("pillar",10,10),new Obstacle("pillar",10,9),new Obstacle("chair",4,1),new Obstacle("chair",3,2),new Obstacle("chair",3,3),new Obstacle("chair",4,4),new Obstacle("chair",
6,1),new Obstacle("chair",7,2),new Obstacle("chair",7,3),new Obstacle("chair",6,4),new Obstacle("chair",2,8),new Obstacle("chair",1,9),new Obstacle("chair",1,10),new Obstacle("chair",2,11),new Obstacle("chair",4,8),new Obstacle("chair",5,9),new Obstacle("chair",5,10),new Obstacle("chair",4,11),new Obstacle("sign",2,5),new Obstacle("barrel",10,14),new Obstacle("barrel",8,13),new Obstacle("barrel",12,11),new Obstacle("barrel",14,13),new Obstacle("barrel",13,7),new Obstacle("barrel",11,9),new Obstacle("barrel",
14,9),new Obstacle("barrel",2,14),new Obstacle("barrel",7,7),new Obstacle("barrel",1,7),new Obstacle("barrel",2,0),new Steppable("flag",14,7),new Steppable("full-heart",13,1),new Steppable("half-heart",12,13),new Steppable("half-heart",3,6)];d=[new Enemy("Ostrich",4,5,8),new Enemy("Llama",9,11,9),new Enemy("Llama",9,10,8),new Enemy("Llama",9,9,8),new Enemy("Peacock",2,9,9),new Enemy("Peacock",4,9,9)];e=[[1,5],[1,4],[1,6],[2,3],[2,7]];h=new Ally("Panda",11,3,9,"Rocky");f=[dSign("Hey! Don't press that big red button!"),
dCharacter("Well, seeing as I'm in here to overthrow the place, I might as well press it."),dEnemy("Ostrich","NO NO NO YOU IDIOT&mdash;","Warden"),dNeutral("Rocky","Panda","Hahaha! I'm free! Thanksabunch, elephant dude! Now let's bust our way outta here!"),dCharacter("...our?"),dAlly("Rocky","Panda","Of course! I'm on your side now. I heard what you said about overthrowing the place, that's righteous, man."),dAlly("Rocky","Panda","Why wait? Let's goooo! I'm gonna show 'em the ol' one-two! After all, two hits are better than one! One good smack deserves another! Strike one, strike two... and YOU'RE OUT!"),
dEnemy("Ostrich","Why'd you do that? Now we have to listen to his terrible wordplay again!","Warden"),dAlly("Rocky","Panda","With my good ol' Bamboomerang - I made that name myself, you like it? - they won't know what hit 'em. Twice. So what are we waiting for, elephant dude?!? Two can play at this game! Let's goooooo!"),dEnemy("Ostrich","Grrr... HEY! GUARDS! GET 'EM! The intruders, and the panda with the bad puns!","Warden")];break;case 3:b="tttWtgtttsttWtt ttttttttWtttrtt vttWgttwWtWtptW ttWttttWWWWtrtt ttttttWWWWWtWst tbtWttttWWtWttt tttttttWWtttttw tttttsttttWtttt tWWWtttttwttttt ttWWtvttttsWstt wttttttgttttttB ttttWttttWttttt ttttttWtWWttttt tWtttWtttttttWt tgtttttvtttgttt ";
c=[new Steppable("flag",9,4),new Steppable("full-heart",3,8),new Steppable("full-heart",2,8),new Steppable("full-heart",2,9),new Steppable("full-heart",1,8),new Steppable("full-heart",3,9),new Steppable("half-heart",12,3),new Steppable("half-heart",7,14),new Steppable("half-heart",6,1),new Steppable("flag",14,10),new Obstacle("hotel",6,8),new Obstacle("tree",10,6),new Obstacle("pillar",2,12),new Obstacle("chair",0,7),new Obstacle("shop",7,9),new Obstacle("house1",8,7),new Obstacle("sign",4,3),new Obstacle("house2",
9,12),new Obstacle("chair",8,1),new Obstacle("barrel",4,13),new Obstacle("box",13,10),new Obstacle("bank",12,12),new Obstacle("tree",14,12),new Obstacle("shop",12,11)];d=[new Enemy("Turkey",5,5,9),new Enemy("Turkey",11,9,9,1),new Enemy("Turkey",8,7,9),new Enemy("Turkey",1,9,9),new Enemy("Turkey",12,13,9),new Enemy("Turkey",10,1,9)];e=[[2,3],[1,5],[0,7],[0,2],[3,6]];f=[dCharacter("Wh- what the&mdash;"),dEnemy("Turkey","Do you like it? I've been redecorating! Hehehe!"),dCharacter("Oh, uh, nicely done... I like the, er, turkeys on houses... and the chair in the water... and that oddly-placed bit of snow..."),
dEnemy("Turkey","Don't worry! Everything in this world is an <em>illusion</em>!"),dSign("<strong>WARNING!</strong> Insane Asylum. DO NOT EAT.")];g=[dCharacter("Does this place just get weirder and weirder each floor I go?"),dSign("Maybe, maybe not.<br /><em>(Eerily psychic response provided courtesy of Sychic Signs, Inc., South Sprinklestan 50515)</em>")];break;case 4:b="wwWWWwwwWWWWWwW WwwwwwWwwwwWwww wwWwWWWWWWwwwWw WWWwwwWwwwWWWww WwwwWwwwWwwWwwW WwWWWWWWwwWWWwW wwwWwWwwwWWWwwW wWwWwWwWWwwWwWW WWWWwwwwWWwWWww WWwwwWWWWWwwwwW WWwWwwwWWwwwWWW WwWWwWwWwwWwwWw wwwwwWwwwWWwWww WwWWwWWwWWwwwwW WWwwwWwwWWwWWww ";
c=[new Steppable("flag",14,11),new Steppable("full-heart",12,7),new Steppable("full-heart",0,12),new Steppable("full-heart",7,8)];d=[new Enemy("Panda",11,2,9),new Enemy("Panda",0,7,9),new Enemy("Panda",2,10,10),new Enemy("Bunny",9,7,10,0.5),new Enemy("Mouse",13,13,9),new Enemy("Turkey",8,6,9)];e=[[12,4],[4,6],[0,0],[2,14],[2,7]];f=[dCharacter("What? Seriously? I was kidding!"),dEnemy("Bunny","Oh, our apologies. Here, take this yummy and nutritious easter egg."),dCharacter("Oh, sure, thanks&mdash; <strong>*BOOM*</strong>"),
dEnemy("Bunny","Silly me, I forgot to mention that it was an <em>explosive</em> egg. Hehe."),dCharacter("I was going to smack you down anyway, so that doesn't really make much of a difference. But what I want to know is, how do you get water up here on the 4th floor of a tower?"),dEnemy("Panda","Running water, genius. <em>Duh</em>."),dEnemy("Turkey","*snigger*"),dCharacter("Hey, turkey! Let me guess, you designed this floor too?"),dEnemy("Turkey","Hehehehehehehehehehe!")];g=[dCharacter("This place gets weirder and weirder... bickering thugs, insane turkeys, and this strange maze... what next?")];
break;case 5:b="ttttttttttttttt ttcccctttcccctt ttcccctttcccctt ttcccctttcccctt ttcccctttcccctt ttcccctttcccctt ttttttttttttttt ttttttttttttttt ttttttttttttttt ttcccctttcccctt ttcccctttcccctt ttcccctttcccctt ttcccctttcccctt ttcccctttcccctt ttttttttttttttt ";c=[new Obstacle("barrel",7,5),new Obstacle("barrel",6,5),new Obstacle("barrel",6,4),new Obstacle("barrel",7,3),new Obstacle("barrel",8,2),new Obstacle("barrel",6,0),new Obstacle("barrel",7,6),new Obstacle("sign",6,7),new Obstacle("box",6,8),new Obstacle("box",
6,9),new Obstacle("box",7,10),new Obstacle("box",8,8),new Obstacle("box",8,7),new Obstacle("box",10,7),new Obstacle("box",9,8),new Obstacle("chair",2,11),new Obstacle("chair",0,11),new Obstacle("chair",1,12),new Obstacle("chair",1,11),new Obstacle("chair",0,13),new Obstacle("box",8,14),new Obstacle("box",6,12),new Obstacle("wall",2,2),new Obstacle("wall",2,1),new Obstacle("wall",3,1),new Obstacle("wall",4,1),new Obstacle("wall",5,1),new Obstacle("wall",5,2),new Obstacle("wall",5,4),new Obstacle("wall",
5,5),new Obstacle("wall",4,5),new Obstacle("wall",3,5),new Obstacle("wall",2,5),new Obstacle("wall",2,4),new Obstacle("wall",2,10),new Obstacle("wall",2,9),new Obstacle("wall",3,9),new Obstacle("wall",4,9),new Obstacle("wall",5,9),new Obstacle("wall",5,10),new Obstacle("wall",2,12),new Obstacle("wall",2,13),new Obstacle("wall",3,13),new Obstacle("wall",4,13),new Obstacle("wall",5,13),new Obstacle("wall",5,12),new Obstacle("wall",9,10),new Obstacle("wall",9,9),new Obstacle("wall",10,9),new Obstacle("wall",
11,9),new Obstacle("wall",12,9),new Obstacle("wall",12,10),new Obstacle("wall",9,12),new Obstacle("wall",9,13),new Obstacle("wall",10,13),new Obstacle("wall",11,13),new Obstacle("wall",12,13),new Obstacle("wall",12,12),new Obstacle("wall",9,4),new Obstacle("wall",9,5),new Obstacle("wall",10,5),new Obstacle("wall",11,5),new Obstacle("wall",12,5),new Obstacle("wall",12,4),new Obstacle("wall",9,2),new Obstacle("wall",9,1),new Obstacle("wall",10,1),new Obstacle("wall",11,1),new Obstacle("wall",12,1),
new Obstacle("wall",12,2),new Steppable("flag",3,10),new Obstacle("chair",14,3),new Obstacle("chair",13,4),new Obstacle("chair",13,5),new Obstacle("chair",12,6),new Obstacle("chair",14,6),new Steppable("half-heart",4,4),new Steppable("half-heart",10,2),new Steppable("half-heart",10,10)];d=[new Enemy("Ostrich",5,6,10),new Enemy("Mouse",10,12,9),new Enemy("Bunny",4,10,10),new Enemy("Ostrich",11,2,9),new Enemy("Bunny",3,2,10)];e=[[1,6],[2,7],[1,8],[3,6],[3,8]];f=[dCharacter("Great. Now what could this be?"),
dEnemy("Ostrich","SHUT UP! BE QUIET! THUGS ARE TRYING TO SLEEP HERE!","Guard"),dCharacter("Oh, I'm sorry. Didn't notice. Say, what's with the strategically placed boxes and stuff?"),dEnemy("Ostrich","READ THE SIGN! AND DIDN'T I TELL YOU TO SHUT UP?!?","Guard"),dSign("Please excuse the clutter - we're busy sleeping!"),dEnemy("Bunny","If you're going upstairs, could you do us a favor? Don't tell the boss we're sleeping! We've been in the barracks for three weeks now, and our pizza hasn't run out just yet - how are those pizza reserves looking, Mike?",
"Bob"),dEnemy("Mouse","T-minus three weeks and counting. Well, two and a half if you consider the 20 boxes Ben just lugged off.","Mike"),dEnemy("Bunny","TWENTY?!? ARE YOU KIDDING?!? No friend of mine eats twenty boxes of pizza! Come on, man, I eat at least <em>fifty</em>!","Bob"),dCharacter("That doesn't even make mathematical sense!"),dEnemy("Mouse","Since when did anything here make sense?","Mike")];g=[dNeutral("Rabid Rabbit","Bunny","Psst! Elephant! Want an easter egg?"),dCharacter("Er, metaphorically, sure..."),
dNeutral("Rabid Rabbit","Bunny","Well, before you start playing (on the main menu screen), click on the llama's left eyeball. That is all.")];break;case 6:b="tttttcccccccccc tttttwwwwwwwwww tttttcccccccccc ttttttttttttttt tttttcccccccccc tttttwwwwwwwwww tttttcccccccccc ttttttttttttttt tttttcccccccccc tttttwwwwwwwwww tttttcccccccccc ttttttttttttttt tttttcccccccccc tttttwwwwwwwwww tttttcccccccccc ";c=[new Obstacle("pillar",5,3),new Obstacle("pillar",6,3),new Obstacle("pillar",7,3),new Obstacle("pillar",
8,3),new Obstacle("pillar",9,3),new Obstacle("pillar",10,3),new Obstacle("pillar",11,3),new Obstacle("pillar",12,3),new Obstacle("pillar",13,3),new Obstacle("pillar",14,3),new Obstacle("pillar",14,7),new Obstacle("pillar",13,7),new Obstacle("pillar",12,7),new Obstacle("pillar",11,7),new Obstacle("pillar",10,7),new Obstacle("pillar",9,7),new Obstacle("pillar",8,7),new Obstacle("pillar",7,7),new Obstacle("pillar",6,7),new Obstacle("pillar",5,7),new Obstacle("pillar",5,11),new Obstacle("pillar",6,11),
new Obstacle("pillar",7,11),new Obstacle("pillar",8,11),new Obstacle("pillar",9,11),new Obstacle("pillar",10,11),new Obstacle("pillar",11,11),new Obstacle("pillar",12,11),new Obstacle("pillar",13,11),new Obstacle("pillar",14,11),new Steppable("flag",14,9),new Steppable("full-heart",14,1),new Steppable("full-heart",14,5),new Steppable("full-heart",14,13),new Obstacle("chair",3,0),new Obstacle("chair",2,0),new Obstacle("chair",1,0),new Obstacle("chair",1,2),new Obstacle("chair",2,2),new Obstacle("chair",
3,2),new Obstacle("chair",3,4),new Obstacle("chair",2,4),new Obstacle("chair",1,4),new Obstacle("chair",1,6),new Obstacle("chair",2,6),new Obstacle("chair",3,6),new Obstacle("chair",3,8),new Obstacle("chair",2,8),new Obstacle("chair",1,8),new Obstacle("chair",1,10),new Obstacle("chair",2,10),new Obstacle("chair",3,10),new Obstacle("chair",3,12),new Obstacle("chair",2,12),new Obstacle("chair",1,12),new Obstacle("chair",1,14),new Obstacle("chair",2,14),new Obstacle("chair",3,14)];d=[new Enemy("Mouse",
4,1,9),new Enemy("Mouse",4,13,10),new Enemy("Ostrich",4,5,9),new Enemy("Ostrich",4,9,10),new Enemy("Panda",3,5,10),new Enemy("Panda",3,9,10)];e=[[1,1],[2,1],[1,5],[1,9],[1,13]];f=[dEnemy("Mouse","Hey! Watch what you're doing! Can't you see I'm trying to bowl here?"),dCharacter("Well, judging from the bad graphics, not really."),dEnemy("Mouse","Hey, shut up, you pinheaded pachyderm!"),dEnemy("Panda","Yeah, we're trying to <em>relax</em> here! Can't you see we're busy?"),dCharacter("Well, guys, I'm an invader, so aren't you being paid to stop me?"),
dEnemy("Ostrich","Heh heh. We're being paid, all right, but we weren't intending on stopping you. But now that you cost me that strike with your stupid interruptions, consider yourself dead.")];break;case 7:b="ttttttttttttttt ttttttttttttttt RRRRRRRRRtttttt RRRRRRRRRtttttt RRRRRRRRRtttttt ttttttRRRtttttt ttttttRRRtttttt tttttttRttttttt tttttttwttttttt tttttttwttttttt tttttttwttttttt tttttttwttttttt tttttttwttttttt tttttttwttttttt tttttttwttttttt ";c=[new Obstacle("pillar",6,7),new Obstacle("pillar",
5,7),new Obstacle("pillar",4,7),new Obstacle("pillar",3,7),new Obstacle("pillar",2,7),new Obstacle("pillar",1,7),new Obstacle("pillar",0,7),new Obstacle("pillar",8,7),new Obstacle("pillar",9,7),new Obstacle("pillar",10,7),new Obstacle("pillar",11,7),new Obstacle("pillar",12,7),new Obstacle("pillar",13,7),new Obstacle("pillar",14,7),new Steppable("flag",0,3),new Obstacle("barrel",2,5),new Obstacle("barrel",3,5),new Obstacle("barrel",4,5),new Obstacle("barrel",2,1),new Obstacle("barrel",3,1),new Obstacle("barrel",
4,1),new Obstacle("box",11,2),new Obstacle("box",11,3),new Obstacle("box",11,3),new Obstacle("box",11,4),new Obstacle("barrel",2,11),new Obstacle("barrel",12,9),new Obstacle("barrel",9,14),new Obstacle("box",6,8),new Obstacle("box",1,14),new Obstacle("box",10,9),new Obstacle("box",14,13),new Obstacle("chair",10,11),new Obstacle("chair",6,11),new Obstacle("chair",2,8),new Obstacle("chair",8,13),new Obstacle("chair",1,13),new Obstacle("box",4,13),new Obstacle("box",14,11),new Obstacle("barrel",8,9),
new Steppable("full-heart",12,3),new Steppable("full-heart",0,14)];d=[new Enemy("Turkey",6,10,10),new Enemy("Bunny",5,10,10),new Enemy("Ostrich",7,7,10,1),new Enemy("Mouse",7,3,10),new Enemy("Llama",2,3,10),new Enemy("Bunny",7,5,10)];e=[[7,13],[3,12],[9,12],[10,14],[5,14]];f=[dEnemy("Bunny","Yo, Turks! Want some pizza?"),dEnemy("Turkey","Nah, I'll take some wings. Extra sauce, man."),dCharacter("A turkey? Eating wings?"),dEnemy("Ostrich","Hey! What are you guys doing?!?"),dEnemy("Ostrich","How dare you not save me some wings!"),
dEnemy("Llama","'Tis a most excellent morning, is it not, my good rodent?"),dEnemy("Mouse","I concur wholly. Would you care for some biscuits?"),dEnemy("Llama","I would most definitely enjoy some comestibles. Marmalade, if you will, sir."),dCharacter("What's up with them?"),dEnemy("Bunny","Yo, what? Oh, they're on the 'prim and proper' side. Little bit of red carpet makes 'em think they're <em>sooo</em> fancy and important."),dEnemy("Turkey","Yeah, we know what's <em>really</em> important. Junk food, TV, and relaxation. It's a good life.")];
break;case 8:b="ttttttWRWtttttt ttttttWRWtttttt ttttttbRbtttttt ttttttWRWtttttt ttttWWWRWWWtttt ttttWRRRRRWtttt WWBWWRRRRRWWBWW RRRRRRRRRRRRRRR WWBWWRRRRRWWBWW ttttWRRRRRWtttt ttttWWWRWWWtttt ttttttWRWtttttt ttttttbRbtttttt ttttttWRWtttttt ttttttWRWtttttt ";c=[new Steppable("flag",0,7),new Obstacle("pillar",0,9),new Obstacle("pillar",1,9),new Obstacle("pillar",2,9),new Obstacle("pillar",3,9),new Obstacle("barrel",5,7),new Obstacle("barrel",8,5),new Obstacle("barrel",9,13),new Obstacle("barrel",11,
4),new Obstacle("barrel",5,0),new Obstacle("barrel",1,3),new Obstacle("barrel",1,13),new Obstacle("barrel",4,12),new Obstacle("barrel",11,11),new Obstacle("barrel",13,7),new Obstacle("barrel",12,1),new Obstacle("barrel",14,2),new Obstacle("barrel",7,3),new Steppable("full-heart",7,6),new Steppable("half-heart",8,12),new Steppable("half-heart",6,2)];d=[new Enemy("Llama",7,7,10,0.5),new Enemy("Ostrich",13,10,10),new Enemy("Peacock",2,8,10),new Enemy("Ostrich",10,3,10),new Enemy("Mouse",3,1,10),new Enemy("Bunny",
7,0,10)];e=[[3,10],[1,2],[12,13],[11,0],[5,9]];f=[dEnemy("Llama","Behold! I have found that which hath escaped me! The defilers themselves!"),dCharacter("Dr. L-l-llama?"),dEnemy("Llama","Yes, foolish pachyderm! Thou thinkest that I would sit alone like the others? Ha! Thou art a general offense!"),dCharacter("So, Dr. Llama, I've always wanted to know two things: why'd you steal all the donuts, and what's your first name?"),dEnemy("Llama","My reasons for the misappropriation of the aforementioned pastries are profound, and far beyond the scope of the mind of a mere mortal such as yourself! My mind is an enigma!"),
dCharacter("OK, so what's your first name?"),dEnemy("Llama","Er, uh, my... <em>premier</em>... <em>sobriquet</em>... let's see... is... uh... curse you, thesaurus! Why must you fail so much!"),dCharacter("Right. Where's the real Dr. Llama?"),dEnemy("Mouse","Right upstairs.")];g=[dCharacter("Here we go... let's hope the real guy isn't as much of a thesaurus-thug as that last guy.")];break;case 9:b="twwwwwtttwwwwwt ttwRwtttttwRwtt tttRtttttttRttt tttRtttttttRttt tttRtttttttRttt tttRtttttttRttt tttRtttttttRttt tttRRRRRRRRRttt tttttttRttttttt tttttttRttttttt tttttttRttttttt ttRttttRttttRtt tRRRtttRtttRRRt ttRttttRttttRtt tttttttRttttttt ";
c=[new Obstacle("barrel",8,7),new Obstacle("barrel",9,7),new Obstacle("barrel",10,7),new Obstacle("barrel",11,7),new Obstacle("barrel",11,6),new Obstacle("barrel",11,5),new Obstacle("barrel",11,4),new Obstacle("barrel",11,3),new Obstacle("barrel",11,2),new Obstacle("chair",8,0),new Obstacle("chair",9,1),new Obstacle("chair",10,2),new Obstacle("chair",12,2),new Obstacle("chair",13,1),new Obstacle("chair",0,0),new Obstacle("chair",1,1),new Obstacle("chair",2,2),new Obstacle("chair",4,2),new Obstacle("chair",
5,1),new Obstacle("chair",6,0),new Obstacle("pillar",1,9),new Obstacle("pillar",2,9),new Obstacle("pillar",3,9),new Obstacle("pillar",11,9),new Obstacle("pillar",12,9),new Obstacle("pillar",13,9),new Steppable("full-heart",4,10),new Steppable("full-heart",10,10),new Steppable("full-heart",7,4),new Steppable("flag",3,0),new Obstacle("barrel",4,14),new Obstacle("barrel",5,13),new Obstacle("barrel",6,12),new Obstacle("barrel",8,12),new Obstacle("barrel",9,13),new Obstacle("barrel",10,14),new Steppable("secret-entrance",
11,0)];d=[new Boss("Llama","Dr. Llama",3,1,10)];e=[[7,12],[3,12],[11,12],[1,12],[13,12]];f=[dEnemy("Llama","Oh, hello! So nice of you to drop in on such short notice... please, sit down. Tea or coffee?","Dr. Llama"),dCharacter("Er, are you... OK?"),dEnemy("Llama","Oh, yes, perfectly chipper, actually. My plan to steal all of the world's donuts is quite nearly successful; I am in possession of in excess of one million donuts. There was, I believe, an elephant who often showed up at just the wrong time to thwart some of my plans, a rather unfortunate coincidence.",
"Dr. Llama"),dEnemy("Llama"," However, I have developed bigger and better plans, and I hear that said elephant is in my castle at this very moment. As such, I will have my minions crush him and, with nothing standing in my way, proceed to finish my quest. Cream and sugar?","Dr. Llama"),dCharacter("Oh, no... I prefer my coffee black. But&mdash;"),dEnemy("Llama","Oh my, I apologize for the confusion. I meant your donut. Cream and sugar? Vanilla or chocolate? I've a vast variety of donuts at my disposal. Perhaps try this blueberry and tomato one? Very tasty, actually.",
"Dr. Llama"),dCharacter("Well, I hate to break it to you, doctor, but <em>I'm</em> that elephant you were talking about."),dEnemy("Llama","Elephant? What elephant? Oh! Were you the one who was going to perform the inspection of my donut stock? Rest assured, sir, that I keep my donuts properly stored and preserved.","Dr. Llama"),dCharacter("No! I'm that one who you said was thwarting all your plans, showing up at just the wrong time, remember? The one you said you were going to crush?"),dEnemy("Llama",
"Oh, yes, yes, I remember now. Nice to meet you. Well, then, we must settle this dispute in a fair and equitable way, should we not? Do you know any bridge?","Dr. Llama"),dCharacter("Call me crazy, but I was thinking about, you know, <em>fighting</em> it out, seeing as that's all I've been doing for the last, oh, two hundred-odd minions of yours?"),dEnemy("Llama","Ah, the old gentlemen's duel. Very well. I'll be there in a jiffy; this imported coffee isn't going to drink itself, what?","Dr. Llama"),
dCharacter("Say, I've always wondered, doctor, why do you want to steal all the world's donuts?"),dEnemy("Llama","A fair question, young sir. To be honest, I have no idea. Just a passing whim. But if you were a multimillionaire with nothing better to do, I'm sure you'd see where I'm coming from. And now, we must, ah, fight. Good luck.","Dr. Llama")];g=[dEnemy("Llama","Ah... I knew... we should have played bridge... you win this battle, young pachyderm, and the donuts are yours... well done...","Dr. Llama"),
dEnemy("Llama","But... if you think... you've defeated all the evil in this world... then, my friend, you are sorely mistaken... do you see that darkened circle behind the other throne?... Try again next time... and He will be waiting...","Dr. Llama")];break;case SECRET_STAGE:b="tttWWRRRRRWWttt ttWWRRRRRRRWWtt tttWWRRRRRWWttt ttttWWRRRWWtttt tttWWWWRWWWWttt ttWWWtttttWWWtt tWWWtttttttWWWt tWWtttttttttWWt tWtttttttttttWt tRtttttttttttRt tWtttttttttttWt tWWWRtttttRWWWt ttWWWWWRWWWWWtt tttWWWWtWWWWttt ttttttttttttttt ",
c=[new Obstacle("pillar",5,7),new Obstacle("pillar",5,8),new Obstacle("pillar",5,9),new Obstacle("pillar",9,7),new Obstacle("pillar",9,8),new Obstacle("pillar",9,9),new Obstacle("pillar",4,8),new Obstacle("pillar",10,8),new Obstacle("pillar",1,1),new Obstacle("pillar",2,2),new Obstacle("pillar",3,3),new Obstacle("pillar",2,4),new Obstacle("pillar",1,5),new Obstacle("pillar",13,5),new Obstacle("pillar",12,4),new Obstacle("pillar",11,3),new Obstacle("pillar",12,2),new Obstacle("pillar",13,1),new Obstacle("pillar",
1,12),new Obstacle("pillar",2,13),new Obstacle("pillar",12,13),new Obstacle("pillar",13,12),new Steppable("full-heart",7,8),new Steppable("full-heart",0,14),new Steppable("full-heart",14,14),new Steppable("full-heart",14,0),new Steppable("full-heart",0,0),new Steppable("flag",7,0)],d=[new Boss("Elephant","Donald Trunk",7,1,10)],e=[[7,12],[1,9],[13,9],[4,11],[10,11]],f=[dCharacter("What the...? Who are you?"),dEnemy("Elephant_Boss","Me? I am none other than the famed tycoon Donald Trunk! You should know me and my hair by now!",
"Donald Trunk"),dCharacter("But... what about Dr. Llama?"),dEnemy("Elephant_Boss","You think I'd let that idiotic, crumpet-eating camelid handle the affairs of this entire operation? No! It takes a genius to run such a huge affair, and I am an official card-carrying genius.","Donald Trunk"),dCharacter("But then why would you use Llama anyway?"),dEnemy("Elephant_Boss","He was rich and stupid! I was going to make him <em>seem</em> like the guy who stole all the donuts, then kill him and look like a hero. Imagine the huge amounts of fame I'd amass! I'd be trending on Twitter for weeks - no, years! - on end!",
"Donald Trunk"),dCharacter("But you're famous enough as is."),dEnemy("Elephant_Boss","Yeah, sure. But imagine the free publicity that would be given to all my TV shows, rental properties, and presidential bids!","Donald Trunk"),dCharacter("So you stole all the world's donuts as a publicity stunt?"),dEnemy("Elephant_Boss","Mostly. But imagine, I could give back only a fraction of the donuts - then sell the remainder at massive prices! You can never be too rich or too famous!","Donald Trunk"),dCharacter("OK, this does it. You caused us all this pain and suffering, everyone, and for what? For more cash and fame!"),
dEnemy("Elephant_Boss","Isn't it... beautiful? I knew you'd agree, it was a great plan. And because you killed Dr. Llama, I can't have you escape, now can I? Looks like you'll have to go too if I want my plan to succeed.","Donald Trunk"),dCharacter("You're not getting away with this! EN GARDE!")]}return new Level(5,a,b,"tile",c,d,e,f,g,h)}));
